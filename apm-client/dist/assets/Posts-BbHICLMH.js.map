{"version":3,"file":"Posts-BbHICLMH.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/AdjustmentsHorizontalIcon.js","../../src/components/user/PostFiltersPanel.tsx","../../src/pages/user/Posts.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction AdjustmentsHorizontalIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(AdjustmentsHorizontalIcon);\nexport default ForwardRef;","import React from 'react';\nimport { PostFilters } from '../../types/post';\nimport { useSelector } from 'react-redux';\nimport type { RootState } from '../../store';\n\ninterface PostFiltersPanelProps {\n  filters: PostFilters;\n  onFiltersChange: (filters: Partial<PostFilters>) => void;\n  onClearSearch?: () => void;\n  className?: string;\n}\n\nconst PostFiltersPanel: React.FC<PostFiltersPanelProps> = ({\n  filters,\n  onFiltersChange,\n  onClearSearch,\n  className = '',\n}) => {\n  const { user } = useSelector((state: RootState) => state.auth);\n\n  // Show publish/archive filters for admin\n  const showPublishFilters = user?.role === 'SUPER_ADMIN';\n\n  return (\n    <div className={`space-y-4 ${className}`}>\n      {/* Publish Status Filter (Admin only) */}\n      {showPublishFilters && (\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            Publication Status\n          </label>\n          <select\n            value={filters.isPublished === undefined ? 'ALL' : filters.isPublished ? 'PUBLISHED' : 'UNPUBLISHED'}\n            onChange={(e) => {\n              const value = e.target.value;\n              onFiltersChange({ \n                isPublished: value === 'ALL' ? undefined : value === 'PUBLISHED'\n              });\n            }}\n            className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"ALL\">All Posts</option>\n            <option value=\"PUBLISHED\">Published</option>\n            <option value=\"UNPUBLISHED\">Unpublished</option>\n          </select>\n        </div>\n      )}\n\n      {/* Date Range Filter */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n          Date Range\n        </label>\n        <div className=\"space-y-2\">\n          <input\n            type=\"date\"\n            value={filters.dateFrom || ''}\n            onChange={(e) => onFiltersChange({ \n              dateFrom: e.target.value || undefined \n            })}\n            className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"From date\"\n          />\n          <input\n            type=\"date\"\n            value={filters.dateTo || ''}\n            onChange={(e) => onFiltersChange({ \n              dateTo: e.target.value || undefined \n            })}\n            className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"To date\"\n          />\n        </div>\n      </div>\n\n\n      {/* Clear Filters */}\n      <button\n        onClick={() => {\n          onFiltersChange({\n            isPublished: true,\n            isArchived: false,\n            category: undefined,\n            dateFrom: undefined,\n            dateTo: undefined,\n            tags: undefined,\n            author: undefined,\n          });\n          onClearSearch?.();\n        }}\n        className=\"w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors\"\n      >\n        Clear All Filters\n      </button>\n    </div>\n  );\n};\n\nexport default PostFiltersPanel;","import React, { useState, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  PlusIcon,\n  FunnelIcon,\n  MagnifyingGlassIcon,\n  AdjustmentsHorizontalIcon,\n} from '@heroicons/react/24/outline';\nimport { useSelector } from 'react-redux';\nimport type { RootState } from '../../store';\nimport { \n  useGetPostsQuery, \n  useDeletePostMutation,\n  useArchivePostMutation \n} from '../../store/api/postApi';\nimport { PostFilters, POST_CATEGORIES, POST_SORT_OPTIONS } from '../../types/post';\nimport PostCard from '../../components/user/PostCard';\nimport CreatePostModal from '../../components/user/CreatePostModal';\nimport PostFiltersPanel from '../../components/user/PostFiltersPanel';\nimport LoadingSpinner from '../../components/common/UI/LoadingSpinner';\nimport { Button } from '../../components/common/UI/Button';\nimport toast from 'react-hot-toast';\nimport type { Post } from '../../types/post';\n\nconst PostsPage: React.FC = () => {\n  const { user } = useSelector((state: RootState) => state.auth);\n  const [filters, setFilters] = useState<PostFilters>({\n    page: 1,\n    limit: 10,\n    isPublished: true,\n    isArchived: false,\n    sortBy: 'createdAt',\n    sortOrder: 'desc',\n  });\n  \n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [editingPost, setEditingPost] = useState<Post | null>(null);\n  const [showFilters, setShowFilters] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const observer = useRef<IntersectionObserver>();\n  const isInitialMount = useRef(true);\n  \n  // Mutations for post actions\n  const [deletePost] = useDeletePostMutation();\n  const [archivePost] = useArchivePostMutation();\n\n\n  // Query for posts with optimized caching for real-time interactions\n  const {\n    data: postsResponse,\n    isLoading,\n    isFetching,\n    error,\n    refetch,\n  } = useGetPostsQuery(filters, {\n    pollingInterval: 0, // Disable polling to prevent interference\n    refetchOnFocus: false, // Don't refetch when window gets focus\n    refetchOnReconnect: true, // Refetch when reconnecting\n    refetchOnMountOrArgChange: false, // Don't refetch on mount to preserve cache\n    skip: false, // Never skip the query\n    // Increase cache time to persist data longer across navigation\n    keepUnusedDataFor: 300, // Keep data for 5 minutes\n  });\n\n  // Use RTK Query data directly like Polls component - no local state management\n  const posts = postsResponse?.posts || [];\n  const hasNextPage = postsResponse?.pagination?.hasNext || false;\n\n  // Infinite scroll reference callback\n  const lastPostElementRef = useCallback((node: HTMLDivElement | null) => {\n    if (isLoading || isFetching) return;\n    if (observer.current) observer.current.disconnect();\n    \n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasNextPage) {\n        setFilters(prev => ({ ...prev, page: prev.page! + 1 }));\n      }\n    });\n    \n    if (node) observer.current.observe(node);\n  }, [isLoading, isFetching, hasNextPage]);\n\n  // Handle filter changes\n  const handleFilterChange = (newFilters: Partial<PostFilters>) => {\n    setFilters(prev => ({ ...prev, ...newFilters, page: 1 }));\n  };\n\n  // Handle clear search\n  const handleClearSearch = () => {\n    setSearchQuery('');\n  };\n\n  // Handle search\n  const handleSearch = () => {\n    setFilters(prev => ({ ...prev, page: 1 }));\n  };\n\n  // Auto search when search query changes (with debounce)\n  React.useEffect(() => {\n    // Skip effect on initial mount\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n      return;\n    }\n\n    // Only trigger search if we actually have a search query\n    if (searchQuery.trim()) {\n      const timeoutId = setTimeout(() => {\n        setFilters(prev => ({ \n          ...prev, \n          page: 1,\n          search: searchQuery.trim()\n        }));\n      }, 500); // 500ms debounce\n\n      return () => clearTimeout(timeoutId);\n    } else {\n      // If search is cleared, immediately refresh\n      setFilters(prev => ({ \n        ...prev, \n        page: 1,\n        search: undefined\n      }));\n    }\n  }, [searchQuery]);\n\n  // Handle sort change\n  const handleSortChange = (value: string) => {\n    const [sortBy, sortOrder] = value.split(':') as [string, 'asc' | 'desc'];\n    handleFilterChange({ sortBy, sortOrder });\n  };\n\n  // Handle post edit\n  const handleEditPost = (post: Post) => {\n    setEditingPost(post);\n    setShowCreateModal(true);\n  };\n\n  // Handle post delete\n  const handleDeletePost = async (postId: string) => {\n    if (!window.confirm('Are you sure you want to delete this post? This action cannot be undone.')) {\n      return;\n    }\n\n    try {\n      await deletePost(postId).unwrap();\n      toast.success('Post deleted successfully');\n      // RTK Query will automatically update cache via invalidatesTags\n    } catch (error: any) {\n      console.error('Failed to delete post:', error);\n      const errorMessage = error?.data?.message || 'Failed to delete post';\n      toast.error(errorMessage);\n    }\n  };\n\n  // Handle post archive\n  const handleArchivePost = async (postId: string) => {\n    if (!window.confirm('Are you sure you want to archive this post?')) {\n      return;\n    }\n\n    try {\n      await archivePost(postId).unwrap();\n      toast.success('Post archived successfully');\n      // RTK Query will automatically update cache via invalidatesTags\n    } catch (error: any) {\n      console.error('Failed to archive post:', error);\n      const errorMessage = error?.data?.message || 'Failed to archive post';\n      toast.error(errorMessage);\n    }\n  };\n\n  // Handle modal close\n  const handleCloseModal = () => {\n    setShowCreateModal(false);\n    setEditingPost(null);\n  };\n\n  // Check if user can create posts\n  const canCreatePost = user?.isAlumniVerified && !user?.isBlacklisted;\n\n  return (\n    <div className=\"h-full flex flex-col bg-gray-50 dark:bg-gray-900\">\n      {/* Header - Fixed */}\n      <div className=\"flex-shrink-0 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Posts</h1>\n              <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Connect and share with the community</p>\n            </div>\n\n            {canCreatePost && (\n              <Button\n                onClick={() => setShowCreateModal(true)}\n                className=\"flex items-center space-x-2\"\n              >\n                <PlusIcon className=\"h-5 w-5\" />\n                <span>Create Post</span>\n              </Button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content Area - Fixed Layout */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 h-full\">\n          {/* Mobile Filters Toggle */}\n          <div className=\"lg:hidden mb-4\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowFilters(!showFilters)}\n              className=\"flex items-center space-x-2\"\n            >\n              <AdjustmentsHorizontalIcon className=\"h-4 w-4\" />\n              <span>Filters</span>\n            </Button>\n          </div>\n\n          <div className=\"flex gap-6 h-full\">\n            {/* Filters Sidebar - Fixed */}\n            <div className=\"w-80 flex-shrink-0 hidden lg:block\">\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sticky top-0\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Filters</h3>\n                </div>\n\n                {/* Search */}\n                <div className=\"mb-4\">\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      placeholder=\"Search by title or author...\"\n                      className=\"w-full pl-10 pr-8 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                    <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400 dark:text-gray-500 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n                    {searchQuery && (\n                      <button\n                        onClick={() => setSearchQuery('')}\n                        className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                        title=\"Clear search\"\n                      >\n                        ✕\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                {/* Sort */}\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Sort by\n                  </label>\n                  <select\n                    value={`${filters.sortBy}:${filters.sortOrder}`}\n                    onChange={(e) => handleSortChange(e.target.value)}\n                    className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    {POST_SORT_OPTIONS.map((option) => (\n                      <option key={option.value} value={option.value}>\n                        {option.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Category Filter */}\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Category\n                  </label>\n                  <select\n                    value={filters.category || ''}\n                    onChange={(e) => handleFilterChange({ \n                      category: e.target.value || undefined \n                    })}\n                    className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">All Categories</option>\n                    {POST_CATEGORIES.map((category) => (\n                      <option key={category.value} value={category.value}>\n                        {category.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Additional Filters */}\n                <PostFiltersPanel\n                  filters={filters}\n                  onFiltersChange={handleFilterChange}\n                  onClearSearch={handleClearSearch}\n                  className=\"block\"\n                />\n              </div>\n            </div>\n\n            {/* Posts List - Scrollable */}\n            <div className=\"flex-1 overflow-y-auto h-full\">\n            {/* Loading state for initial load */}\n            {isLoading && posts.length === 0 && (\n              <div className=\"flex justify-center items-center py-12\">\n                <LoadingSpinner size=\"lg\" />\n              </div>\n            )}\n\n            {/* Error state */}\n            {error && (\n              <div className=\"text-center py-12\">\n                <div className=\"text-red-600 dark:text-red-400 mb-4\">\n                  Failed to load posts. Please try again.\n                </div>\n                <Button onClick={() => refetch()}>\n                  Retry\n                </Button>\n              </div>\n            )}\n\n\n            {/* Posts */}\n            {posts && posts.length > 0 && (\n              <div className=\"space-y-6\">\n                <AnimatePresence mode=\"popLayout\">\n                  {posts.map((post, index) => (\n                    <motion.div\n                      key={post.id}\n                      ref={index === posts.length - 1 ? lastPostElementRef : null}\n                      initial={{ opacity: 0, y: 20 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      exit={{ opacity: 0, y: -20 }}\n                      transition={{ duration: 0.3, delay: index * 0.05 }}\n                    >\n                      <PostCard \n                        post={post} \n                        onEdit={handleEditPost}\n                        onDelete={handleDeletePost}\n                        onArchive={handleArchivePost}\n                      />\n                    </motion.div>\n                  ))}\n                </AnimatePresence>\n\n                {/* Loading more indicator */}\n                {isFetching && (\n                  <div className=\"flex justify-center py-6\">\n                    <LoadingSpinner />\n                  </div>\n                )}\n\n                {/* End of posts indicator */}\n                {!hasNextPage && posts.length > 0 && (\n                  <div className=\"text-center py-6 text-gray-500 dark:text-gray-400\">\n                    You've reached the end of posts\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Empty state */}\n            {!isLoading && !error && (!posts || posts.length === 0) && (\n              <div className=\"text-center py-12\">\n                <div className=\"text-gray-500 dark:text-gray-400 mb-4\">\n                  {searchQuery || filters.category ? \n                    \"No posts found matching your criteria\" : \n                    \"No posts available\"}\n                </div>\n                {canCreatePost && !searchQuery && !filters.category && (\n                  <Button onClick={() => setShowCreateModal(true)}>\n                    Create the first post\n                  </Button>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n        </div>\n      </div>\n\n      {/* Mobile Filters Modal */}\n      {showFilters && (\n        <div className=\"lg:hidden fixed inset-0 z-50 bg-black bg-opacity-50\" onClick={() => setShowFilters(false)}>\n          <div className=\"absolute right-0 top-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl transform transition-transform\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Filters</h3>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setShowFilters(false)}\n                >\n                  Close\n                </Button>\n              </div>\n            </div>\n            <div className=\"p-4 overflow-y-auto h-full\">\n              {/* Search */}\n              <div className=\"mb-4\">\n                <div className=\"relative\">\n                  <input\n                    type=\"text\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    placeholder=\"Search by title or author...\"\n                    className=\"w-full pl-10 pr-8 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                  <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400 dark:text-gray-500 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n                  {searchQuery && (\n                    <button\n                      onClick={() => setSearchQuery('')}\n                      className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                      title=\"Clear search\"\n                    >\n                      ✕\n                    </button>\n                  )}\n                </div>\n              </div>\n\n              {/* Sort */}\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Sort by\n                </label>\n                <select\n                  value={`${filters.sortBy}:${filters.sortOrder}`}\n                  onChange={(e) => handleSortChange(e.target.value)}\n                  className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  {POST_SORT_OPTIONS.map((option) => (\n                    <option key={option.value} value={option.value}>\n                      {option.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Category Filter */}\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Category\n                </label>\n                <select\n                  value={filters.category || ''}\n                  onChange={(e) => handleFilterChange({ \n                    category: e.target.value || undefined \n                  })}\n                  className=\"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"\">All Categories</option>\n                  {POST_CATEGORIES.map((category) => (\n                    <option key={category.value} value={category.value}>\n                      {category.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Additional Filters */}\n              <PostFiltersPanel\n                filters={filters}\n                onFiltersChange={handleFilterChange}\n                onClearSearch={handleClearSearch}\n                className=\"block\"\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Create Post Modal */}\n      <CreatePostModal\n        isOpen={showCreateModal}\n        onClose={handleCloseModal}\n        editPost={editingPost}\n      />\n    </div>\n  );\n};\n\nexport default PostsPage;"],"names":["AdjustmentsHorizontalIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","PostFiltersPanel","filters","onFiltersChange","onClearSearch","className","user","useSelector","state","showPublishFilters","jsxs","jsx","e","value","PostsPage","setFilters","useState","showCreateModal","setShowCreateModal","editingPost","setEditingPost","showFilters","setShowFilters","searchQuery","setSearchQuery","observer","useRef","isInitialMount","deletePost","useDeletePostMutation","archivePost","useArchivePostMutation","postsResponse","isLoading","isFetching","error","refetch","useGetPostsQuery","posts","hasNextPage","lastPostElementRef","useCallback","node","entries","prev","handleFilterChange","newFilters","handleClearSearch","React","timeoutId","handleSortChange","sortBy","sortOrder","handleEditPost","post","handleDeletePost","postId","toast","errorMessage","handleArchivePost","handleCloseModal","canCreatePost","Button","PlusIcon","MagnifyingGlassIcon","POST_SORT_OPTIONS","option","POST_CATEGORIES","category","LoadingSpinner","AnimatePresence","index","motion","PostCard","CreatePostModal"],"mappings":"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","x_google_ignoreList":[0]}