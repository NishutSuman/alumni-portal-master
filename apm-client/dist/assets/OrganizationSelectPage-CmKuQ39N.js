import{j as e}from"./ui-BlmhFX_F.js";import{r as t}from"./router-DFnE1L-t.js";import{C as v}from"./redux-VN59sPcb.js";import{O as b,s as N,r as k,t as w,v as z,w as C,p as O}from"./index-DHymdRDT.js";import{T as L}from"./ThemeToggle-DELYC9XS.js";import{F as S}from"./BuildingOfficeIcon-2E4mAkhi.js";import{F as I}from"./MagnifyingGlassIcon-C2UCCqkW.js";import"./vendor-gH-7aFTg.js";const E=({org:a,className:c=""})=>{const[s,l]=t.useState(z(a)),[o,x]=t.useState(!1),[m,g]=t.useState(!s);t.useEffect(()=>{!s&&!o&&C(a).then(d=>{d?.logoUrl&&l(d.logoUrl),g(!1)})},[a,s,o]);const n=()=>{const d=a.shortName.split(" ").map(u=>u[0]).join("").substring(0,2).toUpperCase();return e.jsx("div",{className:`bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold ${c}`,children:d})};return m?e.jsx("div",{className:`bg-gray-200 dark:bg-gray-600 rounded-lg animate-pulse ${c}`}):o||!s?n():e.jsx("img",{src:s,alt:a.name,className:`rounded-lg object-cover ${c}`,onError:()=>x(!0)})},B=()=>{const[a,c]=t.useState(""),[s,l]=t.useState(null),[o,x]=t.useState(!1),[m,g]=t.useState(!0),[n,d]=t.useState(""),[u,h]=t.useState(b),y=v(N);t.useEffect(()=>{(async()=>{g(!0);try{const i=await k();i.length>0?h(i):h(b)}catch(i){console.error("Failed to fetch organizations:",i),h(b)}finally{g(!1)}})()},[]);const p=u.filter(r=>r.name.toLowerCase().includes(n.toLowerCase())||r.code.toLowerCase().includes(n.toLowerCase())||r.shortName.toLowerCase().includes(n.toLowerCase())),f=r=>{x(!0),l(null),w(r),setTimeout(()=>{window.location.href="/auth/login"},300)},j=r=>{if(r.preventDefault(),l(null),!a.trim()){l("Please enter an organization code");return}const i=O(a.trim());if(!i){l("Invalid organization code. Please check and try again.");return}f(i)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center h-10",children:e.jsx("img",{src:y?"/brand/guild-logo-white.png":"/brand/guild-logo.png",alt:"GUILD",className:"h-full w-auto object-contain"})}),e.jsx(L,{})]})})}),e.jsx("div",{className:"min-h-screen flex items-center justify-center pt-16 px-4 py-4",children:e.jsxs("div",{className:"max-w-lg w-full",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(S,{className:"w-7 h-7 text-white"})})}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600",children:"Select Your Organization"})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose your school or enter your organization code"})]}),s&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-200 p-3 rounded-lg mb-4 border border-red-200 dark:border-red-800 text-sm",children:s}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:r=>d(r.target.value),placeholder:"Search organizations...",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm"})]}),e.jsx("div",{className:"space-y-2 mb-5 max-h-48 overflow-y-auto",children:m?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading organizations..."})]}):p.length>0?p.map(r=>e.jsx("button",{onClick:()=>f(r),disabled:o,className:"w-full p-3 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:border-blue-300 dark:hover:border-blue-600 transition-all text-left group disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{org:r,className:"w-10 h-10 text-sm flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-sm text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors truncate",children:r.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",r.code]})]}),e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},r.code)):n?e.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm",children:e.jsxs("p",{children:['No organizations found matching "',n,'"']})}):e.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm",children:e.jsx("p",{children:"No organizations available. Please enter your organization code below."})})}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"px-3 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or enter code manually"})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Organization Code"}),e.jsx("input",{type:"text",value:a,onChange:r=>c(r.target.value.toUpperCase()),placeholder:"Enter organization code (e.g., NAAO)",className:"w-full px-3 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all uppercase text-sm",disabled:o})]}),e.jsx("button",{type:"submit",disabled:o||!a.trim(),className:"w-full py-3 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-lg font-semibold text-sm hover:shadow-lg hover:scale-[1.02] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:o?"Connecting...":"Continue"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Don't know your organization code?"," ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Contact your alumni administrator"})]})})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Powered by"," ",e.jsx("span",{className:"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Digikite"})]})})]})})]})};export{B as default};
//# sourceMappingURL=OrganizationSelectPage-CmKuQ39N.js.map
