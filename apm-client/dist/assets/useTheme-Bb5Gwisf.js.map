{"version":3,"file":"useTheme-Bb5Gwisf.js","sources":["../../src/hooks/useTheme.ts"],"sourcesContent":["// src/hooks/useTheme.ts\n// GUILD Theme Management Hook\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useEffect } from 'react'\nimport {\n  setThemeMode,\n  setSystemDark,\n  setPrimaryColor,\n  setAccentColor,\n  toggleAnimations,\n  setReducedMotion,\n  setFontSize,\n  toggleCompactMode,\n  resetTheme,\n  selectTheme,\n  selectIsDark,\n  selectAnimations,\n} from '@/store/slices/themeSlice'\n\nexport const useTheme = () => {\n  const dispatch = useDispatch()\n  const theme = useSelector(selectTheme)\n  const isDark = useSelector(selectIsDark)\n  const animationsEnabled = useSelector(selectAnimations)\n\n  // Listen to system theme changes\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n    \n    const handleChange = (e: MediaQueryListEvent) => {\n      dispatch(setSystemDark(e.matches))\n    }\n    \n    // Set initial system theme\n    dispatch(setSystemDark(mediaQuery.matches))\n    \n    // Listen for changes\n    mediaQuery.addEventListener('change', handleChange)\n    \n    return () => mediaQuery.removeEventListener('change', handleChange)\n  }, [dispatch])\n\n  // Listen to reduced motion preference\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)')\n    \n    const handleChange = (e: MediaQueryListEvent) => {\n      dispatch(setReducedMotion(e.matches))\n    }\n    \n    // Set initial preference\n    dispatch(setReducedMotion(mediaQuery.matches))\n    \n    // Listen for changes\n    mediaQuery.addEventListener('change', handleChange)\n    \n    return () => mediaQuery.removeEventListener('change', handleChange)\n  }, [dispatch])\n\n  // Apply theme to document\n  useEffect(() => {\n    const root = document.documentElement\n    \n    // Apply dark/light mode\n    if (isDark) {\n      root.classList.add('dark')\n    } else {\n      root.classList.remove('dark')\n    }\n    \n    // Apply custom colors\n    root.style.setProperty('--guild-primary', theme.primaryColor)\n    root.style.setProperty('--guild-accent', theme.accentColor)\n    \n    // Apply font size\n    const fontSizeMap = {\n      small: '14px',\n      medium: '16px',\n      large: '18px',\n    }\n    root.style.setProperty('--base-font-size', fontSizeMap[theme.fontSize])\n    \n    // Apply compact mode\n    if (theme.compactMode) {\n      root.classList.add('compact')\n    } else {\n      root.classList.remove('compact')\n    }\n  }, [isDark, theme])\n\n  // Theme functions\n  const toggleTheme = () => {\n    const newMode = isDark ? 'light' : 'dark'\n    dispatch(setThemeMode(newMode))\n  }\n\n  const setMode = (mode: 'light' | 'dark' | 'system') => {\n    dispatch(setThemeMode(mode))\n  }\n\n  const updatePrimaryColor = (color: string) => {\n    dispatch(setPrimaryColor(color))\n  }\n\n  const updateAccentColor = (color: string) => {\n    dispatch(setAccentColor(color))\n  }\n\n  const toggleAnimationsEnabled = () => {\n    dispatch(toggleAnimations())\n  }\n\n  const updateFontSize = (size: 'small' | 'medium' | 'large') => {\n    dispatch(setFontSize(size))\n  }\n\n  const toggleCompact = () => {\n    dispatch(toggleCompactMode())\n  }\n\n  const resetToDefaults = () => {\n    dispatch(resetTheme())\n  }\n\n  // Get current theme values\n  const currentTheme = {\n    mode: theme.mode,\n    isDark,\n    primaryColor: theme.primaryColor,\n    accentColor: theme.accentColor,\n    animations: animationsEnabled,\n    fontSize: theme.fontSize,\n    compactMode: theme.compactMode,\n  }\n\n  return {\n    theme: currentTheme,\n    toggleTheme,\n    setMode,\n    updatePrimaryColor,\n    updateAccentColor,\n    toggleAnimations: toggleAnimationsEnabled,\n    updateFontSize,\n    toggleCompact,\n    resetToDefaults,\n  }\n}\n"],"names":["useTheme","dispatch","useDispatch","theme","useSelector","selectTheme","isDark","selectIsDark","animationsEnabled","selectAnimations","useEffect","mediaQuery","handleChange","e","setSystemDark","setReducedMotion","root","fontSizeMap","toggleTheme","setThemeMode","setMode","mode","updatePrimaryColor","color","setPrimaryColor","updateAccentColor","setAccentColor","toggleAnimationsEnabled","toggleAnimations","updateFontSize","size","setFontSize","toggleCompact","toggleCompactMode","resetToDefaults","resetTheme"],"mappings":"wMAoBO,MAAMA,EAAW,IAAM,CAC5B,MAAMC,EAAWC,EAAA,EACXC,EAAQC,EAAYC,CAAW,EAC/BC,EAASF,EAAYG,CAAY,EACjCC,EAAoBJ,EAAYK,CAAgB,EAGtDC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAa,OAAO,WAAW,8BAA8B,EAE7DC,EAAgBC,GAA2B,CAC/CZ,EAASa,EAAcD,EAAE,OAAO,CAAC,CACnC,EAGA,OAAAZ,EAASa,EAAcH,EAAW,OAAO,CAAC,EAG1CA,EAAW,iBAAiB,SAAUC,CAAY,EAE3C,IAAMD,EAAW,oBAAoB,SAAUC,CAAY,CACpE,EAAG,CAACX,CAAQ,CAAC,EAGbS,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAa,OAAO,WAAW,kCAAkC,EAEjEC,EAAgBC,GAA2B,CAC/CZ,EAASc,EAAiBF,EAAE,OAAO,CAAC,CACtC,EAGA,OAAAZ,EAASc,EAAiBJ,EAAW,OAAO,CAAC,EAG7CA,EAAW,iBAAiB,SAAUC,CAAY,EAE3C,IAAMD,EAAW,oBAAoB,SAAUC,CAAY,CACpE,EAAG,CAACX,CAAQ,CAAC,EAGbS,EAAAA,UAAU,IAAM,CACd,MAAMM,EAAO,SAAS,gBAGlBV,EACFU,EAAK,UAAU,IAAI,MAAM,EAEzBA,EAAK,UAAU,OAAO,MAAM,EAI9BA,EAAK,MAAM,YAAY,kBAAmBb,EAAM,YAAY,EAC5Da,EAAK,MAAM,YAAY,iBAAkBb,EAAM,WAAW,EAG1D,MAAMc,EAAc,CAClB,MAAO,OACP,OAAQ,OACR,MAAO,MAAA,EAETD,EAAK,MAAM,YAAY,mBAAoBC,EAAYd,EAAM,QAAQ,CAAC,EAGlEA,EAAM,YACRa,EAAK,UAAU,IAAI,SAAS,EAE5BA,EAAK,UAAU,OAAO,SAAS,CAEnC,EAAG,CAACV,EAAQH,CAAK,CAAC,EAGlB,MAAMe,EAAc,IAAM,CAExBjB,EAASkB,EADOb,EAAS,QAAU,MACN,CAAC,CAChC,EAEMc,EAAWC,GAAsC,CACrDpB,EAASkB,EAAaE,CAAI,CAAC,CAC7B,EAEMC,EAAsBC,GAAkB,CAC5CtB,EAASuB,EAAgBD,CAAK,CAAC,CACjC,EAEME,EAAqBF,GAAkB,CAC3CtB,EAASyB,EAAeH,CAAK,CAAC,CAChC,EAEMI,EAA0B,IAAM,CACpC1B,EAAS2B,GAAkB,CAC7B,EAEMC,EAAkBC,GAAuC,CAC7D7B,EAAS8B,EAAYD,CAAI,CAAC,CAC5B,EAEME,EAAgB,IAAM,CAC1B/B,EAASgC,GAAmB,CAC9B,EAEMC,EAAkB,IAAM,CAC5BjC,EAASkC,GAAY,CACvB,EAaA,MAAO,CACL,MAXmB,CACnB,KAAMhC,EAAM,KACZ,OAAAG,EACA,aAAcH,EAAM,aACpB,YAAaA,EAAM,YACnB,WAAYK,EACZ,SAAUL,EAAM,SAChB,YAAaA,EAAM,WAAA,EAKnB,YAAAe,EACA,QAAAE,EACA,mBAAAE,EACA,kBAAAG,EACA,iBAAkBE,EAClB,eAAAE,EACA,cAAAG,EACA,gBAAAE,CAAA,CAEJ"}