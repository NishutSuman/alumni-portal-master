import{j as e,m as F}from"./ui-o2EL3sck.js";import{r as d}from"./router-BgvBx64T.js";import{u as W}from"./index.esm-Cslq-b9M.js";import{o as H,c as ee,d as n,b as ue}from"./index.esm-BIHct899.js";import{f as be,g as fe,h as ye,i as he,j as pe,k as G}from"./adminApi-yGkl_75B.js";import{D as we}from"./redux-BejLzyCF.js";import{u as je}from"./index-CR7i03R2.js";import{L as ke}from"./LoadingSpinner-Vtvv1Ip3.js";import{F as h,P as Q,a as _}from"./PDFModal-B5KxwEXh.js";import{F as Ne}from"./ExclamationTriangleIcon-CN3zIufB.js";import{F as ve}from"./InformationCircleIcon-tQtX4v7w.js";import{F as Ue}from"./BuildingOfficeIcon-CBTzfCjr.js";import{F as Fe}from"./GlobeAltIcon-BVVVn2FV.js";import{F as R}from"./UserGroupIcon-DpuBUa9P.js";import{F as O}from"./XMarkIcon-B58Eb0hU.js";import{F as K}from"./PencilIcon-CGtBlyj4.js";import{F as D}from"./CheckIcon-B_tjaMlt.js";import{F as Z}from"./PhotoIcon-DMrbcBnP.js";import"./vendor-c5ypKtDW.js";import"./charts-BCoBxCZc.js";import"./ChevronRightIcon-DBNDVvZT.js";const ze=ee({name:n().required("Organization name is required").min(3,"Name must be at least 3 characters"),shortName:n().required("Short name is required").min(2,"Short name must be at least 2 characters").max(10,"Short name cannot exceed 10 characters"),foundationYear:ue().required("Foundation year is required").min(1800,"Invalid year").max(new Date().getFullYear(),"Cannot be future year"),officialEmail:n().email("Invalid email").required("Official email is required"),officialContactNumber:n().optional(),officeAddress:n().optional()}),Ce=ee({websiteUrl:n().url("Invalid URL").optional().nullable(),facebookUrl:n().url("Invalid URL").optional().nullable(),instagramUrl:n().url("Invalid URL").optional().nullable(),twitterUrl:n().url("Invalid URL").optional().nullable(),linkedinUrl:n().url("Invalid URL").optional().nullable(),youtubeUrl:n().url("Invalid URL").optional().nullable()}),_e=()=>{const{auth:M}=je(),E=we(),[p,re]=d.useState("basic"),[m,A]=d.useState(!1),[x,I]=d.useState(!1),[k,g]=d.useState([]),[u,N]=d.useState(null),[b,v]=d.useState(null),[f,U]=d.useState(null),[z,B]=d.useState(!1),[ae,$]=d.useState(!1),[te,Y]=d.useState(!1),{data:c,isLoading:se,error:le,refetch:y}=be(),[ie,{isLoading:T}]=fe(),[V,{isLoading:P}]=ye(),[oe,{isLoading:X}]=he(),[Se,{isLoading:C}]=pe(),l=!!c?.organization,t=W({resolver:H(ze),defaultValues:{name:"Jawahar Navodaya Vidyalaya Alumni",shortName:"JNV",foundationYear:1986,officialEmail:"",officialContactNumber:"",officeAddress:""}}),o=W({resolver:H(Ce),defaultValues:{websiteUrl:"",facebookUrl:"",instagramUrl:"",twitterUrl:"",linkedinUrl:"",youtubeUrl:""}});d.useEffect(()=>{if(l&&c.organization){const r=c.organization;if(t.reset({name:r.name||"Jawahar Navodaya Vidyalaya Alumni",shortName:r.shortName||"JNV",foundationYear:r.foundationYear||1986,officialEmail:r.officialEmail||"",officialContactNumber:r.officialContactNumber||"",officeAddress:r.officeAddress||""}),o.reset({websiteUrl:r.websiteUrl||"",facebookUrl:r.facebookUrl||"",instagramUrl:r.instagramUrl||"",twitterUrl:r.twitterUrl||"",linkedinUrl:r.linkedinUrl||"",youtubeUrl:r.youtubeUrl||""}),r.foundingMembers)try{const a=typeof r.foundingMembers=="string"?JSON.parse(r.foundingMembers):r.foundingMembers;if(Array.isArray(a)){const s=a.map(i=>({name:i.name||"",role:i.role||"Founder",year:i.year||new Date().getFullYear()}));g(s)}else g([])}catch{g([])}}else t.reset({name:"Jawahar Navodaya Vidyalaya Alumni",shortName:"JNV",foundationYear:1986,officialEmail:"",officialContactNumber:"",officeAddress:""}),o.reset({websiteUrl:"",facebookUrl:"",instagramUrl:"",twitterUrl:"",linkedinUrl:"",youtubeUrl:""}),g([])},[c,t,o]);const de=async r=>{try{c?.isConfigured?await V(r).unwrap():await ie(r).unwrap(),A(!1),y()}catch(a){console.error("Failed to save organization details:",a),alert(a?.data?.message||"Failed to save organization details")}},ne=async r=>{try{await oe(r).unwrap(),I(!1),y()}catch(a){console.error("Failed to update social links:",a),alert(a?.data?.message||"Failed to update social links")}},ce=()=>{g(r=>[...r,{name:"",role:"Founder",year:new Date().getFullYear()}])},me=r=>{g(a=>a.filter((s,i)=>i!==r))},q=(r,a,s)=>{g(i=>i.map((J,ge)=>ge===r?{...J,[a]:s}:J))},xe=async()=>{try{if(!c?.organization){alert("Organization data not loaded");return}const r=c.organization,a=t.getValues();await V({name:a.name,shortName:a.shortName,foundationYear:a.foundationYear,officialEmail:a.officialEmail,officialContactNumber:a.officialContactNumber,officeAddress:a.officeAddress,logoUrl:r.logoUrl,bylawDocumentUrl:r.bylawDocumentUrl,registrationCertUrl:r.registrationCertUrl,websiteUrl:r.websiteUrl,instagramUrl:r.instagramUrl,facebookUrl:r.facebookUrl,youtubeUrl:r.youtubeUrl,twitterUrl:r.twitterUrl,linkedinUrl:r.linkedinUrl,foundingMembers:k}).unwrap(),y()}catch(r){console.error("Failed to update founding members:",r),alert(r?.data?.message||"Failed to update founding members")}},w=r=>`/api/organization/files/${r}`,S=r=>{const a=document.createElement("input");switch(a.type="file",r){case"logo":a.accept="image/*";break;case"bylaw":a.accept=".pdf,.doc,.docx";break;case"certificate":a.accept=".pdf,image/*";break}a.onchange=s=>{const i=s.target.files?.[0];if(i){switch(r){case"logo":N(i);break;case"bylaw":v(i);break;case"certificate":U(i);break}setTimeout(()=>j(),100)}},a.click()},L=async r=>{const a={logo:"Organization Logo",bylaw:"Bylaw Document",certificate:"Registration Certificate"};if(confirm(`Are you sure you want to delete the ${a[r]}? This action cannot be undone.`))try{const s=await fetch("http://localhost:3000/api/admin/organization/files/delete",{method:"DELETE",headers:{Authorization:`Bearer ${M?.token}`,"Content-Type":"application/json"},body:JSON.stringify({fileType:r})}),i=await s.json();s.ok?(E(G.util.invalidateTags(["Admin","Organization"])),await y(),alert(`${a[r]} deleted successfully`)):alert(i.message||"Failed to delete file")}catch(s){console.error("Error deleting file:",s),alert("Failed to delete file. Please try again.")}},j=async()=>{if(!u&&!b&&!f){alert("Please select at least one file to upload");return}B(!0);try{const r=new FormData;u&&r.append("logoFile",u),b&&r.append("bylawFile",b),f&&r.append("certFile",f),console.log("ðŸ“¤ Uploading files with FormData:",{logoFile:u?.name,bylawFile:b?.name,certFile:f?.name});const a=await fetch("http://localhost:3000/api/admin/organization/admin/upload/files",{method:"POST",headers:{Authorization:`Bearer ${M?.token}`},body:r}),s=await a.json();if(!a.ok)throw new Error(s.message||"Upload failed");N(null),v(null),U(null),E(G.util.invalidateTags(["Admin","Organization"])),await y();const i=Object.keys(s.uploadedFiles||{});alert(`Successfully uploaded ${i.join(", ")} files`)}catch(r){console.error("Failed to upload files:",r),alert(r?.message||"Failed to upload files. Please try again.")}finally{B(!1)}};return se?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx(ke,{})}):le?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-6 w-6 text-red-600 dark:text-red-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-300",children:"Failed to load organization data"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mt-1",children:"Please check your connection and try again."})]})]}),e.jsx("button",{onClick:()=>y(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Retry"})]})}):e.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Organization Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:l?"Manage your organization details and settings":"Initialize your organization profile"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${l?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"}`,children:l?"Configured":"Not Configured"})})]}),!l&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(ve,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Organization Setup Required"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mt-1",children:"Please configure your organization details to enable all features. This is a one-time setup."})]})]})}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"basic",label:"Basic Information",icon:Ue},{id:"social",label:"Social Links",icon:Fe},{id:"members",label:"Founding Members",icon:R},{id:"files",label:"File Uploads",icon:h}].map(r=>e.jsxs("button",{onClick:()=>re(r.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${p===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:[e.jsx(r.icon,{className:"h-5 w-5 mr-2"}),r.label]},r.id))})}),e.jsxs("div",{className:"space-y-6",children:[p==="basic"&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Basic Information"}),l&&e.jsx("button",{onClick:()=>A(!m),className:"flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-600 dark:border-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:m?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Cancel"]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Edit"]})})]}),e.jsxs("form",{onSubmit:t.handleSubmit(de),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Organization Name *"}),e.jsx("input",{...t.register("name"),disabled:l&&!m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter organization name"}),t.formState.errors.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:t.formState.errors.name.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Short Name *",e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(Max 10 chars, used for Serial IDs)"})]}),e.jsx("input",{...t.register("shortName"),disabled:l&&!m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed uppercase",placeholder:"JNV",maxLength:10}),t.formState.errors.shortName&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:t.formState.errors.shortName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Foundation Year *"}),e.jsx("input",{...t.register("foundationYear"),type:"number",disabled:l&&!m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"1986",min:1800,max:new Date().getFullYear()}),t.formState.errors.foundationYear&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:t.formState.errors.foundationYear.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Official Email *"}),e.jsx("input",{...t.register("officialEmail"),type:"email",disabled:l&&!m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"contact@organization.com"}),t.formState.errors.officialEmail&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:t.formState.errors.officialEmail.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Number"}),e.jsx("input",{...t.register("officialContactNumber"),type:"tel",disabled:l&&!m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"+91-XXXXXXXXXX"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Office Address"}),e.jsx("textarea",{...t.register("officeAddress"),disabled:l&&!m,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter complete office address"})]}),(!l||m)&&e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsx("button",{type:"submit",disabled:T||P,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:T||P?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l?"Updating...":"Initializing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),l?"Update Information":"Initialize Organization"]})})})]})]}),p==="social"&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Social Media Links"}),l&&e.jsx("button",{onClick:()=>I(!x),className:"flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-600 dark:border-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:x?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Cancel"]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Edit"]})})]}),e.jsxs("form",{onSubmit:o.handleSubmit(ne),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website URL"}),e.jsx("input",{...o.register("websiteUrl"),type:"url",disabled:!x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"https://www.organization.com"}),o.formState.errors.websiteUrl&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.formState.errors.websiteUrl.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facebook URL"}),e.jsx("input",{...o.register("facebookUrl"),type:"url",disabled:!x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"https://www.facebook.com/organization"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instagram URL"}),e.jsx("input",{...o.register("instagramUrl"),type:"url",disabled:!x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"https://www.instagram.com/organization"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter URL"}),e.jsx("input",{...o.register("twitterUrl"),type:"url",disabled:!x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"https://www.twitter.com/organization"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn URL"}),e.jsx("input",{...o.register("linkedinUrl"),type:"url",disabled:!x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"https://www.linkedin.com/company/organization"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube URL"}),e.jsx("input",{...o.register("youtubeUrl"),type:"url",disabled:!x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"https://www.youtube.com/channel/organization"})]})]}),x&&e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsx("button",{type:"submit",disabled:X,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:X?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Update Social Links"]})})})]})]}),p==="members"&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Founding Members"}),e.jsxs("button",{onClick:ce,className:"flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-600 dark:border-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Add Member"]})]}),e.jsx("div",{className:"space-y-4",children:k.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(R,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No founding members added"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Add founding members to showcase the organization's history."})]}):k.map((r,a)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Member name",value:r.name,onChange:s=>q(a,"name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Role",value:r.role,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"})}),e.jsx("div",{children:e.jsx("input",{type:"number",placeholder:"Year",value:r.year,onChange:s=>q(a,"year",parseInt(s.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:1800,max:new Date().getFullYear()})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>me(a),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-md transition-colors",children:e.jsx(O,{className:"h-4 w-4"})})})]},a))}),k.length>0&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:xe,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Save Founding Members"]})})]}),p==="files"&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"File Uploads"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Organization Logo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>N(r.target.files?.[0]||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected: ",u.name]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bylaw Document"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:r=>v(r.target.files?.[0]||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),b&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected: ",b.name]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Registration Certificate"}),e.jsx("input",{type:"file",accept:".pdf,image/*",onChange:r=>U(r.target.files?.[0]||null),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected: ",f.name]})]})]}),(u||b||f)&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:j,disabled:z||C,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[z||C?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(h,{className:"h-4 w-4 mr-2"}),z||C?"Uploading...":"Upload Files"]})}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Organization Files"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your organization documents and media"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-400 mr-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Organization Logo"})]}),c?.organization?.logoUrl?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full max-w-sm mx-auto",children:e.jsx("img",{src:w("logo"),alt:"Organization Logo",className:"w-full h-32 object-contain border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700",onError:r=>{r.currentTarget.src=`data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect width="100" height="100" fill="#f3f4f6"/><text x="50" y="50" text-anchor="middle" dy=".3em" fill="#6b7280" font-family="system-ui" font-size="12">LOGO</text></svg>')}`}})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"âœ“ Logo uploaded and active"}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded p-3",children:[e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:"ðŸ“ Logo file is already uploaded. Upload is disabled."}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"To upload a new logo, replace or delete the existing one first."})]}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>S("logo"),className:"px-4 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",children:"Replace Logo"}),e.jsx("button",{onClick:()=>L("logo"),className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Delete Logo"})]})]})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[e.jsx(Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-lg",children:"No logo uploaded"}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>{const a=r.target.files?.[0];a&&(N(a),setTimeout(()=>j(),100))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(h,{className:"h-6 w-6 text-green-600 dark:text-green-400 mr-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Bylaw Document"})]}),c?.organization?.bylawDocumentUrl?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx(Q,{fileUrl:w("bylaw"),fileName:"Bylaw Document",maxWidth:600,maxHeight:650,className:""})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"âœ“ Bylaw document uploaded and active"}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded p-3",children:[e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:"ðŸ“ Bylaw document is already uploaded. Upload is disabled."}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"To upload a new document, replace or delete the existing one first."})]}),e.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>$(!0),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:"View Full Document"}),e.jsx("button",{onClick:()=>S("bylaw"),className:"px-4 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",children:"Replace Document"}),e.jsx("button",{onClick:()=>L("bylaw"),className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Delete Document"})]})]})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[e.jsx(h,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-lg",children:"No bylaw document uploaded"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:r=>{const a=r.target.files?.[0];a&&(v(a),setTimeout(()=>j(),100))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-green-50 file:text-green-700 hover:file:bg-green-100"})]})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(h,{className:"h-6 w-6 text-purple-600 dark:text-purple-400 mr-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Registration Certificate"})]}),c?.organization?.registrationCertUrl?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx(Q,{fileUrl:w("certificate"),fileName:"Registration Certificate",maxWidth:600,maxHeight:650,className:""})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"âœ“ Registration certificate uploaded and active"}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded p-3",children:[e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:"ðŸ“ Registration certificate is already uploaded. Upload is disabled."}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"To upload a new certificate, replace or delete the existing one first."})]}),e.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>Y(!0),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:"View Full Document"}),e.jsx("button",{onClick:()=>S("certificate"),className:"px-4 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors",children:"Replace Certificate"}),e.jsx("button",{onClick:()=>L("certificate"),className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Delete Certificate"})]})]})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[e.jsx(h,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-lg",children:"No registration certificate uploaded"}),e.jsx("input",{type:"file",accept:".pdf,image/*",onChange:r=>{const a=r.target.files?.[0];a&&(U(a),setTimeout(()=>j(),100))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"})]})]})})})]})]})]})]}),e.jsx(_,{isOpen:ae,onClose:()=>$(!1),fileUrl:w("bylaw"),fileName:"Bylaw Document",title:"Organization Bylaw Document"}),e.jsx(_,{isOpen:te,onClose:()=>Y(!1),fileUrl:w("certificate"),fileName:"Registration Certificate",title:"Organization Registration Certificate"})]})};export{_e as default};
//# sourceMappingURL=OrganizationManagement-wozC_A8l.js.map
