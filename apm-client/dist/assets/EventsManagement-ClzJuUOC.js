import{j as e}from"./ui-DhYQrQWF.js";import{r as d,R as q}from"./router-BgvBx64T.js";import{H as W,I as te,z as p,u as ae,p as re,J as se,K as ie,M as ne}from"./index-CZ6-uofb.js";import{L as Z}from"./LoadingSpinner-r4aotE8K.js";import{C as le}from"./redux-CfKcOgfB.js";import{l as oe,m as _}from"./adminApi-D-UAOCuW.js";import{F as V}from"./ChevronDownIcon-Cbf4tdh_.js";import{F as de}from"./CogIcon-DhR3XAxf.js";import{F as J}from"./UserIcon-Bm6z4MZR.js";import{F as ce}from"./UsersIcon-B-AjT4um.js";import{F as me}from"./CurrencyRupeeIcon-DmDbs4Pp.js";import{F as K}from"./XMarkIcon-B58Eb0hU.js";import{F as xe}from"./ChevronUpIcon-BjTUVWAQ.js";import{F as ge}from"./ExclamationTriangleIcon-CN3zIufB.js";import{F as z}from"./CalendarDaysIcon-ft5KN93A.js";import{F as Q}from"./PlusIcon-CFkNWmzL.js";import{F as ue}from"./ChartBarIcon-xItc45cH.js";import{F as he}from"./MagnifyingGlassIcon-2ej-ZtmV.js";import{f as pe}from"./utils-CXyNmL__.js";import"./vendor-c5ypKtDW.js";function be({title:s,titleId:y,...c},t){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":y},c),s?d.createElement("title",{id:y},s):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const ye=d.forwardRef(be);function fe({title:s,titleId:y,...c},t){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":y},c),s?d.createElement("title",{id:y},s):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const ve=d.forwardRef(fe),je=()=>{const{data:s}=W(),[y,{isLoading:c}]=te(),[t,j]=d.useState({title:"",description:"",eventDate:"",startTime:"",endTime:"",categoryId:"",venue:"",meetingLink:"",maxCapacity:"",eventMode:"PHYSICAL",registrationStartDate:"",registrationEndDate:"",registrationFee:"0",guestFee:"0",hasRegistration:!0,hasExternalLink:!1,hasCustomForm:!1,hasMeals:!1,hasGuests:!1,hasDonations:!1,hasPrizes:!1,hasOrganizers:!1,allowFormModification:!1,formModificationDeadlineHours:"24",prizeDetails:"",organizerDetails:"",heroImage:null}),D=s?.categories||[],m=i=>{const{name:o,value:k,type:x}=i.target;if(x==="checkbox"){const l=i.target.checked;j(h=>({...h,[o]:l}))}else j(l=>{let h={...l,[o]:k};return o==="eventMode"&&(k==="VIRTUAL"?(h.venue="",h.hasMeals=!1,h.hasGuests=!1,h.guestFee="0",h.prizeDetails="",h.organizerDetails=""):k==="PHYSICAL"&&(h.meetingLink="")),h})},v=i=>{const o=i.target.files?.[0]||null;j(k=>({...k,heroImage:o}))},a=()=>{j({title:"",description:"",eventDate:"",startTime:"",endTime:"",categoryId:"",venue:"",meetingLink:"",maxCapacity:"",eventMode:"PHYSICAL",registrationStartDate:"",registrationEndDate:"",registrationFee:"0",guestFee:"0",hasRegistration:!0,hasExternalLink:!1,hasCustomForm:!1,hasMeals:!1,hasGuests:!1,hasDonations:!1,hasPrizes:!1,hasOrganizers:!1,allowFormModification:!1,formModificationDeadlineHours:"24",prizeDetails:"",organizerDetails:"",heroImage:null});const i=document.getElementById("heroImage");i&&(i.value="")},b=async i=>{if(i.preventDefault(),!t.title.trim()){p.error("Event title is required");return}if(!t.eventDate){p.error("Event date is required");return}if(t.eventMode==="PHYSICAL"&&!t.venue.trim()){p.error("Venue is required for physical events");return}if(t.eventMode==="VIRTUAL"&&!t.meetingLink.trim()){p.error("Meeting link is required for virtual events");return}if(t.eventMode==="HYBRID"&&!t.venue.trim()&&!t.meetingLink.trim()){p.error("Either venue or meeting link is required for hybrid events");return}try{const o=new FormData;o.append("title",t.title.trim()),o.append("eventDate",t.eventDate),o.append("eventMode",t.eventMode),t.description.trim()&&o.append("description",t.description.trim()),t.startTime&&o.append("startTime",t.startTime),t.endTime&&o.append("endTime",t.endTime),t.categoryId&&o.append("categoryId",t.categoryId),t.venue.trim()&&o.append("venue",t.venue.trim()),t.meetingLink.trim()&&o.append("meetingLink",t.meetingLink.trim()),t.maxCapacity&&o.append("maxCapacity",t.maxCapacity),t.registrationStartDate&&o.append("registrationStartDate",t.registrationStartDate),t.registrationEndDate&&o.append("registrationEndDate",t.registrationEndDate),t.registrationFee&&o.append("registrationFee",t.registrationFee),t.guestFee&&(t.eventMode==="PHYSICAL"||t.eventMode==="HYBRID")&&o.append("guestFee",t.guestFee),t.formModificationDeadlineHours&&o.append("formModificationDeadlineHours",t.formModificationDeadlineHours),o.append("hasRegistration",t.hasRegistration.toString()),o.append("hasExternalLink",t.hasExternalLink.toString()),o.append("hasCustomForm",t.hasCustomForm.toString()),o.append("hasMeals",t.hasMeals.toString()),o.append("hasGuests",t.hasGuests.toString()),o.append("hasDonations",t.hasDonations.toString()),o.append("hasPrizes",t.hasPrizes.toString()),o.append("hasSponsors","false"),o.append("hasOrganizers",t.hasOrganizers.toString()),o.append("allowFormModification",t.allowFormModification.toString()),t.hasPrizes&&t.prizeDetails.trim()&&o.append("prizeDetails",t.prizeDetails.trim()),t.hasOrganizers&&t.organizerDetails.trim()&&o.append("organizerDetails",t.organizerDetails.trim()),t.heroImage&&o.append("heroImage",t.heroImage),await y(o).unwrap(),p.success("Event created successfully!"),a()}catch(o){console.error("Create event error:",o),p.error(o?.data?.message||"Failed to create event")}};return e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create New Event"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Fill out the form below to create a new event"})]}),e.jsxs("form",{onSubmit:b,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:"ðŸ“‹ Basic Information"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",value:t.title,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter event title",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",rows:3,value:t.description,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter event description"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),e.jsxs("select",{id:"categoryId",name:"categoryId",value:t.categoryId,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select a category"}),D.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventMode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Mode *"}),e.jsxs("select",{id:"eventMode",name:"eventMode",value:t.eventMode,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"PHYSICAL",children:"Physical"}),e.jsx("option",{value:"VIRTUAL",children:"Virtual"}),e.jsx("option",{value:"HYBRID",children:"Hybrid"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 mt-6 flex items-center",children:"ðŸ“… Date & Time"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Date *"}),e.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:t.eventDate,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"maxCapacity",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Capacity"}),e.jsx("input",{type:"number",id:"maxCapacity",name:"maxCapacity",value:t.maxCapacity,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",id:"startTime",name:"startTime",value:t.startTime,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),e.jsx("input",{type:"time",id:"endTime",name:"endTime",value:t.endTime,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 mt-6 flex items-center",children:"ðŸ“ Location & Platform"})}),(t.eventMode==="PHYSICAL"||t.eventMode==="HYBRID")&&e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"venue",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Venue ",t.eventMode==="PHYSICAL"?"*":""]}),e.jsx("input",{type:"text",id:"venue",name:"venue",value:t.venue,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Event venue or location",required:t.eventMode==="PHYSICAL"})]}),(t.eventMode==="VIRTUAL"||t.eventMode==="HYBRID")&&e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"meetingLink",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Meeting Link ",t.eventMode==="VIRTUAL"?"*":""]}),e.jsx("input",{type:"url",id:"meetingLink",name:"meetingLink",value:t.meetingLink,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"https://meet.google.com/...",required:t.eventMode==="VIRTUAL"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 mt-6 flex items-center",children:"ðŸŽ« Registration Settings"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registrationStartDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Start Date"}),e.jsx("input",{type:"datetime-local",id:"registrationStartDate",name:"registrationStartDate",value:t.registrationStartDate,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registrationEndDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration End Date"}),e.jsx("input",{type:"datetime-local",id:"registrationEndDate",name:"registrationEndDate",value:t.registrationEndDate,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registrationFee",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Fee (â‚¹)"}),e.jsx("input",{type:"number",min:"0",step:"1",id:"registrationFee",name:"registrationFee",value:t.registrationFee,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),(t.eventMode==="PHYSICAL"||t.eventMode==="HYBRID")&&t.hasGuests&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"guestFee",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Guest Fee (â‚¹)"}),e.jsx("input",{type:"number",min:"0",step:"1",id:"guestFee",name:"guestFee",value:t.guestFee,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 mt-6 flex items-center",children:"âš™ï¸ Event Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"hasRegistration",label:"Registration Required",modes:["PHYSICAL","VIRTUAL","HYBRID"]},{key:"hasGuests",label:"Allow Guests",modes:["PHYSICAL","HYBRID"]},{key:"hasDonations",label:"Accept Donations",modes:["PHYSICAL","VIRTUAL","HYBRID"]},{key:"hasPrizes",label:"Has Prizes",modes:["PHYSICAL","VIRTUAL","HYBRID"]},{key:"hasOrganizers",label:"Show Organizers",modes:["PHYSICAL","VIRTUAL","HYBRID"]},{key:"hasCustomForm",label:"Custom Form",modes:["PHYSICAL","VIRTUAL","HYBRID"]},{key:"allowFormModification",label:"Allow Form Edits",modes:["PHYSICAL","VIRTUAL","HYBRID"]},{key:"hasMeals",label:"Include Meals",modes:["PHYSICAL","HYBRID"]}].filter(({modes:i})=>i.includes(t.eventMode)).map(({key:i,label:o})=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:i,checked:t[i],onChange:m,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:o})]},i))}),t.hasPrizes&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"prizeDetails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prize Details"}),e.jsx("textarea",{id:"prizeDetails",name:"prizeDetails",rows:3,value:t.prizeDetails,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter details about prizes, winners categories, etc."})]}),t.hasOrganizers&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"organizerDetails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organizer Details"}),e.jsx("textarea",{id:"organizerDetails",name:"organizerDetails",rows:3,value:t.organizerDetails,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter organizer names, contact details, etc."})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[t.eventMode==="PHYSICAL"&&"ðŸ“ Physical event: All features available including venue, meals, and guest management.",t.eventMode==="VIRTUAL"&&"ðŸ’» Virtual event: Streamlined for online participation. Guest management not applicable.",t.eventMode==="HYBRID"&&"ðŸ”„ Hybrid event: Full feature set available for both physical and virtual participation."]})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 mt-6 flex items-center",children:"ðŸ–¼ï¸ Event Image"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"heroImage",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hero Image"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(ye,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("label",{htmlFor:"heroImage",className:"relative cursor-pointer bg-white dark:bg-gray-800 rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{id:"heroImage",name:"heroImage",type:"file",accept:"image/*",onChange:v,className:"sr-only"})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"}),t.heroImage&&e.jsxs("p",{className:"text-sm text-green-600",children:["Selected: ",t.heroImage.name]})]})})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:a,className:"rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Reset Form"}),e.jsx("button",{type:"submit",disabled:c,className:"rounded-md bg-blue-600 px-6 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Creating Event..."})]}):"Create Event"})]})]})]})})},ke=()=>{const[s,y]=d.useState("registration"),[c,t]=d.useState("all"),[j,D]=d.useState("all"),[m,v]=d.useState(!1),[a,b]=d.useState({showPaymentAmounts:!1,showDonationAmounts:!1,enablePublicDashboard:!0}),[i,o]=d.useState(!1),[k,x]=d.useState(null),[l,h]=d.useState("asc"),C=le(r=>r.auth),[I,N]=d.useState(null),[H,A]=d.useState(!0);d.useEffect(()=>{(async()=>{try{A(!0);const g=await(await fetch("http://localhost:3000/api/events?status=PUBLISHED&limit=100")).json();N(g)}catch(u){console.error("Direct fetch events error:",u)}finally{A(!1)}})()},[]),d.useEffect(()=>{(async()=>{if(c==="all"){b({showPaymentAmounts:!1,showDonationAmounts:!1,enablePublicDashboard:!0});return}try{const u=C.token||localStorage.getItem("token"),g=await fetch(`http://localhost:3000/api/events/${c}/privacy-settings`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(g.ok){const f=await g.json();b({showPaymentAmounts:f.data.settings.showPaymentAmounts||!1,showDonationAmounts:f.data.settings.showDonationAmounts||!1,enablePublicDashboard:f.data.settings.enablePublicDashboard!==!1})}}catch(u){console.error("Error fetching privacy settings:",u)}})()},[c]);const{data:E,isLoading:B,error:X}=oe(),R={page:1,limit:50};c!=="all"&&(R.eventId=c),j!=="all"&&(R.batch=j);const{data:S,isLoading:L}=_(R,{skip:s!=="registration"||c==="all"}),{data:w,isLoading:Y}=_({eventId:c,page:1,limit:1},{skip:s!=="overview"||c==="all"}),U=I?.data||[],O=Array.isArray(E?.data)?E.data:Array.isArray(E)?E:[2024,2023,2022,2021,2020,2019,2018,2017,2016,2015],F=S?.data?.registrations||S?.registrations||(Array.isArray(S)?S:[]),T=H||B||(s==="registration"?L:Y),G=r=>{k===r?h(l==="asc"?"desc":"asc"):(x(r),h("asc"))},$=()=>!F||!k?F:[...F].sort((r,u)=>{let g,f;switch(k){case"batch":g=r.user?.batch||0,f=u.user?.batch||0;break;case"date":g=new Date(r.registrationDate||"").getTime(),f=new Date(u.registrationDate||"").getTime();break;case"totalAmount":g=r.totalAmount||0,f=u.totalAmount||0;break;default:return 0}return l==="asc"?g>f?1:g<f?-1:0:g<f?1:g>f?-1:0}),n=r=>new Date(r).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"}),P=r=>`â‚¹${r.toLocaleString("en-IN")}`,M=({field:r,children:u,className:g=""})=>e.jsx("th",{className:`py-4 px-4 text-gray-300 font-medium cursor-pointer hover:text-white transition-colors ${g}`,onClick:()=>G(r),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u,e.jsxs("div",{className:"flex flex-col opacity-80 hover:opacity-100",children:[e.jsx(xe,{className:`h-4 w-4 ${k===r&&l==="asc"?"text-blue-400":"text-gray-400"}`}),e.jsx(V,{className:`h-4 w-4 -mt-1 ${k===r&&l==="desc"?"text-blue-400":"text-gray-400"}`})]})]})}),ee=async()=>{if(c==="all"){p.error("Please select an event first");return}o(!0);try{const r=C.token||localStorage.getItem("token");console.log("Auth state:",{auth:C,token:r});const u=await fetch(`http://localhost:3000/api/events/${c}/privacy-settings`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(u.ok)p.success("Privacy settings saved successfully!"),v(!1);else{const g=await u.json();p.error(g.message||"Failed to save settings")}}catch(r){console.error("Error saving privacy settings:",r),p.error("Failed to save settings")}finally{o(!1)}};return e.jsxs("div",{className:"bg-gray-900 text-white min-h-screen p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Event Analytics"})}),e.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:c,onChange:r=>{t(r.target.value),x(null)},className:"bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 pr-10 text-white min-w-80 appearance-none focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Default All Event"}),U.map(r=>e.jsx("option",{value:r.id,children:r.title},r.id))]}),e.jsx(V,{className:"h-5 w-5 absolute right-3 top-3 text-gray-400 pointer-events-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:j,onChange:r=>D(r.target.value),className:"bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 pr-10 text-white min-w-48 appearance-none focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Select Batch"}),O.map(r=>e.jsx("option",{value:r.toString(),children:r},r))]}),e.jsx(V,{className:"h-5 w-5 absolute right-3 top-3 text-gray-400 pointer-events-none"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:[e.jsx(de,{className:"h-5 w-5 text-gray-300"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Settings"})]})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>y("overview"),className:`px-6 py-2 rounded-md transition-colors ${s==="overview"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"Overview"}),e.jsx("button",{onClick:()=>y("registration"),className:`px-6 py-2 rounded-md transition-colors ${s==="registration"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"Registration"})]})}),s==="overview"?e.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-xl mb-6 text-white",children:"Overview Analytics"}),c==="all"?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-400",children:"Please select an event from the dropdown to view analytics"})}):T?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Loading overview..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Registrations"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:(w?.statistics?.totalRegistrations||0)+(w?.statistics?.totalGuests||0)})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(J,{className:"h-8 w-8 text-blue-400"})})]})}),e.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Guests"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:w?.statistics?.totalGuests||0})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ce,{className:"h-8 w-8 text-purple-400"})})]})}),e.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Donations"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["â‚¹",(w?.statistics?.totalDonations||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ve,{className:"h-8 w-8 text-yellow-400"})})]})}),e.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Collection"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["â‚¹",(w?.statistics?.totalRevenue||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(me,{className:"h-8 w-8 text-green-400"})})]})})]}),w?.batchStats?.batches&&w.batchStats.batches.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Batch Participation Details"}),e.jsx("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Batch"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Total Users"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Active Participants"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Participation Rate"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Total Revenue"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-600",children:w.batchStats.batches.map(r=>e.jsxs("tr",{className:"hover:bg-gray-600",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white font-medium",children:["Batch ",r.batch]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 text-center",children:r.statistics.uniqueUsers}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 text-center",children:r.statistics.registrationCount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 text-center",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(r.statistics.registrationCount/r.statistics.uniqueUsers*100).toFixed(1),"%"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 text-center",children:["â‚¹",r.statistics.totalRevenue.toLocaleString("en-IN")]})]},r.batch))})]})})})]}),w?.batchStats?.batches&&w.batchStats.batches.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Batch wise Revenue Sources"}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:w.batchStats.batches.slice(0,4).map(r=>{const u=r.statistics.totalRevenue-(r.statistics.totalDonations||0),g=r.statistics.totalDonations||0,f=Math.max(u,g);return e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["Batch ",r.batch]}),e.jsxs("div",{className:"flex items-end justify-center space-x-2 h-32",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-red-400 rounded-t",style:{height:f>0?`${g/f*100}px`:"4px",minHeight:"4px"}}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["â‚¹",g.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-green-400 rounded-t",style:{height:f>0?`${u/f*100}px`:"4px",minHeight:"4px"}}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["â‚¹",u.toLocaleString("en-IN")]})]})]})]},r.batch)})}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-red-400 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Donations"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-400 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Registration Fees"})]})]})]})]})]})]}):e.jsx("div",{className:"bg-gray-800 rounded-2xl p-8",children:T?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Loading registrations..."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-600",children:[e.jsx("th",{className:"text-left py-4 px-4 text-gray-300 font-medium",children:"Name"}),e.jsx(M,{field:"batch",className:"text-center",children:"Batch"}),e.jsx("th",{className:"text-center py-4 px-4 text-gray-300 font-medium",children:"Guest Count"}),e.jsx("th",{className:"text-center py-4 px-4 text-gray-300 font-medium",children:"Donation"}),e.jsx(M,{field:"totalAmount",className:"text-center",children:"Total Amount"}),e.jsx(M,{field:"date",className:"text-center",children:"Date"})]})}),e.jsx("tbody",{children:F.length>0?$().map(r=>e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center",children:[r.user?.profileImage?e.jsx("img",{src:`http://localhost:3001/api/users/profile-picture/${r.user.id}`,alt:r.user.fullName,className:"w-10 h-10 rounded-full object-cover",onError:u=>{u.currentTarget.style.display="none";const g=u.currentTarget.nextElementSibling;g&&(g.style.display="flex")}}):null,e.jsx(J,{className:"h-6 w-6 text-gray-400",style:{display:r.user?.profileImage?"none":"block"}})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:r.user?.fullName}),e.jsx("p",{className:"text-sm text-gray-400",children:r.user?.email})]})]})}),e.jsx("td",{className:"py-4 px-4 text-center text-gray-300",children:r.user?.batch}),e.jsx("td",{className:"py-4 px-4 text-center text-gray-300",children:r.totalGuests}),e.jsx("td",{className:"py-4 px-4 text-center text-gray-300",children:P(r.donationAmount)}),e.jsx("td",{className:"py-4 px-4 text-center text-gray-300",children:P(r.totalAmount)}),e.jsx("td",{className:"py-4 px-4 text-center text-gray-300",children:n(r.registrationDate)})]},r.id)):c==="all"?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-400",children:"Please select an event from the dropdown to view registrations"})}):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-400",children:"No registrations found for the selected event and filters"})})})]})})})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Event Privacy Settings"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white",children:e.jsx(K,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:"Show Payment Amounts"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Display payment amounts to public users"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.showPaymentAmounts,onChange:r=>b({...a,showPaymentAmounts:r.target.checked})}),e.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:"Show Donation Amounts"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Display donation amounts to public users"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.showDonationAmounts,onChange:r=>b({...a,showDonationAmounts:r.target.checked})}),e.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:ee,disabled:i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg",children:i?"Saving...":"Save Changes"})]})]})})]})},$e=()=>{const{user:s}=ae(),[y,c]=d.useState(""),[t,j]=d.useState("ALL"),[D,m]=d.useState("ALL"),[v,a]=d.useState("ALL"),[b,i]=d.useState("events"),[o,k]=d.useState(1),[x,l]=d.useState(null),[h,C]=d.useState(!1),{data:I,isLoading:N,isError:H,error:A}=re({page:o,limit:20,search:y||void 0,category:t==="ALL"?void 0:t,status:D==="ALL"?void 0:D,mode:v==="ALL"?void 0:v}),{data:E}=W(),[B]=se(),[X]=ie(),[R]=ne(),S=I?.events||[],L=s?.role==="SUPER_ADMIN",w=E?.categories||[],Y=[{value:"ALL",label:"All Status"},{value:"DRAFT",label:"Draft"},{value:"PUBLISHED",label:"Published"},{value:"REGISTRATION_OPEN",label:"Registration Open"},{value:"REGISTRATION_CLOSED",label:"Registration Closed"},{value:"COMPLETED",label:"Completed"},{value:"CANCELLED",label:"Cancelled"}],U=[{value:"ALL",label:"All Modes"},{value:"PHYSICAL",label:"Physical"},{value:"VIRTUAL",label:"Virtual"},{value:"HYBRID",label:"Hybrid"}],O=n=>{switch(n){case"DRAFT":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";case"PUBLISHED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"REGISTRATION_OPEN":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"REGISTRATION_CLOSED":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"COMPLETED":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"CANCELLED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},F=n=>{switch(n){case"PHYSICAL":return"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400";case"VIRTUAL":return"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400";case"HYBRID":return"bg-purple-50 text-purple-700 dark:bg-purple-900/20 dark:text-purple-400";default:return"bg-gray-50 text-gray-700 dark:bg-gray-900/20 dark:text-gray-400"}},T=async(n,P)=>{if(confirm(`Are you sure you want to delete "${P}"? This action cannot be undone.`))try{await B(n).unwrap(),p.success("Event deleted successfully")}catch(M){console.error("Delete event error:",M),p.error(M?.data?.message||"Failed to delete event")}},G=n=>{l(n),C(!0)},$=()=>{C(!1),l(null)};return N?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Z,{size:"lg"})}):H?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Failed to Load Events"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:A?.data?.message||"Something went wrong"})]})}):e.jsxs("div",{className:"h-screen flex flex-col",children:[e.jsxs("div",{className:"flex-shrink-0 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(z,{className:"w-8 h-8 mr-3 text-blue-600"}),"Events Management"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage organization events, registrations, and categories"})]})})}),e.jsx("div",{className:"mb-8",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>i("events"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${b==="events"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2"}),"Events (",S.length,")"]})}),L&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i("create"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${b==="create"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"w-5 h-5 mr-2"}),"Create Event"]})}),e.jsx("button",{onClick:()=>i("analytics"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${b==="analytics"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Analytics"]})})]})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:[b==="events"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:y,onChange:n=>c(n.target.value)})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 lg:w-auto",children:[e.jsx("div",{className:"sm:w-48",children:e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:n=>j(n.target.value),children:[e.jsx("option",{value:"ALL",children:"All Categories"}),w.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]})}),e.jsx("div",{className:"sm:w-48",children:e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:D,onChange:n=>m(n.target.value),children:Y.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})}),e.jsx("div",{className:"sm:w-48",children:e.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:v,onChange:n=>a(n.target.value),children:U.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})})]})]})}),S.length>0?e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Event"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Mode"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Registrations"}),L&&e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:S.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:n.heroImage?e.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:`http://localhost:3000/api/events/${n.id}/hero-image`,alt:n.title}):e.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:e.jsx(z,{className:"h-6 w-6 text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.title}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.category?.name||"No category"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:pe(new Date(n.eventDate),"MMM dd, yyyy")}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.startTime&&n.endTime?`${n.startTime} - ${n.endTime}`:"Time TBD"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O(n.status)}`,children:n.status.replace(/_/g," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(n.eventMode)}`,children:n.eventMode})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[n.totalAttendees||n._count?.registrations||0,n.maxCapacity&&` / ${n.maxCapacity}`]}),L&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>G(n),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Edit"}),(n.totalAttendees||n._count?.registrations||0)===0?e.jsx("button",{onClick:()=>T(n.id,n.title),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-xs cursor-not-allowed",title:"Cannot delete event with registrations",children:"Delete Disabled"})]})})]},n.id))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No Events Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:y||t!=="ALL"||D!=="ALL"||v!=="ALL"?"Try adjusting your search or filters":"No events are currently available"}),L&&!y&&t==="ALL"&&e.jsxs("button",{onClick:()=>i("create"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg transition-colors",children:[e.jsx(Q,{className:"w-5 h-5 mr-2"}),"Create Your First Event"]})]})]}),b==="create"&&L&&e.jsx(je,{}),b==="analytics"&&L&&e.jsx(ke,{})]})}),h&&x&&e.jsx(we,{event:x,categories:w,onClose:$,onUpdate:R})]})},we=({event:s,categories:y,onClose:c,onUpdate:t})=>{const[j,D]=d.useState(!1),[m,v]=d.useState(null),[a,b]=d.useState({title:"",description:"",eventDate:"",startTime:"",endTime:"",categoryId:"",venue:"",meetingLink:"",maxCapacity:"",eventMode:"PHYSICAL",registrationStartDate:"",registrationEndDate:"",hasRegistration:!1,hasExternalLink:!1,externalRegistrationLink:"",hasCustomForm:!1,hasMeals:!1,hasGuests:!1,hasDonations:!1,hasPrizes:!1,hasOrganizers:!1,allowFormModification:!1,formModificationDeadlineHours:"24",prizeDetails:"",organizerDetails:"",status:"DRAFT",heroImage:null});q.useEffect(()=>{if(s){console.log("Initializing form with event:",s);const x={title:s.title||"",description:s.description||"",eventDate:s.eventDate?s.eventDate.split("T")[0]:"",startTime:s.startTime||"",endTime:s.endTime||"",categoryId:s.categoryId||s.category?.id||"",venue:s.venue||"",meetingLink:s.meetingLink||"",maxCapacity:s.maxCapacity?.toString()||"",eventMode:s.eventMode||"PHYSICAL",registrationStartDate:s.registrationStartDate?s.registrationStartDate.split("T")[0]:"",registrationEndDate:s.registrationEndDate?s.registrationEndDate.split("T")[0]:"",hasRegistration:!!s.hasRegistration,hasExternalLink:!!s.hasExternalLink,externalRegistrationLink:s.externalRegistrationLink||"",hasCustomForm:!!s.hasCustomForm,hasMeals:!!s.hasMeals,hasGuests:!!s.hasGuests,hasDonations:!!s.hasDonations,hasPrizes:!!s.hasPrizes,hasOrganizers:!!s.hasOrganizers,allowFormModification:!!s.allowFormModification,formModificationDeadlineHours:s.formModificationDeadlineHours?.toString()||"24",prizeDetails:s.prizeDetails||"",organizerDetails:s.organizerDetails||"",status:s.status||"DRAFT",heroImage:null};console.log("Setting form data to:",x),b(x)}},[s]),q.useEffect(()=>{s.heroImage&&v(`http://localhost:3000/api/events/${s.id}/hero-image`)},[s]);const i=x=>{const{name:l,value:h,type:C}=x.target;if(C==="checkbox"){const I=x.target.checked;b(N=>({...N,[l]:I}))}else b(I=>{let N={...I,[l]:h};return l==="eventMode"&&(h==="VIRTUAL"?(N.venue="",N.hasMeals=!1,N.hasGuests=!1,N.prizeDetails="",N.organizerDetails=""):h==="PHYSICAL"&&(N.meetingLink="")),N})},o=x=>{const l=x.target.files?.[0]||null;if(l){b(C=>({...C,heroImage:l}));const h=URL.createObjectURL(l);v(h)}},k=async x=>{if(x.preventDefault(),!a.title.trim()){p.error("Event title is required");return}if(!a.eventDate){p.error("Event date is required");return}if(a.eventMode==="PHYSICAL"&&!a.venue.trim()){p.error("Venue is required for physical events");return}if(a.eventMode==="VIRTUAL"&&!a.meetingLink.trim()){p.error("Meeting link is required for virtual events");return}if(a.eventMode==="HYBRID"&&!a.venue.trim()&&!a.meetingLink.trim()){p.error("Either venue or meeting link is required for hybrid events");return}D(!0);try{const l=new FormData;l.append("title",a.title.trim()),l.append("eventDate",a.eventDate),l.append("eventMode",a.eventMode),l.append("status",a.status),a.description.trim()&&l.append("description",a.description.trim()),a.startTime&&l.append("startTime",a.startTime),a.endTime&&l.append("endTime",a.endTime),a.categoryId&&l.append("categoryId",a.categoryId),a.venue.trim()&&l.append("venue",a.venue.trim()),a.meetingLink.trim()&&l.append("meetingLink",a.meetingLink.trim()),a.maxCapacity&&l.append("maxCapacity",a.maxCapacity),a.registrationStartDate&&l.append("registrationStartDate",a.registrationStartDate),a.registrationEndDate&&l.append("registrationEndDate",a.registrationEndDate),a.formModificationDeadlineHours&&l.append("formModificationDeadlineHours",a.formModificationDeadlineHours),a.externalRegistrationLink.trim()&&l.append("externalRegistrationLink",a.externalRegistrationLink.trim()),l.append("hasRegistration",a.hasRegistration.toString()),l.append("hasExternalLink",a.hasExternalLink.toString()),l.append("hasCustomForm",a.hasCustomForm.toString()),l.append("hasMeals",a.hasMeals.toString()),l.append("hasGuests",a.hasGuests.toString()),l.append("hasDonations",a.hasDonations.toString()),l.append("hasPrizes",a.hasPrizes.toString()),l.append("hasOrganizers",a.hasOrganizers.toString()),l.append("allowFormModification",a.allowFormModification.toString()),a.hasPrizes&&a.prizeDetails.trim()&&l.append("prizeDetails",a.prizeDetails.trim()),a.hasOrganizers&&a.organizerDetails.trim()&&l.append("organizerDetails",a.organizerDetails.trim()),a.heroImage&&l.append("heroImage",a.heroImage),await t({id:s.id,data:l}).unwrap(),p.success("Event updated successfully"),c()}catch(l){console.error("Update event error:",l),p.error(l?.data?.message||"Failed to update event")}finally{D(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:c}),e.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-6xl sm:p-6",children:[e.jsx("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:e.jsxs("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:c,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(K,{className:"h-6 w-6"})]})}),e.jsxs("div",{className:"max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Edit Event: ",s.title]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Update event details and settings"})]}),e.jsxs("form",{onSubmit:k,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:"ðŸ“‹ Basic Information"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter event title",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:i,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Event description..."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),e.jsxs("select",{id:"categoryId",name:"categoryId",value:a.categoryId,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Category"}),y.map(x=>e.jsx("option",{value:x.id,children:x.name},x.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{id:"status",name:"status",value:a.status,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"DRAFT",children:"Draft"}),e.jsx("option",{value:"PUBLISHED",children:"Published"}),e.jsx("option",{value:"REGISTRATION_OPEN",children:"Registration Open"}),e.jsx("option",{value:"REGISTRATION_CLOSED",children:"Registration Closed"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:"ðŸ–¼ï¸ Event Image"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"heroImage",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hero Image"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[m?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m,alt:"Preview",className:"mx-auto h-32 w-auto rounded-md object-cover"}),e.jsx("button",{type:"button",onClick:()=>{v(null),b(x=>({...x,heroImage:null}))},className:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"Ã—"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("label",{htmlFor:"heroImage",className:"relative cursor-pointer bg-white dark:bg-gray-700 rounded-md font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{id:"heroImage",name:"heroImage",type:"file",accept:"image/*",onChange:o,className:"sr-only"})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:"ðŸ“… Date and Time"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Date *"}),e.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:a.eventDate,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"maxCapacity",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Capacity"}),e.jsx("input",{type:"number",id:"maxCapacity",name:"maxCapacity",value:a.maxCapacity,onChange:i,min:"1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Maximum attendees"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",id:"startTime",name:"startTime",value:a.startTime,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),e.jsx("input",{type:"time",id:"endTime",name:"endTime",value:a.endTime,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:"ðŸ“ Location"})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventMode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Mode *"}),e.jsxs("select",{id:"eventMode",name:"eventMode",value:a.eventMode,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"PHYSICAL",children:"ðŸ¢ Physical Event"}),e.jsx("option",{value:"VIRTUAL",children:"ðŸ’» Virtual Event"}),e.jsx("option",{value:"HYBRID",children:"ðŸ”„ Hybrid Event"})]})]}),e.jsx("div",{className:"md:col-span-1"}),(a.eventMode==="PHYSICAL"||a.eventMode==="HYBRID")&&e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"venue",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Venue ",a.eventMode==="PHYSICAL"&&"*"]}),e.jsx("input",{type:"text",id:"venue",name:"venue",value:a.venue,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Event venue address",required:a.eventMode==="PHYSICAL"})]}),(a.eventMode==="VIRTUAL"||a.eventMode==="HYBRID")&&e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"meetingLink",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Meeting Link ",a.eventMode==="VIRTUAL"&&"*"]}),e.jsx("input",{type:"url",id:"meetingLink",name:"meetingLink",value:a.meetingLink,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"https://meet.google.com/...",required:a.eventMode==="VIRTUAL"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:"ðŸ“ Registration Settings"})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"registrationFee",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Registration Fee (â‚¹) ",e.jsx("span",{className:"text-xs text-gray-500",children:"(Read-only)"})]}),e.jsx("input",{type:"number",id:"registrationFee",value:s.registrationFee||0,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"guestFee",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Guest Fee (â‚¹) ",e.jsx("span",{className:"text-xs text-gray-500",children:"(Read-only)"})]}),e.jsx("input",{type:"number",id:"guestFee",value:s.guestFee||0,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registrationStartDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration Start Date"}),e.jsx("input",{type:"date",id:"registrationStartDate",name:"registrationStartDate",value:a.registrationStartDate,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"registrationEndDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Registration End Date"}),e.jsx("input",{type:"date",id:"registrationEndDate",name:"registrationEndDate",value:a.registrationEndDate,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.hasExternalLink&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"externalRegistrationLink",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"External Registration Link"}),e.jsx("input",{type:"url",id:"externalRegistrationLink",name:"externalRegistrationLink",value:a.externalRegistrationLink,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"https://external-registration-site.com"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:"âš™ï¸ Event Features"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasRegistration",checked:a.hasRegistration,onChange:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Registration"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasExternalLink",checked:a.hasExternalLink,onChange:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"External Link"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasCustomForm",checked:a.hasCustomForm,onChange:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Custom Form"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasMeals",checked:a.hasMeals,onChange:i,disabled:a.eventMode==="VIRTUAL",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Meals"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasGuests",checked:a.hasGuests,onChange:i,disabled:a.eventMode==="VIRTUAL",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Guests"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasDonations",checked:a.hasDonations,onChange:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Donations"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasPrizes",checked:a.hasPrizes,onChange:i,disabled:a.eventMode==="VIRTUAL",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Prizes"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasOrganizers",checked:a.hasOrganizers,onChange:i,disabled:a.eventMode==="VIRTUAL",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Organizers"})]})]})}),a.hasPrizes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"prizeDetails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prize Details"}),e.jsx("textarea",{id:"prizeDetails",name:"prizeDetails",value:a.prizeDetails,onChange:i,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the prizes available..."})]}),a.hasOrganizers&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"organizerDetails",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Organizer Details"}),e.jsx("textarea",{id:"organizerDetails",name:"organizerDetails",value:a.organizerDetails,onChange:i,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Information about event organizers..."})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"allowFormModification",checked:a.allowFormModification,onChange:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Allow form modification"})]}),a.allowFormModification&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{htmlFor:"formModificationDeadlineHours",className:"text-sm text-gray-700 dark:text-gray-300",children:"Deadline (hours):"}),e.jsx("input",{type:"number",id:"formModificationDeadlineHours",name:"formModificationDeadlineHours",value:a.formModificationDeadlineHours,onChange:i,min:"1",className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:j,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[j&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),j?"Updating...":"Update Event"]})]})})]})]})]})]})})};export{$e as default};
//# sourceMappingURL=EventsManagement-ClzJuUOC.js.map
