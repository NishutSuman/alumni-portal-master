import{j as e,A as T,m as y}from"./ui-DhYQrQWF.js";import{u as q,r as n,L as w}from"./router-BgvBx64T.js";import{u as I}from"./index.esm-Gm6OHcy7.js";import{o as V,c as E,a as j,b as Y,d as c,e as z}from"./index.esm-BKxce1ht.js";import{s as B,z as d}from"./index-CZ6-uofb.js";import{C as L}from"./redux-CfKcOgfB.js";import{T as G}from"./ThemeToggle-B28KeV3D.js";import{a as O}from"./api-CtsDlLFZ.js";import{F as U}from"./ArrowLeftIcon-Cb74wfg0.js";import{F as N}from"./EyeSlashIcon-BumiUKcw.js";import{F as v}from"./EyeIcon-DLMljlLJ.js";import"./vendor-c5ypKtDW.js";import"./utils-CXyNmL__.js";const W=E().shape({fullName:c().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),email:c().required("Email is required").email("Please enter a valid email address").lowercase(),password:c().required("Password is required").min(8,"Password must be at least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Password must contain uppercase, lowercase, number, and special character"),confirmPassword:c().required("Please confirm your password").oneOf([z("password")],"Passwords do not match"),batch:Y().required("Batch passout year is required").min(1950,"Please enter a valid batch passout year").max(new Date().getFullYear()+10,"Batch passout year seems too far in the future"),acceptTerms:j().oneOf([!0],"You must accept the terms and conditions"),acceptPrivacy:j().oneOf([!0],"You must accept the privacy policy")}),ce=()=>{const u=q(),g=L(B),[m,k]=n.useState(!1),[x,P]=n.useState(!1),[l,h]=n.useState(1),[Z,H]=n.useState([]),[p,b]=n.useState(!1),{register:s,handleSubmit:S,formState:{errors:t,isValid:$},watch:C,setValue:J,trigger:F}=I({resolver:V(W),mode:"onChange"}),f=C(),D=a=>{if(!a)return{score:0,text:"",color:"bg-gray-200"};let r=0;return r=[a.length>=8,/[a-z]/.test(a),/[A-Z]/.test(a),/\d/.test(a),/[@$!%*?&]/.test(a)].filter(Boolean).length,{score:r,...{0:{text:"Very Weak",color:"bg-red-500"},1:{text:"Very Weak",color:"bg-red-500"},2:{text:"Weak",color:"bg-orange-500"},3:{text:"Fair",color:"bg-yellow-500"},4:{text:"Good",color:"bg-blue-500"},5:{text:"Strong",color:"bg-green-500"}}[r]}},A=async a=>{b(!0);try{const r={email:a.email,password:a.password,fullName:a.fullName,batch:parseInt(a.batch)};console.log("Sending registration payload:",r);const i=await O.post("/auth/register",r);if(console.log("Registration response:",i.data),i.data.success)d.success(i.data.message||"Registration successful! Your account is pending alumni verification."),u("/auth/verify-email",{state:{email:r.email,verificationPending:!0}});else throw new Error(i.data.message||"Registration failed")}catch(r){console.error("Registration error:",r),r.response?.data?.message?d.error(r.response.data.message):r.message?d.error(r.message):d.error("Registration failed. Please try again.")}finally{b(!1)}},R=async()=>{await F(l===1?["fullName","email"]:["password","confirmPassword","batch"])&&h(2)},o=D(f.password||"");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(w,{to:"/",className:"flex items-center h-10",children:e.jsx("img",{src:g?"/brand/guild-logo-white.png":"/brand/guild-logo.png",alt:"GUILD",className:"h-full w-auto object-contain"})}),e.jsx(G,{})]})})}),e.jsx("div",{className:"min-h-screen flex items-center justify-center pt-16 px-4 py-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("button",{onClick:()=>u("/"),className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors group",children:[e.jsx(U,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{children:"Back to Home"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 md:p-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:g?"/brand/guild-logo-white.png":"/brand/guild-logo.png",alt:"GUILD",className:"h-20 w-auto object-contain"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600",children:"Join GUILD"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create your alumni account"}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${l>=1?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"1"}),e.jsx("div",{className:`w-12 h-1 rounded ${l>=2?"bg-gradient-to-r from-blue-600 to-purple-600":"bg-gray-200"}`}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${l>=2?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"2"})]})})]}),e.jsx("form",{onSubmit:S(A),className:"space-y-6",children:e.jsxs(T,{mode:"wait",children:[l===1&&e.jsxs(y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),e.jsx("div",{className:"relative",children:e.jsx("input",{...s("fullName"),type:"text",placeholder:"Enter your full name",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${t.fullName?"border-red-500":""}`})}),t.fullName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.fullName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),e.jsx("div",{className:"relative",children:e.jsx("input",{...s("email"),type:"email",placeholder:"Enter your email",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${t.email?"border-red-500":""}`})}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.email.message})]}),e.jsx("button",{type:"button",onClick:R,className:"w-full py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-semibold text-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Continue to Academic Details"})]},"step1"),l===2&&e.jsxs(y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Batch Passout Year *"}),e.jsx("div",{className:"relative",children:e.jsx("input",{...s("batch"),type:"number",placeholder:"2022",min:"1950",max:new Date().getFullYear()+10,className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${t.batch?"border-red-500":""}`})}),t.batch&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.batch.message}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the year you passed out from your institution"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...s("password"),type:m?"text":"password",placeholder:"Create a strong password",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10 ${t.password?"border-red-500":""}`}),e.jsx("button",{type:"button",onClick:()=>k(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?e.jsx(N,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]}),f.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Password strength"}),e.jsx("span",{className:`text-xs font-medium ${o.score>=4?"text-green-500":o.score>=3?"text-yellow-500":"text-red-500"}`,children:o.text})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o.color}`,style:{width:`${o.score/5*100}%`}})})]}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...s("confirmPassword"),type:x?"text":"password",placeholder:"Confirm your password",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10 ${t.confirmPassword?"border-red-500":""}`}),e.jsx("button",{type:"button",onClick:()=>P(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?e.jsx(N,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]}),t.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.confirmPassword.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{...s("acceptTerms"),type:"checkbox",className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300",children:["I accept the"," ",e.jsx("span",{className:"text-blue-600 hover:text-blue-800 underline cursor-pointer",children:"Terms and Conditions"})]})]}),t.acceptTerms&&e.jsx("p",{className:"text-sm text-red-500",children:t.acceptTerms.message}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{...s("acceptPrivacy"),type:"checkbox",className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300",children:["I accept the"," ",e.jsx("span",{className:"text-blue-600 hover:text-blue-800 underline cursor-pointer",children:"Privacy Policy"})]})]}),t.acceptPrivacy&&e.jsx("p",{className:"text-sm text-red-500",children:t.acceptPrivacy.message})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>h(1),className:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl shadow-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-all",children:"Back"}),e.jsx("button",{type:"submit",disabled:p||!$,className:"flex-1 py-3 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-xl hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:p?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]})]},"step2")]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(w,{to:"/auth/login",className:"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all",children:"Sign In"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Powered by"," ",e.jsx("span",{className:"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Digikite"})]})})]})})]})};export{ce as default};
//# sourceMappingURL=RegisterPage-B85c4igc.js.map
