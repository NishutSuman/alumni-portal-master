{"version":3,"file":"OrganizationsPage-DK2lsQ8T.js","sources":["../../src/pages/developer/OrganizationsPage.tsx"],"sourcesContent":["// src/pages/developer/OrganizationsPage.tsx\n// Organizations Management Page for Developer Portal - Card View\n\nimport { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { toast } from 'react-hot-toast'\nimport {\n  useGetDeveloperOrganizationsQuery,\n  useCreateOrganizationMutation,\n  useToggleMaintenanceModeMutation,\n  useUpdateSubscriptionMutation,\n  type Organization,\n} from '@/store/api/developerApi'\nimport LoadingSpinner from '@/components/common/UI/LoadingSpinner'\nimport { getApiBaseUrl } from '@/config/organizations'\n\n// Helper to construct full logo URL - use proxy endpoint for R2 files\nconst getOrgLogoUrl = (org: Organization): string | null => {\n  // If org has a logo, use the proxy endpoint (works with R2)\n  if (org.logoUrl) {\n    const baseUrl = getApiBaseUrl()\n    const serverUrl = baseUrl.replace(/\\/api$/, '')\n    return `${serverUrl}/api/organizations/${org.id}/files/logo`\n  }\n  return null\n}\nimport {\n  PlusIcon,\n  MagnifyingGlassIcon,\n  BuildingOffice2Icon,\n  XMarkIcon,\n  UsersIcon,\n  CalendarIcon,\n  WrenchScrewdriverIcon,\n  ChevronRightIcon,\n} from '@heroicons/react/24/outline'\n\n// Subscription status badge colors\nconst statusColors: Record<string, string> = {\n  TRIAL: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200',\n  ACTIVE: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',\n  EXPIRED: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',\n  SUSPENDED: 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200',\n}\n\n// Status dot colors for cards\nconst statusDotColors: Record<string, string> = {\n  TRIAL: 'bg-yellow-500',\n  ACTIVE: 'bg-green-500',\n  EXPIRED: 'bg-red-500',\n  SUSPENDED: 'bg-gray-500',\n}\n\nexport default function OrganizationsPage() {\n  const navigate = useNavigate()\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [statusFilter, setStatusFilter] = useState('')\n\n  // Queries\n  const { data: orgsData, isLoading, error, refetch } = useGetDeveloperOrganizationsQuery({\n    search: searchQuery || undefined,\n    status: statusFilter || undefined,\n    limit: 50,\n  })\n\n\n  // Mutations\n  const [createOrganization, { isLoading: creating }] = useCreateOrganizationMutation()\n  const [toggleMaintenance] = useToggleMaintenanceModeMutation()\n  const [updateSubscription] = useUpdateSubscriptionMutation()\n\n  // Create organization handler\n  const handleCreateOrganization = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    const formData = new FormData(e.currentTarget)\n\n    try {\n      await createOrganization({\n        name: formData.get('name') as string,\n        shortName: formData.get('shortName') as string,\n        tenantCode: (formData.get('tenantCode') as string).toUpperCase(),\n        officialEmail: formData.get('officialEmail') as string,\n        foundationYear: parseInt(formData.get('foundationYear') as string),\n        subscriptionDays: parseInt(formData.get('subscriptionDays') as string) || 30,\n        maxUsers: parseInt(formData.get('maxUsers') as string) || 500,\n      }).unwrap()\n\n      toast.success('Organization created successfully!')\n      setShowCreateModal(false)\n      refetch()\n    } catch (error: any) {\n      toast.error(error?.data?.message || 'Failed to create organization')\n      console.error('Failed to create organization:', error)\n    }\n  }\n\n  // Toggle maintenance handler\n  const handleToggleMaintenance = async (e: React.MouseEvent, orgId: string, currentStatus: boolean) => {\n    e.stopPropagation()\n    try {\n      await toggleMaintenance({\n        orgId,\n        isMaintenanceMode: !currentStatus,\n      }).unwrap()\n      toast.success(currentStatus ? 'Maintenance mode disabled' : 'Maintenance mode enabled')\n    } catch (error: any) {\n      toast.error(error?.data?.message || 'Failed to toggle maintenance mode')\n    }\n  }\n\n  // Extend subscription handler\n  const handleExtendSubscription = async (e: React.MouseEvent, orgId: string) => {\n    e.stopPropagation()\n    try {\n      await updateSubscription({\n        orgId,\n        subscriptionDays: 30,\n        subscriptionStatus: 'ACTIVE',\n      }).unwrap()\n      toast.success('Subscription extended by 30 days')\n    } catch (error: any) {\n      toast.error(error?.data?.message || 'Failed to extend subscription')\n    }\n  }\n\n  // Navigate to org details\n  const handleCardClick = (orgId: string) => {\n    navigate(`/developer/organizations/${orgId}`)\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\n        <LoadingSpinner />\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[60vh] p-6\">\n        <div className=\"text-red-500 text-lg mb-4\">Failed to load organizations</div>\n        <div className=\"text-gray-500 text-sm mb-4\">\n          {JSON.stringify(error)}\n        </div>\n        <button\n          onClick={() => refetch()}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n        >\n          Retry\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              Organizations\n            </h1>\n            <p className=\"mt-1 text-gray-600 dark:text-gray-400\">\n              Manage tenant organizations and their subscriptions\n            </p>\n          </div>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm\"\n          >\n            <PlusIcon className=\"h-5 w-5 mr-2\" />\n            New Organization\n          </button>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search organizations...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"TRIAL\">Trial</option>\n              <option value=\"ACTIVE\">Active</option>\n              <option value=\"EXPIRED\">Expired</option>\n              <option value=\"SUSPENDED\">Suspended</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Organizations Grid */}\n        {!Array.isArray(orgsData?.data) || orgsData.data.length === 0 ? (\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center\">\n            <BuildingOffice2Icon className=\"h-16 w-16 mx-auto text-gray-400 mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n              No organizations yet\n            </h3>\n            <p className=\"text-gray-500 dark:text-gray-400 mb-6\">\n              Create your first tenant organization to get started\n            </p>\n            <button\n              onClick={() => setShowCreateModal(true)}\n              className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <PlusIcon className=\"h-5 w-5 mr-2\" />\n              Create Organization\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.isArray(orgsData?.data) && orgsData.data.map((org) => {\n              const logoUrl = getOrgLogoUrl(org)\n              return (\n              <div\n                key={org.id}\n                onClick={() => handleCardClick(org.id)}\n                className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer group overflow-hidden\"\n              >\n                {/* Card Header */}\n                <div className=\"p-5 border-b border-gray-100 dark:border-gray-700\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"flex items-center space-x-4 min-w-0 flex-1\">\n                      {/* Logo */}\n                      <div className=\"flex-shrink-0\">\n                        {logoUrl ? (\n                          <img\n                            className=\"h-14 w-14 rounded-lg object-cover shadow-sm\"\n                            src={logoUrl}\n                            alt={org.name}\n                            onError={(e) => {\n                              // Hide broken image\n                              (e.target as HTMLImageElement).style.display = 'none'\n                              const fallback = (e.target as HTMLImageElement).nextElementSibling\n                              if (fallback) (fallback as HTMLElement).style.display = 'flex'\n                            }}\n                          />\n                        ) : null}\n                        <div\n                          className={`h-14 w-14 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 items-center justify-center shadow-sm ${logoUrl ? 'hidden' : 'flex'}`}\n                        >\n                          <span className=\"text-xl font-bold text-white\">\n                            {org.shortName.charAt(0)}\n                          </span>\n                        </div>\n                      </div>\n                      {/* Name and Code */}\n                      <div className=\"min-w-0 flex-1\">\n                        <h3 className=\"text-base font-semibold text-gray-900 dark:text-white line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors\">\n                          {org.name}\n                        </h3>\n                        <code className=\"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 rounded font-mono text-gray-600 dark:text-gray-400\">\n                          {org.tenantCode}\n                        </code>\n                      </div>\n                    </div>\n                    {/* Arrow indicator */}\n                    <ChevronRightIcon className=\"h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1 transition-all\" />\n                  </div>\n                </div>\n\n                {/* Card Body */}\n                <div className=\"p-5\">\n                  {/* Status Badges */}\n                  <div className=\"flex items-center gap-2 mb-4\">\n                    <span className={`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${statusColors[org.subscriptionStatus]}`}>\n                      <span className={`w-1.5 h-1.5 rounded-full mr-1.5 ${statusDotColors[org.subscriptionStatus]}`}></span>\n                      {org.subscriptionStatus}\n                    </span>\n                    {org.isMaintenanceMode && (\n                      <span className=\"inline-flex items-center px-2.5 py-1 bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 rounded-full text-xs font-medium\">\n                        <WrenchScrewdriverIcon className=\"h-3 w-3 mr-1\" />\n                        Maintenance\n                      </span>\n                    )}\n                  </div>\n\n                  {/* Stats */}\n                  <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                    <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-400\">\n                      <UsersIcon className=\"h-4 w-4 mr-2 text-gray-400\" />\n                      <span>\n                        <span className=\"font-medium text-gray-900 dark:text-white\">{org._count?.users || 0}</span>\n                        <span className=\"text-gray-400\"> / {org.maxUsers}</span>\n                      </span>\n                    </div>\n                    <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-400\">\n                      <CalendarIcon className=\"h-4 w-4 mr-2 text-gray-400\" />\n                      <span>\n                        {org.subscriptionEndsAt\n                          ? new Date(org.subscriptionEndsAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n                          : 'No expiry'}\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Email */}\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400 truncate mb-4\">\n                    {org.officialEmail}\n                  </p>\n\n                  {/* Quick Actions */}\n                  <div className=\"flex gap-2 pt-3 border-t border-gray-100 dark:border-gray-700\">\n                    <button\n                      onClick={(e) => handleToggleMaintenance(e, org.id, org.isMaintenanceMode)}\n                      className={`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-colors ${\n                        org.isMaintenanceMode\n                          ? 'bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-200 dark:hover:bg-green-900'\n                          : 'bg-orange-100 text-orange-800 hover:bg-orange-200 dark:bg-orange-900/50 dark:text-orange-200 dark:hover:bg-orange-900'\n                      }`}\n                    >\n                      {org.isMaintenanceMode ? 'Enable' : 'Maintenance'}\n                    </button>\n                    <button\n                      onClick={(e) => handleExtendSubscription(e, org.id)}\n                      className=\"flex-1 px-3 py-2 bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900/50 dark:text-blue-200 dark:hover:bg-blue-900 rounded-lg text-xs font-medium transition-colors\"\n                    >\n                      +30 Days\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )})}\n          </div>\n        )}\n\n        {/* Create Organization Modal */}\n        {showCreateModal && (\n          <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n            <div className=\"flex items-center justify-center min-h-screen px-4\">\n              <div\n                className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\"\n                onClick={() => setShowCreateModal(false)}\n              />\n              <div className=\"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                    Create New Organization\n                  </h3>\n                  <button\n                    onClick={() => setShowCreateModal(false)}\n                    className=\"p-1 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                  >\n                    <XMarkIcon className=\"h-5 w-5\" />\n                  </button>\n                </div>\n\n                <form onSubmit={handleCreateOrganization} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                      Organization Name *\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      required\n                      placeholder=\"e.g., ABC School Alumni\"\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                      Short Name *\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"shortName\"\n                      required\n                      placeholder=\"e.g., ABC\"\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                      Tenant Code * <span className=\"text-xs text-gray-500\">(e.g., SCHOOL-ABC)</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"tenantCode\"\n                      required\n                      pattern=\"[A-Za-z0-9-]+\"\n                      placeholder=\"SCHOOL-ABC\"\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white uppercase focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                      Official Email *\n                    </label>\n                    <input\n                      type=\"email\"\n                      name=\"officialEmail\"\n                      required\n                      placeholder=\"admin@school.com\"\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                      Foundation Year *\n                    </label>\n                    <input\n                      type=\"number\"\n                      name=\"foundationYear\"\n                      required\n                      min={1800}\n                      max={new Date().getFullYear()}\n                      defaultValue={new Date().getFullYear()}\n                      placeholder=\"e.g., 1995\"\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Trial Days\n                      </label>\n                      <input\n                        type=\"number\"\n                        name=\"subscriptionDays\"\n                        defaultValue={30}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                        Max Users\n                      </label>\n                      <input\n                        type=\"number\"\n                        name=\"maxUsers\"\n                        defaultValue={500}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowCreateModal(false)}\n                      className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={creating}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                    >\n                      {creating ? 'Creating...' : 'Create Organization'}\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":["getOrgLogoUrl","org","getApiBaseUrl","statusColors","statusDotColors","OrganizationsPage","navigate","useNavigate","showCreateModal","setShowCreateModal","useState","searchQuery","setSearchQuery","statusFilter","setStatusFilter","orgsData","isLoading","error","refetch","useGetDeveloperOrganizationsQuery","createOrganization","creating","useCreateOrganizationMutation","toggleMaintenance","useToggleMaintenanceModeMutation","updateSubscription","useUpdateSubscriptionMutation","handleCreateOrganization","e","formData","toast","handleToggleMaintenance","orgId","currentStatus","handleExtendSubscription","handleCardClick","jsx","LoadingSpinner","jsxs","PlusIcon","MagnifyingGlassIcon","BuildingOffice2Icon","logoUrl","fallback","ChevronRightIcon","WrenchScrewdriverIcon","UsersIcon","CalendarIcon","XMarkIcon"],"mappings":"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"}