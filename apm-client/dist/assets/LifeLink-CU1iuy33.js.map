{"version":3,"file":"LifeLink-CU1iuy33.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/ArrowRightIcon.js","../../node_modules/@heroicons/react/24/solid/esm/HeartIcon.js","../../src/store/api/lifeLinkApi.ts","../../src/components/common/UI/BloodProfileModal.tsx","../../src/components/common/UI/BloodCompatibilityModal.tsx","../../src/pages/user/LifeLink.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction ArrowRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HeartIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HeartIcon);\nexport default ForwardRef;","// src/store/api/lifeLinkApi.ts\n// LifeLink Blood Donation Network API\n\nimport { apiSlice } from './apiSlice'\nimport type {\n  BloodProfile,\n  BloodDonation,\n  BloodRequisition,\n  DonorNotification,\n  DonorResponse,\n  LifeLinkDashboardParams,\n  LifeLinkDashboardResponse,\n  BloodGroupStatsResponse,\n  DonationStatusResponse,\n  SearchDonorsRequest,\n  SearchDonorsResponse,\n  CreateRequisitionRequest,\n  AddDonationRequest,\n  UpdateBloodProfileRequest,\n  NotifyDonorsRequest,\n  RespondToRequisitionRequest,\n  BloodDonationsResponse,\n  BloodRequisitionsResponse,\n  DonorNotificationsResponse,\n  DiscoverRequisitionsResponse,\n  LifeLinkAnalytics,\n  RequisitionAnalytics,\n  PaginatedResponse,\n} from '../../types/lifeLink'\n\n// LifeLink API endpoints\nexport const lifeLinkApi = apiSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    // ============================================\n    // PUBLIC ROUTES (Dashboard & Info)\n    // ============================================\n\n    // Get LifeLink dashboard with all donors\n    getLifeLinkDashboard: builder.query<LifeLinkDashboardResponse, LifeLinkDashboardParams>({\n      query: (params) => ({\n        url: '/lifelink/dashboard',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['LifeLink'],\n      keepUnusedDataFor: 600, // 10 minutes - donors list changes less frequently\n    }),\n\n    // Get blood group statistics\n    getBloodGroupStats: builder.query<BloodGroupStatsResponse, void>({\n      query: () => '/lifelink/stats/bloodgroups',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['LifeLink'],\n      keepUnusedDataFor: 3600, // 1 hour - statistics change slowly\n    }),\n\n    // ============================================\n    // USER PROFILE ROUTES (Blood Profile)\n    // ============================================\n\n    // Get user's blood profile\n    getBloodProfile: builder.query<BloodProfile, void>({\n      query: () => '/lifelink/profile/blood',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['LifeLink', 'Profile'],\n      keepUnusedDataFor: 1800, // 30 minutes - profile data is relatively stable\n    }),\n\n    // Update user's blood profile\n    updateBloodProfile: builder.mutation<BloodProfile, UpdateBloodProfileRequest>({\n      query: (data) => ({\n        url: '/lifelink/profile/blood',\n        method: 'PUT',\n        body: data,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: ['LifeLink', 'Profile', 'User'],\n    }),\n\n    // ============================================\n    // DONATION MANAGEMENT ROUTES\n    // ============================================\n\n    // Get user's donation history\n    getMyDonations: builder.query<BloodDonationsResponse, {\n      page?: number;\n      limit?: number;\n    }>({\n      query: (params) => ({\n        url: '/lifelink/my-donations',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: (result) => [\n        'Donation',\n        ...(result?.donations?.map(({ id }) => ({ type: 'Donation' as const, id })) ?? []),\n      ],\n      keepUnusedDataFor: 900, // 15 minutes - donation history doesn't change often\n    }),\n\n    // Add new donation record\n    addDonation: builder.mutation<BloodDonation, AddDonationRequest>({\n      query: (data) => ({\n        url: '/lifelink/donations',\n        method: 'POST',\n        body: data,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: ['Donation', 'LifeLink', 'Profile'],\n    }),\n\n    // Check donation eligibility status\n    getDonationStatus: builder.query<DonationStatusResponse, void>({\n      query: () => '/lifelink/donation-status',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['LifeLink'],\n      keepUnusedDataFor: 300, // 5 minutes - eligibility can change daily\n    }),\n\n    // ============================================\n    // EMERGENCY REQUISITION ROUTES\n    // ============================================\n\n    // Create blood requisition\n    createRequisition: builder.mutation<BloodRequisition, CreateRequisitionRequest>({\n      query: (data) => ({\n        url: '/lifelink/requisitions',\n        method: 'POST',\n        body: data,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: ['BloodRequisition', 'LifeLink'],\n    }),\n\n    // Get user's requisitions\n    getMyRequisitions: builder.query<BloodRequisitionsResponse, {\n      status?: string;\n      page?: number;\n      limit?: number;\n    }>({\n      query: (params) => ({\n        url: '/lifelink/my-requisitions',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: (result) => [\n        'BloodRequisition',\n        ...(result?.requisitions?.map(({ id }) => ({ type: 'BloodRequisition' as const, id })) ?? []),\n      ],\n      keepUnusedDataFor: 600, // 10 minutes\n    }),\n\n    // Get single requisition details\n    getRequisition: builder.query<BloodRequisition, string>({\n      query: (requisitionId) => `/lifelink/requisitions/${requisitionId}`,\n      transformResponse: (response: any) => response.data,\n      providesTags: (result, error, requisitionId) => [\n        { type: 'BloodRequisition', id: requisitionId },\n      ],\n      keepUnusedDataFor: 300, // 5 minutes - requisition data can change with responses\n    }),\n\n    // Update requisition status\n    updateRequisitionStatus: builder.mutation<BloodRequisition, {\n      requisitionId: string;\n      status: string;\n    }>({\n      query: ({ requisitionId, ...data }) => ({\n        url: `/lifelink/requisitions/${requisitionId}/status`,\n        method: 'PUT',\n        body: data,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: (result, error, { requisitionId }) => [\n        { type: 'BloodRequisition', id: requisitionId },\n        'BloodRequisition',\n        'LifeLink',\n      ],\n    }),\n\n    // Reuse expired requisition\n    reuseRequisition: builder.mutation<BloodRequisition, string>({\n      query: (requisitionId) => ({\n        url: `/lifelink/requisitions/${requisitionId}/reuse`,\n        method: 'PUT',\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: (result, error, requisitionId) => [\n        { type: 'BloodRequisition', id: requisitionId },\n        'BloodRequisition',\n        'LifeLink',\n      ],\n    }),\n\n    // ============================================\n    // DONOR SEARCH ROUTES\n    // ============================================\n\n    // Discover available requisitions for donors\n    discoverRequisitions: builder.query<DiscoverRequisitionsResponse, {\n      urgencyLevel?: string;\n      maxDistance?: number;\n      page?: number;\n      limit?: number;\n    }>({\n      query: (params) => ({\n        url: '/lifelink/discover-requisitions',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['BloodRequisition'],\n      keepUnusedDataFor: 180, // 3 minutes - requisitions change frequently\n    }),\n\n    // Search compatible donors\n    searchDonors: builder.mutation<SearchDonorsResponse, SearchDonorsRequest>({\n      query: (data) => ({\n        url: '/lifelink/search-donors',\n        method: 'POST',\n        body: data,\n      }),\n      transformResponse: (response: any) => response.data,\n      // No invalidation for search - it's a read operation\n    }),\n\n    // Get willing donors for a requisition\n    getWillingDonors: builder.query<{\n      donors: Array<BloodProfile & { response: DonorResponse }>;\n      totalCount: number;\n    }, string>({\n      query: (requisitionId) => `/lifelink/willing-donors/${requisitionId}`,\n      transformResponse: (response: any) => response.data,\n      providesTags: (result, error, requisitionId) => [\n        { type: 'BloodRequisition', id: requisitionId },\n      ],\n      keepUnusedDataFor: 180, // 3 minutes - responses change frequently\n    }),\n\n    // ============================================\n    // NOTIFICATION ROUTES\n    // ============================================\n\n    // Notify selected donors\n    notifySelectedDonors: builder.mutation<{\n      notificationsSent: number;\n      donorsNotified: string[];\n    }, NotifyDonorsRequest>({\n      query: (data) => ({\n        url: '/lifelink/notify-selected',\n        method: 'POST',\n        body: data,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: ['BloodRequisition', 'LifeLink'],\n    }),\n\n    // Broadcast to all available donors in area\n    notifyAllDonors: builder.mutation<{\n      notificationsSent: number;\n      donorsNotified: string[];\n    }, { requisitionId: string }>({\n      query: (data) => ({\n        url: '/lifelink/notify-all',\n        method: 'POST',\n        body: data,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: ['BloodRequisition', 'LifeLink'],\n    }),\n\n    // Get user's emergency notifications\n    getMyNotifications: builder.query<DonorNotificationsResponse, {\n      status?: string;\n      page?: number;\n      limit?: number;\n    }>({\n      query: (params) => ({\n        url: '/lifelink/notifications',\n        params,\n      }),\n      transformResponse: (response: any) => ({\n        data: response.data,\n        pagination: response.pagination,\n      }),\n      providesTags: ['Notification'],\n      keepUnusedDataFor: 120, // 2 minutes - notifications change frequently\n    }),\n\n    // Mark notification as read\n    markNotificationRead: builder.mutation<DonorNotification, string>({\n      query: (notificationId) => ({\n        url: `/lifelink/notifications/${notificationId}/read`,\n        method: 'PUT',\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: ['Notification'],\n    }),\n\n    // ============================================\n    // DONOR RESPONSE ROUTES\n    // ============================================\n\n    // Respond to emergency notification\n    respondToNotification: builder.mutation<DonorResponse, {\n      notificationId: string;\n      response: RespondToRequisitionRequest;\n    }>({\n      query: ({ notificationId, response }) => ({\n        url: `/lifelink/notifications/${notificationId}/respond`,\n        method: 'POST',\n        body: response,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: ['Notification', 'BloodRequisition'],\n    }),\n\n    // Respond to requisition directly\n    respondToRequisition: builder.mutation<DonorResponse, {\n      requisitionId: string;\n      response: RespondToRequisitionRequest;\n    }>({\n      query: ({ requisitionId, response }) => ({\n        url: `/lifelink/requisitions/${requisitionId}/respond`,\n        method: 'POST',\n        body: response,\n      }),\n      transformResponse: (response: any) => response.data,\n      invalidatesTags: (result, error, { requisitionId }) => [\n        { type: 'BloodRequisition', id: requisitionId },\n        'BloodRequisition',\n      ],\n    }),\n\n    // ============================================\n    // ADMIN ROUTES\n    // ============================================\n\n    // Get all requisitions (Admin)\n    getAdminRequisitions: builder.query<BloodRequisitionsResponse, {\n      status?: string;\n      urgencyLevel?: string;\n      page?: number;\n      limit?: number;\n    }>({\n      query: (params) => ({\n        url: '/lifelink/admin/requisitions',\n        params,\n      }),\n      transformResponse: (response: any) => ({\n        data: response.data,\n        pagination: response.pagination,\n      }),\n      providesTags: ['BloodRequisition'],\n    }),\n\n    // Get LifeLink analytics (Admin)\n    getLifeLinkAnalytics: builder.query<LifeLinkAnalytics, {\n      startDate?: string;\n      endDate?: string;\n    }>({\n      query: (params) => ({\n        url: '/lifelink/admin/analytics',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Analytics'],\n      keepUnusedDataFor: 1800, // 30 minutes - analytics change slowly\n    }),\n\n    // Get donor response analytics for requisition (Admin)\n    getRequisitionAnalytics: builder.query<RequisitionAnalytics, string>({\n      query: (requisitionId) => `/lifelink/admin/requisitions/${requisitionId}/analytics`,\n      transformResponse: (response: any) => response.data,\n      providesTags: (result, error, requisitionId) => [\n        { type: 'BloodRequisition', id: requisitionId },\n        'Analytics',\n      ],\n    }),\n  }),\n  overrideExisting: false,\n})\n\n// Export hooks for all endpoints\nexport const {\n  // Dashboard & Info\n  useGetLifeLinkDashboardQuery,\n  useGetBloodGroupStatsQuery,\n\n  // Blood Profile\n  useGetBloodProfileQuery,\n  useUpdateBloodProfileMutation,\n\n  // Donation Management\n  useGetMyDonationsQuery,\n  useAddDonationMutation,\n  useGetDonationStatusQuery,\n\n  // Emergency Requisitions\n  useCreateRequisitionMutation,\n  useGetMyRequisitionsQuery,\n  useGetRequisitionQuery,\n  useUpdateRequisitionStatusMutation,\n  useReuseRequisitionMutation,\n\n  // Donor Search\n  useDiscoverRequisitionsQuery,\n  useSearchDonorsMutation,\n  useGetWillingDonorsQuery,\n\n  // Notifications\n  useNotifySelectedDonorsMutation,\n  useNotifyAllDonorsMutation,\n  useGetMyNotificationsQuery,\n  useMarkNotificationReadMutation,\n\n  // Donor Responses\n  useRespondToNotificationMutation,\n  useRespondToRequisitionMutation,\n\n  // Admin\n  useGetAdminRequisitionsQuery,\n  useGetLifeLinkAnalyticsQuery,\n  useGetRequisitionAnalyticsQuery,\n} = lifeLinkApi","// src/components/common/UI/BloodProfileModal.tsx\nimport React, { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport {\n  XMarkIcon,\n  HeartIcon,\n  CheckCircleIcon,\n  InformationCircleIcon,\n  ExclamationTriangleIcon,\n} from '@heroicons/react/24/outline'\nimport { HeartIcon as HeartSolidIcon } from '@heroicons/react/24/solid'\nimport { Dialog, DialogPanel, DialogTitle, DialogBackdrop } from '@headlessui/react'\nimport { useForm } from 'react-hook-form'\nimport toast from 'react-hot-toast'\nimport { \n  useGetBloodProfileQuery,\n  useUpdateBloodProfileMutation,\n} from '../../../store/api/lifeLinkApi'\nimport LoadingSpinner from './LoadingSpinner'\nimport type { BloodGroup, UpdateBloodProfileRequest } from '../../../types/lifeLink'\n\ninterface BloodProfileModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onSuccess?: () => void\n}\n\n// Blood group options\nconst BLOOD_GROUP_OPTIONS: Array<{ value: BloodGroup; label: string; color: string; description: string }> = [\n  { value: 'O_NEGATIVE', label: 'Oâˆ’', color: 'red', description: 'Universal donor - can donate to all blood types' },\n  { value: 'O_POSITIVE', label: 'O+', color: 'orange', description: 'Most common blood type - can donate to all positive types' },\n  { value: 'A_NEGATIVE', label: 'Aâˆ’', color: 'blue', description: 'Can donate to A and AB types' },\n  { value: 'A_POSITIVE', label: 'A+', color: 'indigo', description: 'Can donate to A+ and AB+ types' },\n  { value: 'B_NEGATIVE', label: 'Bâˆ’', color: 'green', description: 'Can donate to B and AB types' },\n  { value: 'B_POSITIVE', label: 'B+', color: 'emerald', description: 'Can donate to B+ and AB+ types' },\n  { value: 'AB_NEGATIVE', label: 'ABâˆ’', color: 'purple', description: 'Universal plasma donor' },\n  { value: 'AB_POSITIVE', label: 'AB+', color: 'pink', description: 'Universal plasma donor - can receive from all types' },\n]\n\ninterface FormData {\n  bloodGroup: BloodGroup\n  isBloodDonor: boolean\n}\n\nconst BloodProfileModal: React.FC<BloodProfileModalProps> = ({\n  isOpen,\n  onClose,\n  onSuccess,\n}) => {\n  const [step, setStep] = useState<'bloodGroup' | 'donorStatus' | 'confirmation'>('bloodGroup')\n  const [selectedBloodGroup, setSelectedBloodGroup] = useState<BloodGroup | null>(null)\n\n  // API queries and mutations\n  const { data: bloodProfile, isLoading: profileLoading } = useGetBloodProfileQuery(undefined, {\n    skip: !isOpen\n  })\n  const [updateBloodProfile, { isLoading: updateLoading }] = useUpdateBloodProfileMutation()\n\n  // Form handling\n  const { register, handleSubmit, setValue, watch, formState: { errors } } = useForm<FormData>({\n    defaultValues: {\n      bloodGroup: '' as BloodGroup,\n      isBloodDonor: false,\n    }\n  })\n\n  const watchedValues = watch()\n\n  // Initialize form with existing data\n  useEffect(() => {\n    if (bloodProfile && isOpen) {\n      if (bloodProfile.bloodGroup) {\n        setValue('bloodGroup', bloodProfile.bloodGroup)\n        setSelectedBloodGroup(bloodProfile.bloodGroup)\n        setStep('donorStatus')\n      }\n      setValue('isBloodDonor', bloodProfile.isBloodDonor)\n    }\n  }, [bloodProfile, isOpen, setValue])\n\n  // Reset modal state when closed\n  useEffect(() => {\n    if (!isOpen) {\n      setStep('bloodGroup')\n      setSelectedBloodGroup(null)\n    }\n  }, [isOpen])\n\n  const handleBloodGroupSelect = (bloodGroup: BloodGroup) => {\n    setSelectedBloodGroup(bloodGroup)\n    setValue('bloodGroup', bloodGroup)\n    setStep('donorStatus')\n  }\n\n  const handleDonorStatusSelect = (isDonor: boolean) => {\n    setValue('isBloodDonor', isDonor)\n    setStep('confirmation')\n  }\n\n  const onSubmit = async (data: FormData) => {\n    try {\n      const updateData: UpdateBloodProfileRequest = {\n        bloodGroup: data.bloodGroup,\n        isBloodDonor: data.isBloodDonor,\n      }\n\n      await updateBloodProfile(updateData).unwrap()\n      \n      toast.success('Blood profile updated successfully!')\n      onSuccess?.()\n      onClose()\n    } catch (error: any) {\n      console.error('Update profile error:', error)\n      toast.error(error?.data?.message || 'Failed to update blood profile')\n    }\n  }\n\n  const handleBack = () => {\n    if (step === 'donorStatus') {\n      setStep('bloodGroup')\n    } else if (step === 'confirmation') {\n      setStep('donorStatus')\n    }\n  }\n\n  const getStepTitle = () => {\n    switch (step) {\n      case 'bloodGroup':\n        return 'What\\'s your blood group?'\n      case 'donorStatus':\n        return 'Are you willing to be a blood donor?'\n      case 'confirmation':\n        return 'Confirm your blood profile'\n      default:\n        return ''\n    }\n  }\n\n  const getSelectedBloodGroupInfo = () => {\n    return BLOOD_GROUP_OPTIONS.find(option => option.value === selectedBloodGroup)\n  }\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <Dialog\n          open={isOpen}\n          onClose={onClose}\n          className=\"relative z-50\"\n        >\n          <DialogBackdrop className=\"fixed inset-0 bg-black/30 backdrop-blur-sm\" />\n          \n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n            <DialogPanel className=\"mx-auto max-w-2xl w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl max-h-[90vh] overflow-hidden\">\n              <form onSubmit={handleSubmit(onSubmit)} className=\"h-full flex flex-col\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"bg-gradient-to-r from-red-500 to-pink-500 p-2 rounded-full\">\n                      <HeartSolidIcon className=\"h-6 w-6 text-white\" />\n                    </div>\n                    <div>\n                      <DialogTitle className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                        {getStepTitle()}\n                      </DialogTitle>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        Step {step === 'bloodGroup' ? 1 : step === 'donorStatus' ? 2 : 3} of 3\n                      </p>\n                    </div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={onClose}\n                    className=\"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300\"\n                  >\n                    <XMarkIcon className=\"h-6 w-6\" />\n                  </button>\n                </div>\n\n                {/* Progress Bar */}\n                <div className=\"px-6 py-2\">\n                  <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                    <motion.div\n                      className=\"bg-gradient-to-r from-red-500 to-pink-500 h-2 rounded-full\"\n                      initial={{ width: '33%' }}\n                      animate={{ \n                        width: step === 'bloodGroup' ? '33%' : step === 'donorStatus' ? '66%' : '100%' \n                      }}\n                      transition={{ duration: 0.3 }}\n                    />\n                  </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6\">\n                  {profileLoading ? (\n                    <div className=\"flex justify-center py-8\">\n                      <LoadingSpinner />\n                    </div>\n                  ) : (\n                    <AnimatePresence mode=\"wait\">\n                      {/* Step 1: Blood Group Selection */}\n                      {step === 'bloodGroup' && (\n                        <motion.div\n                          key=\"bloodGroup\"\n                          initial={{ opacity: 0, x: 20 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          exit={{ opacity: 0, x: -20 }}\n                          className=\"space-y-6\"\n                        >\n                          <div className=\"text-center mb-6\">\n                            <div className=\"text-6xl mb-4\">ðŸ©¸</div>\n                            <p className=\"text-gray-600 dark:text-gray-300\">\n                              Select your blood group. This information helps us connect you with compatible recipients.\n                            </p>\n                          </div>\n\n                          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                            {BLOOD_GROUP_OPTIONS.map((option) => (\n                              <motion.button\n                                key={option.value}\n                                type=\"button\"\n                                onClick={() => handleBloodGroupSelect(option.value)}\n                                className={`p-4 rounded-lg border-2 transition-all duration-200 text-center ${\n                                  selectedBloodGroup === option.value\n                                    ? `border-${option.color}-500 bg-${option.color}-50 dark:bg-${option.color}-900/20`\n                                    : 'border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\n                                }`}\n                                whileHover={{ scale: 1.02 }}\n                                whileTap={{ scale: 0.98 }}\n                              >\n                                <div className={`inline-flex items-center justify-center w-12 h-12 rounded-full mb-2 bg-${option.color}-100 text-${option.color}-800 dark:bg-${option.color}-900 dark:text-${option.color}-300 font-bold text-lg`}>\n                                  {option.label}\n                                </div>\n                                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                                  {option.label} Blood\n                                </p>\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                                  {option.description}\n                                </p>\n                              </motion.button>\n                            ))}\n                          </div>\n\n                          <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg\">\n                            <div className=\"flex items-start\">\n                              <InformationCircleIcon className=\"h-5 w-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0\" />\n                              <div className=\"text-sm text-blue-700 dark:text-blue-300\">\n                                <p className=\"font-medium mb-1\">Don't know your blood group?</p>\n                                <p>You can get it tested at any nearby clinic or hospital. It's a simple blood test that takes just a few minutes.</p>\n                              </div>\n                            </div>\n                          </div>\n                        </motion.div>\n                      )}\n\n                      {/* Step 2: Donor Status */}\n                      {step === 'donorStatus' && (\n                        <motion.div\n                          key=\"donorStatus\"\n                          initial={{ opacity: 0, x: 20 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          exit={{ opacity: 0, x: -20 }}\n                          className=\"space-y-6\"\n                        >\n                          <div className=\"text-center mb-6\">\n                            <HeartSolidIcon className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n                            <p className=\"text-gray-600 dark:text-gray-300\">\n                              Would you like to be part of our blood donor network? You can change this anytime.\n                            </p>\n                          </div>\n\n                          <div className=\"space-y-4\">\n                            {/* Yes - Be a Donor */}\n                            <motion.button\n                              type=\"button\"\n                              onClick={() => handleDonorStatusSelect(true)}\n                              className={`w-full p-6 rounded-lg border-2 text-left transition-all duration-200 ${\n                                watchedValues.isBloodDonor\n                                  ? 'border-red-500 bg-red-50 dark:bg-red-900/20'\n                                  : 'border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\n                              }`}\n                              whileHover={{ scale: 1.01 }}\n                              whileTap={{ scale: 0.99 }}\n                            >\n                              <div className=\"flex items-start space-x-4\">\n                                <div className=\"bg-red-100 dark:bg-red-900/30 p-3 rounded-full\">\n                                  <HeartSolidIcon className=\"h-6 w-6 text-red-500\" />\n                                </div>\n                                <div>\n                                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                                    Yes, I want to be a blood donor\n                                  </h3>\n                                  <p className=\"text-gray-600 dark:text-gray-300 mb-3\">\n                                    Join our network and help save lives. You'll receive notifications for emergency blood requests that match your blood group.\n                                  </p>\n                                  <div className=\"space-y-1 text-sm text-gray-500 dark:text-gray-400\">\n                                    <p>âœ“ Get notified for emergency requests</p>\n                                    <p>âœ“ Track your donation history</p>\n                                    <p>âœ“ Help your alumni community</p>\n                                  </div>\n                                </div>\n                              </div>\n                            </motion.button>\n\n                            {/* No - Just Browse */}\n                            <motion.button\n                              type=\"button\"\n                              onClick={() => handleDonorStatusSelect(false)}\n                              className={`w-full p-6 rounded-lg border-2 text-left transition-all duration-200 ${\n                                !watchedValues.isBloodDonor\n                                  ? 'border-gray-500 bg-gray-50 dark:bg-gray-700/20'\n                                  : 'border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\n                              }`}\n                              whileHover={{ scale: 1.01 }}\n                              whileTap={{ scale: 0.99 }}\n                            >\n                              <div className=\"flex items-start space-x-4\">\n                                <div className=\"bg-gray-100 dark:bg-gray-700 p-3 rounded-full\">\n                                  <HeartIcon className=\"h-6 w-6 text-gray-500\" />\n                                </div>\n                                <div>\n                                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                                    Not right now\n                                  </h3>\n                                  <p className=\"text-gray-600 dark:text-gray-300 mb-3\">\n                                    You can still browse the donor directory and create emergency requests if needed.\n                                  </p>\n                                  <div className=\"space-y-1 text-sm text-gray-500 dark:text-gray-400\">\n                                    <p>âœ“ Browse donor directory</p>\n                                    <p>âœ“ Create emergency requests</p>\n                                    <p>âœ“ Can opt-in later anytime</p>\n                                  </div>\n                                </div>\n                              </div>\n                            </motion.button>\n                          </div>\n                        </motion.div>\n                      )}\n\n                      {/* Step 3: Confirmation */}\n                      {step === 'confirmation' && (\n                        <motion.div\n                          key=\"confirmation\"\n                          initial={{ opacity: 0, x: 20 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          exit={{ opacity: 0, x: -20 }}\n                          className=\"space-y-6\"\n                        >\n                          <div className=\"text-center mb-6\">\n                            <CheckCircleIcon className=\"h-12 w-12 text-green-500 mx-auto mb-4\" />\n                            <p className=\"text-gray-600 dark:text-gray-300\">\n                              Please review and confirm your blood profile information.\n                            </p>\n                          </div>\n\n                          <div className=\"bg-gray-50 dark:bg-gray-700/30 rounded-lg p-6 space-y-4\">\n                            {/* Blood Group Confirmation */}\n                            <div className=\"flex items-center justify-between\">\n                              <span className=\"text-gray-700 dark:text-gray-300\">Blood Group:</span>\n                              <div className=\"flex items-center space-x-2\">\n                                {selectedBloodGroup && (\n                                  <>\n                                    <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-${getSelectedBloodGroupInfo()?.color}-100 text-${getSelectedBloodGroupInfo()?.color}-800 dark:bg-${getSelectedBloodGroupInfo()?.color}-900 dark:text-${getSelectedBloodGroupInfo()?.color}-300`}>\n                                      ðŸ©¸\n                                      {getSelectedBloodGroupInfo()?.label}\n                                    </span>\n                                  </>\n                                )}\n                              </div>\n                            </div>\n\n                            {/* Donor Status Confirmation */}\n                            <div className=\"flex items-center justify-between\">\n                              <span className=\"text-gray-700 dark:text-gray-300\">Donor Status:</span>\n                              <div className=\"flex items-center space-x-2\">\n                                <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n                                  watchedValues.isBloodDonor\n                                    ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'\n                                    : 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\n                                }`}>\n                                  {watchedValues.isBloodDonor ? (\n                                    <HeartSolidIcon className=\"h-4 w-4 mr-1\" />\n                                  ) : (\n                                    <HeartIcon className=\"h-4 w-4 mr-1\" />\n                                  )}\n                                  {watchedValues.isBloodDonor ? 'Active Donor' : 'Not a Donor'}\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n\n                          {watchedValues.isBloodDonor && (\n                            <div className=\"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg\">\n                              <div className=\"flex items-start\">\n                                <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-500 mt-0.5 mr-3 flex-shrink-0\" />\n                                <div className=\"text-sm text-yellow-700 dark:text-yellow-300\">\n                                  <p className=\"font-medium mb-1\">Important Notes:</p>\n                                  <ul className=\"space-y-1 list-disc list-inside\">\n                                    <li>You must be 18-65 years old and weigh at least 50kg</li>\n                                    <li>Wait at least 3 months between donations</li>\n                                    <li>You can opt out of the donor network anytime</li>\n                                  </ul>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n                        </motion.div>\n                      )}\n                    </AnimatePresence>\n                  )}\n                </div>\n\n                {/* Footer */}\n                <div className=\"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700\">\n                  <button\n                    type=\"button\"\n                    onClick={step === 'bloodGroup' ? onClose : handleBack}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                  >\n                    {step === 'bloodGroup' ? 'Cancel' : 'Back'}\n                  </button>\n\n                  {step === 'confirmation' ? (\n                    <button\n                      type=\"submit\"\n                      disabled={updateLoading}\n                      className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50\"\n                    >\n                      {updateLoading ? (\n                        <>\n                          <LoadingSpinner size=\"small\" className=\"mr-2\" />\n                          Saving...\n                        </>\n                      ) : (\n                        'Save Profile'\n                      )}\n                    </button>\n                  ) : (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        if (step === 'bloodGroup' && selectedBloodGroup) {\n                          setStep('donorStatus')\n                        } else if (step === 'donorStatus') {\n                          setStep('confirmation')\n                        }\n                      }}\n                      disabled={step === 'bloodGroup' && !selectedBloodGroup}\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50\"\n                    >\n                      Continue\n                    </button>\n                  )}\n                </div>\n              </form>\n            </DialogPanel>\n          </div>\n        </Dialog>\n      )}\n    </AnimatePresence>\n  )\n}\n\nexport default BloodProfileModal","// src/components/common/UI/BloodCompatibilityModal.tsx\nimport React from 'react'\nimport { Dialog, DialogPanel, DialogTitle, DialogBackdrop } from '@headlessui/react'\nimport {\n  XMarkIcon,\n  HeartIcon,\n  ArrowRightIcon,\n  InformationCircleIcon\n} from '@heroicons/react/24/outline'\nimport { motion } from 'framer-motion'\n\ninterface BloodCompatibilityModalProps {\n  isOpen: boolean\n  onClose: () => void\n}\n\nconst BloodCompatibilityModal: React.FC<BloodCompatibilityModalProps> = ({ isOpen, onClose }) => {\n  const compatibilityData = [\n    {\n      donor: 'Oâˆ’',\n      recipients: ['Oâˆ’', 'O+', 'Aâˆ’', 'A+', 'Bâˆ’', 'B+', 'ABâˆ’', 'AB+'],\n      color: 'red',\n      title: 'Universal Donor',\n      description: 'Can donate to all blood types'\n    },\n    {\n      donor: 'O+',\n      recipients: ['O+', 'A+', 'B+', 'AB+'],\n      color: 'orange',\n      title: 'Common Donor',\n      description: 'Can donate to all positive blood types'\n    },\n    {\n      donor: 'Aâˆ’',\n      recipients: ['Aâˆ’', 'A+', 'ABâˆ’', 'AB+'],\n      color: 'blue',\n      title: 'A Negative',\n      description: 'Can donate to A and AB types'\n    },\n    {\n      donor: 'A+',\n      recipients: ['A+', 'AB+'],\n      color: 'indigo',\n      title: 'A Positive',\n      description: 'Can donate to A+ and AB+'\n    },\n    {\n      donor: 'Bâˆ’',\n      recipients: ['Bâˆ’', 'B+', 'ABâˆ’', 'AB+'],\n      color: 'green',\n      title: 'B Negative',\n      description: 'Can donate to B and AB types'\n    },\n    {\n      donor: 'B+',\n      recipients: ['B+', 'AB+'],\n      color: 'emerald',\n      title: 'B Positive',\n      description: 'Can donate to B+ and AB+'\n    },\n    {\n      donor: 'ABâˆ’',\n      recipients: ['ABâˆ’', 'AB+'],\n      color: 'purple',\n      title: 'AB Negative',\n      description: 'Can donate to AB types only'\n    },\n    {\n      donor: 'AB+',\n      recipients: ['AB+'],\n      color: 'pink',\n      title: 'Universal Recipient',\n      description: 'Can only donate to AB+ but can receive from all'\n    }\n  ]\n\n  const recipientData = [\n    {\n      recipient: 'Oâˆ’',\n      canReceiveFrom: ['Oâˆ’'],\n      color: 'red',\n      title: 'Universal Donor Blood Type',\n      description: 'Can only receive from Oâˆ’'\n    },\n    {\n      recipient: 'O+',\n      canReceiveFrom: ['Oâˆ’', 'O+'],\n      color: 'orange',\n      title: 'O Positive',\n      description: 'Can receive from Oâˆ’ and O+'\n    },\n    {\n      recipient: 'Aâˆ’',\n      canReceiveFrom: ['Oâˆ’', 'Aâˆ’'],\n      color: 'blue',\n      title: 'A Negative',\n      description: 'Can receive from Oâˆ’ and Aâˆ’'\n    },\n    {\n      recipient: 'A+',\n      canReceiveFrom: ['Oâˆ’', 'O+', 'Aâˆ’', 'A+'],\n      color: 'indigo',\n      title: 'A Positive',\n      description: 'Can receive from O and A types'\n    },\n    {\n      recipient: 'Bâˆ’',\n      canReceiveFrom: ['Oâˆ’', 'Bâˆ’'],\n      color: 'green',\n      title: 'B Negative',\n      description: 'Can receive from Oâˆ’ and Bâˆ’'\n    },\n    {\n      recipient: 'B+',\n      canReceiveFrom: ['Oâˆ’', 'O+', 'Bâˆ’', 'B+'],\n      color: 'emerald',\n      title: 'B Positive',\n      description: 'Can receive from O and B types'\n    },\n    {\n      recipient: 'ABâˆ’',\n      canReceiveFrom: ['Oâˆ’', 'Aâˆ’', 'Bâˆ’', 'ABâˆ’'],\n      color: 'purple',\n      title: 'AB Negative',\n      description: 'Can receive from all negative types'\n    },\n    {\n      recipient: 'AB+',\n      canReceiveFrom: ['Oâˆ’', 'O+', 'Aâˆ’', 'A+', 'Bâˆ’', 'B+', 'ABâˆ’', 'AB+'],\n      color: 'pink',\n      title: 'Universal Recipient',\n      description: 'Can receive from all blood types'\n    }\n  ]\n\n  const colorClasses = {\n    red: 'bg-red-100 text-red-800 border-red-300 dark:bg-red-900/30 dark:text-red-300 dark:border-red-700',\n    orange: 'bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-700',\n    blue: 'bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700',\n    indigo: 'bg-indigo-100 text-indigo-800 border-indigo-300 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-700',\n    green: 'bg-green-100 text-green-800 border-green-300 dark:bg-green-900/30 dark:text-green-300 dark:border-green-700',\n    emerald: 'bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700',\n    purple: 'bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-700',\n    pink: 'bg-pink-100 text-pink-800 border-pink-300 dark:bg-pink-900/30 dark:text-pink-300 dark:border-pink-700'\n  }\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <DialogBackdrop className=\"fixed inset-0 bg-black/30 backdrop-blur-sm\" />\n\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <DialogPanel className=\"w-full max-w-5xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-h-[90vh] overflow-hidden\">\n          {/* Header */}\n          <div className=\"sticky top-0 bg-gradient-to-r from-red-600 to-pink-600 dark:from-red-700 dark:to-pink-700 px-6 py-4 flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <HeartIcon className=\"h-6 w-6 text-white\" />\n              <DialogTitle className=\"text-xl font-bold text-white\">\n                Blood Compatibility Guide\n              </DialogTitle>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"p-1 rounded-full hover:bg-white/20 transition-colors\"\n            >\n              <XMarkIcon className=\"h-6 w-6 text-white\" />\n            </button>\n          </div>\n\n          {/* Content */}\n          <div className=\"overflow-y-auto max-h-[calc(90vh-80px)] p-6\">\n            {/* Info Banner */}\n            <div className=\"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\n              <div className=\"flex gap-3\">\n                <InformationCircleIcon className=\"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <h3 className=\"font-semibold text-blue-900 dark:text-blue-300 mb-1\">\n                    Understanding Blood Compatibility\n                  </h3>\n                  <p className=\"text-sm text-blue-800 dark:text-blue-400\">\n                    Blood type compatibility is crucial for safe transfusions. Donors can give blood to specific\n                    recipients based on their blood group. This guide shows who you can help based on your blood type.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Donor Compatibility Section */}\n            <div className=\"mb-8\">\n              <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                <ArrowRightIcon className=\"h-5 w-5 text-red-600\" />\n                As a Donor: Who Can I Help?\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {compatibilityData.map((item) => (\n                  <motion.div\n                    key={item.donor}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"p-4 border-2 rounded-xl bg-white dark:bg-gray-700/50 hover:shadow-lg transition-all\"\n                  >\n                    <div className=\"flex items-start gap-3 mb-3\">\n                      <div className={`px-3 py-1 rounded-lg font-bold border-2 ${colorClasses[item.color as keyof typeof colorClasses]}`}>\n                        {item.donor}\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-gray-900 dark:text-white\">\n                          {item.title}\n                        </h3>\n                        <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                          {item.description}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex flex-wrap gap-2\">\n                      <span className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">\n                        Can donate to:\n                      </span>\n                      {item.recipients.map((recipient) => (\n                        <span\n                          key={recipient}\n                          className=\"px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 border border-green-300 dark:border-green-700\"\n                        >\n                          {recipient}\n                        </span>\n                      ))}\n                    </div>\n                  </motion.div>\n                ))}\n              </div>\n            </div>\n\n            {/* Recipient Compatibility Section */}\n            <div>\n              <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                <ArrowRightIcon className=\"h-5 w-5 text-blue-600 rotate-180\" />\n                As a Recipient: Who Can Help Me?\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {recipientData.map((item) => (\n                  <motion.div\n                    key={item.recipient}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"p-4 border-2 rounded-xl bg-white dark:bg-gray-700/50 hover:shadow-lg transition-all\"\n                  >\n                    <div className=\"flex items-start gap-3 mb-3\">\n                      <div className={`px-3 py-1 rounded-lg font-bold border-2 ${colorClasses[item.color as keyof typeof colorClasses]}`}>\n                        {item.recipient}\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-gray-900 dark:text-white\">\n                          {item.title}\n                        </h3>\n                        <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                          {item.description}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex flex-wrap gap-2\">\n                      <span className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">\n                        Can receive from:\n                      </span>\n                      {item.canReceiveFrom.map((donor) => (\n                        <span\n                          key={donor}\n                          className=\"px-2 py-1 text-xs font-semibold rounded bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-300 dark:border-blue-700\"\n                        >\n                          {donor}\n                        </span>\n                      ))}\n                    </div>\n                  </motion.div>\n                ))}\n              </div>\n            </div>\n\n            {/* Key Facts */}\n            <div className=\"mt-8 p-5 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-xl border border-red-200 dark:border-red-800\">\n              <h3 className=\"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2\">\n                <HeartIcon className=\"h-5 w-5 text-red-600\" />\n                Key Facts About Blood Donation\n              </h3>\n              <ul className=\"space-y-2 text-sm text-gray-700 dark:text-gray-300\">\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-red-600 dark:text-red-400\">â€¢</span>\n                  <span><strong>Oâˆ’ (Universal Donor):</strong> Can save anyone in emergencies - most valuable blood type</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-pink-600 dark:text-pink-400\">â€¢</span>\n                  <span><strong>AB+ (Universal Recipient):</strong> Can receive from all types but can only help AB+</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 dark:text-blue-400\">â€¢</span>\n                  <span><strong>Waiting Period:</strong> Must wait 90 days (3 months) between blood donations for health safety</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-green-600 dark:text-green-400\">â€¢</span>\n                  <span><strong>One Donation:</strong> Can save up to 3 lives by separating blood components (red cells, platelets, plasma)</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </DialogPanel>\n      </div>\n    </Dialog>\n  )\n}\n\nexport default BloodCompatibilityModal\n","// src/pages/user/LifeLink.tsx\nimport React, { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport {\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  HeartIcon,\n  UserGroupIcon,\n  MapPinIcon,\n  ChevronDownIcon,\n  XMarkIcon,\n  ArrowPathIcon,\n  PhoneIcon,\n  SparklesIcon,\n  PlusIcon,\n  ClockIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  InformationCircleIcon,\n  ChartBarIcon,\n  EnvelopeIcon,\n  BellIcon,\n} from '@heroicons/react/24/outline'\nimport { HeartIcon as HeartSolidIcon } from '@heroicons/react/24/solid'\nimport { Dialog, DialogPanel, DialogTitle, DialogBackdrop } from '@headlessui/react'\nimport { useForm } from 'react-hook-form'\nimport { format } from 'date-fns'\nimport toast from 'react-hot-toast'\nimport { \n  useGetLifeLinkDashboardQuery,\n  useGetBloodGroupStatsQuery,\n  useGetBloodProfileQuery,\n  useGetDonationStatusQuery,\n  useGetMyDonationsQuery,\n  useAddDonationMutation,\n  useDiscoverRequisitionsQuery,\n  useGetMyRequisitionsQuery,\n  useCreateRequisitionMutation,\n  useSearchDonorsMutation,\n  useNotifyAllDonorsMutation,\n  useRespondToRequisitionMutation,\n} from '../../store/api/lifeLinkApi'\nimport { useGetPublicOrganizationQuery } from '../../store/api/apiSlice'\nimport LoadingSpinner from '../../components/common/UI/LoadingSpinner'\nimport BloodProfileModal from '../../components/common/UI/BloodProfileModal'\nimport BloodCompatibilityModal from '../../components/common/UI/BloodCompatibilityModal'\nimport type { BloodGroup, BloodProfile, CreateRequisitionRequest, UrgencyLevel, DonorResponseStatus } from '../../types/lifeLink'\nimport { getApiUrl } from '@/utils/helpers'\n\n// Blood group options for filtering\nconst BLOOD_GROUP_OPTIONS: Array<{ value: BloodGroup | ''; label: string; color: string }> = [\n  { value: '', label: 'All Blood Groups', color: 'gray' },\n  { value: 'O_NEGATIVE', label: 'Oâˆ’', color: 'red' },\n  { value: 'O_POSITIVE', label: 'O+', color: 'orange' },\n  { value: 'A_NEGATIVE', label: 'Aâˆ’', color: 'blue' },\n  { value: 'A_POSITIVE', label: 'A+', color: 'indigo' },\n  { value: 'B_NEGATIVE', label: 'Bâˆ’', color: 'green' },\n  { value: 'B_POSITIVE', label: 'B+', color: 'emerald' },\n  { value: 'AB_NEGATIVE', label: 'ABâˆ’', color: 'purple' },\n  { value: 'AB_POSITIVE', label: 'AB+', color: 'pink' },\n]\n\nconst URGENCY_OPTIONS: { value: UrgencyLevel; label: string; description: string; color: string }[] = [\n  { \n    value: 'HIGH', \n    label: 'High Priority', \n    description: 'Emergency surgery, critical condition', \n    color: 'border-red-500 bg-red-50 dark:bg-red-900/20' \n  },\n  { \n    value: 'MEDIUM', \n    label: 'Medium Priority', \n    description: 'Planned surgery, stable condition', \n    color: 'border-orange-500 bg-orange-50 dark:bg-orange-900/20' \n  },\n  { \n    value: 'LOW', \n    label: 'Low Priority', \n    description: 'Scheduled procedure, non-urgent', \n    color: 'border-green-500 bg-green-50 dark:bg-green-900/20' \n  }\n]\n\n// Modal Components\nconst MyDonationsModal: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => {\n  const [page, setPage] = useState(1)\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [addDonation, { isLoading: isAdding }] = useAddDonationMutation()\n  \n  const { data: donationsData, isLoading, refetch } = useGetMyDonationsQuery({ page, limit: 5 })\n  const { data: statusData } = useGetDonationStatusQuery()\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors }\n  } = useForm({\n    defaultValues: {\n      donationDate: new Date().toISOString().split('T')[0],\n      location: '',\n      units: 1,\n      notes: ''\n    }\n  })\n\n  const onSubmit = async (data: any) => {\n    try {\n      await addDonation(data).unwrap()\n      refetch()\n      setShowAddForm(false)\n      reset()\n    } catch (error) {\n      console.error('Failed to add donation:', error)\n    }\n  }\n\n  const donations = donationsData?.donations || []\n  const summary = donationsData?.summary\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <DialogBackdrop className=\"fixed inset-0 bg-black/30 backdrop-blur-sm\" />\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <DialogPanel className=\"mx-auto max-w-4xl w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl max-h-[90vh] overflow-y-auto\">\n          <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <DialogTitle className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                My Blood Donations\n              </DialogTitle>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setShowAddForm(true)}\n                  className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center gap-2\"\n                >\n                  <PlusIcon className=\"h-4 w-4\" />\n                  Add Donation\n                </button>\n                <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n                  <XMarkIcon className=\"h-6 w-6\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Status Card */}\n            {statusData && (\n              <div className={`p-4 rounded-lg mb-6 ${\n                statusData.eligibility.isEligible\n                  ? 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800'\n                  : 'bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800'\n              }`}>\n                <h3 className={`font-semibold ${\n                  statusData.eligibility.isEligible\n                    ? 'text-green-800 dark:text-green-200'\n                    : 'text-orange-800 dark:text-orange-200'\n                }`}>\n                  {statusData.eligibility.isEligible ? 'âœ… Eligible to Donate' : 'â³ Not Eligible Yet'}\n                </h3>\n                <p className=\"text-sm mt-1\">{statusData.eligibility.message}</p>\n              </div>\n            )}\n\n            {/* Summary Stats */}\n            {summary && (\n              <div className=\"grid grid-cols-4 gap-4 mb-6\">\n                <div className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center\">\n                  <div className=\"text-2xl font-bold text-red-500\">{summary.totalDonations || 0}</div>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400\">Total Donations</div>\n                </div>\n                <div className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center\">\n                  <div className=\"text-2xl font-bold text-red-600\">{summary.totalUnits || 0}</div>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400\">Units Donated</div>\n                </div>\n                <div className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center\">\n                  <div className=\"text-sm font-semibold text-gray-900 dark:text-white mb-1\">Last Donation</div>\n                  <div className=\"text-xs text-gray-600 dark:text-gray-400\">\n                    {summary.lastDonationDate ? format(new Date(summary.lastDonationDate), 'MMM dd, yyyy') : 'None'}\n                  </div>\n                </div>\n                <div className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center\">\n                  <div className=\"text-2xl font-bold text-green-500\">~{(summary.totalUnits || 0) * 3}</div>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400\">Lives Impacted</div>\n                </div>\n              </div>\n            )}\n\n            {/* Add Donation Form */}\n            {showAddForm && (\n              <div className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-6\">\n                <h4 className=\"font-semibold mb-4\">Add New Donation</h4>\n                <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Donation Date</label>\n                      <input\n                        {...register('donationDate', { required: true })}\n                        type=\"date\"\n                        max={new Date().toISOString().split('T')[0]}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-600 dark:border-gray-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Units</label>\n                      <select {...register('units')} className=\"w-full p-2 border rounded-lg dark:bg-gray-600 dark:border-gray-500\">\n                        {[1,2,3,4,5].map(n => <option key={n} value={n}>{n} unit{n>1?'s':''}</option>)}\n                      </select>\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Location</label>\n                    <input\n                      {...register('location', { required: true })}\n                      placeholder=\"e.g., Red Cross Center, AIIMS Hospital\"\n                      className=\"w-full p-2 border rounded-lg dark:bg-gray-600 dark:border-gray-500\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Notes (Optional)</label>\n                    <textarea\n                      {...register('notes')}\n                      rows={2}\n                      className=\"w-full p-2 border rounded-lg dark:bg-gray-600 dark:border-gray-500\"\n                    />\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      type=\"submit\"\n                      disabled={isAdding}\n                      className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50\"\n                    >\n                      {isAdding ? <LoadingSpinner size=\"sm\" /> : 'Add Donation'}\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowAddForm(false)}\n                      className=\"px-4 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </form>\n              </div>\n            )}\n\n            {/* Donations List */}\n            {isLoading ? (\n              <LoadingSpinner />\n            ) : donations.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <div className=\"text-6xl mb-4\">ðŸ©¸</div>\n                <h3 className=\"text-lg font-medium mb-2\">No donations recorded yet</h3>\n                <p className=\"text-gray-600 dark:text-gray-400 mb-4\">Start your life-saving journey!</p>\n                <button\n                  onClick={() => setShowAddForm(true)}\n                  className=\"px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600\"\n                >\n                  Add Your First Donation\n                </button>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {donations.map((donation) => (\n                  <div key={donation.id} className=\"border rounded-lg p-4 dark:border-gray-600\">\n                    <div className=\"flex justify-between items-start\">\n                      <div>\n                        <h4 className=\"font-medium\">{donation.location}</h4>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                          {format(new Date(donation.donationDate), 'PPP')}\n                        </p>\n                        {donation.notes && (\n                          <p className=\"text-sm text-gray-500 mt-1\">{donation.notes}</p>\n                        )}\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"text-lg font-semibold text-red-500\">\n                          {donation.units} unit{donation.units > 1 ? 's' : ''}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </DialogPanel>\n      </div>\n    </Dialog>\n  )\n}\n\nconst EmergencyRequestsModal: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => {\n  const [activeTab, setActiveTab] = useState<'discover' | 'my-requests'>('discover')\n  const [selectedRequisition, setSelectedRequisition] = useState<any>(null)\n  const [showRespondForm, setShowRespondForm] = useState(false)\n  \n  const { data: discoverData, isLoading: loadingDiscover } = useDiscoverRequisitionsQuery({ page: 1, limit: 10 })\n  const { data: myRequestsData, isLoading: loadingMyRequests } = useGetMyRequisitionsQuery({ page: 1, limit: 10 })\n  const [respondToRequisition, { isLoading: isResponding }] = useRespondToRequisitionMutation()\n\n  const isLoading = activeTab === 'discover' ? loadingDiscover : loadingMyRequests\n  const requisitions = activeTab === 'discover'\n    ? (discoverData?.requisitions || [])\n    : (myRequestsData?.requisitions || [])\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n  } = useForm({\n    defaultValues: {\n      response: 'WILLING' as DonorResponseStatus,\n      message: ''\n    }\n  })\n\n  const onRespondSubmit = async (data: any) => {\n    if (!selectedRequisition) return\n    try {\n      await respondToRequisition({\n        requisitionId: selectedRequisition.id,\n        response: data\n      }).unwrap()\n      setShowRespondForm(false)\n      setSelectedRequisition(null)\n      reset()\n    } catch (error) {\n      console.error('Failed to respond:', error)\n    }\n  }\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <DialogBackdrop className=\"fixed inset-0 bg-black/30 backdrop-blur-sm\" />\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <DialogPanel className=\"mx-auto max-w-5xl w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl max-h-[90vh] overflow-y-auto\">\n          <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <DialogTitle className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                Emergency Blood Requests\n              </DialogTitle>\n              <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            {/* Tabs */}\n            <div className=\"flex space-x-1 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg mb-6\">\n              <button\n                onClick={() => setActiveTab('discover')}\n                className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n                  activeTab === 'discover'\n                    ? 'bg-white dark:bg-gray-600 text-red-600 dark:text-red-400 shadow-sm'\n                    : 'text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white'\n                }`}\n              >\n                ðŸ†˜ Help Others\n              </button>\n              <button\n                onClick={() => setActiveTab('my-requests')}\n                className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n                  activeTab === 'my-requests'\n                    ? 'bg-white dark:bg-gray-600 text-red-600 dark:text-red-400 shadow-sm'\n                    : 'text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white'\n                }`}\n              >\n                ðŸ“‹ My Requests\n              </button>\n            </div>\n\n            {/* Content */}\n            {isLoading ? (\n              <LoadingSpinner />\n            ) : requisitions.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"text-6xl mb-4\">{activeTab === 'discover' ? 'ðŸ”' : 'ðŸ“‹'}</div>\n                <h3 className=\"text-lg font-medium mb-2\">\n                  {activeTab === 'discover' ? 'No emergency requests found' : 'No requests created yet'}\n                </h3>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {requisitions.map((req: any) => (\n                  <div key={req.id} className=\"border rounded-lg p-4 dark:border-gray-600\">\n                    <div className=\"flex justify-between items-start\">\n                      <div>\n                        <h4 className=\"font-semibold\">Patient: {req.patientName}</h4>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                          {req.hospitalName} â€¢ {req.location}\n                        </p>\n                        <p className=\"text-sm\">\n                          Needs: {req.unitsNeeded} unit{req.unitsNeeded > 1 ? 's' : ''} of {req.requiredBloodGroup.replace('_', ' ')}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          Required by: {format(new Date(req.requiredByDate), 'PPP')}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${\n                          req.urgencyLevel === 'HIGH' ? 'bg-red-100 text-red-800' :\n                          req.urgencyLevel === 'MEDIUM' ? 'bg-orange-100 text-orange-800' :\n                          'bg-green-100 text-green-800'\n                        }`}>\n                          {req.urgencyLevel} PRIORITY\n                        </span>\n                        {activeTab === 'discover' && req.status === 'ACTIVE' && (\n                          <button\n                            onClick={() => {\n                              setSelectedRequisition(req)\n                              setShowRespondForm(true)\n                            }}\n                            className=\"block mt-2 px-3 py-1 bg-green-500 text-white text-sm rounded hover:bg-green-600\"\n                          >\n                            ðŸ¤ I Can Help\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Respond Form Modal */}\n            {showRespondForm && selectedRequisition && (\n              <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-10\">\n                <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md\">\n                  <h3 className=\"text-lg font-bold mb-4\">Respond to Request</h3>\n                  <form onSubmit={handleSubmit(onRespondSubmit)} className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">Your Response</label>\n                      <select {...register('response')} className=\"w-full p-2 border rounded-lg dark:bg-gray-700\">\n                        <option value=\"WILLING\">I can help!</option>\n                        <option value=\"NOT_AVAILABLE\">Not available now</option>\n                        <option value=\"NOT_SUITABLE\">Cannot donate</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2\">Message (Optional)</label>\n                      <textarea\n                        {...register('message')}\n                        rows={3}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-700\"\n                        placeholder=\"Any message for the requester...\"\n                      />\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <button\n                        type=\"submit\"\n                        disabled={isResponding}\n                        className=\"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50\"\n                      >\n                        {isResponding ? <LoadingSpinner size=\"sm\" /> : 'Send Response'}\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowRespondForm(false)}\n                        className=\"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600\"\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            )}\n          </div>\n        </DialogPanel>\n      </div>\n    </Dialog>\n  )\n}\n\nconst CreateEmergencyRequestModal: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => {\n  const [step, setStep] = useState(1)\n  const [donorCount, setDonorCount] = useState<number | null>(null)\n  const [searchingDonors, setSearchingDonors] = useState(false)\n  \n  const [createRequisition, { isLoading: isCreating }] = useCreateRequisitionMutation()\n  const [searchDonors] = useSearchDonorsMutation()\n  const [notifyAllDonors] = useNotifyAllDonorsMutation()\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors, isValid },\n    reset\n  } = useForm<CreateRequisitionRequest>({\n    mode: 'onChange',\n    defaultValues: {\n      unitsNeeded: 1,\n      urgencyLevel: 'HIGH',\n      allowContactReveal: true,\n      requiredByDate: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n    }\n  })\n\n  const watchedValues = watch()\n\n  // Check donor count when blood group and location change\n  useEffect(() => {\n    const checkDonorCount = async () => {\n      if (watchedValues.requiredBloodGroup && watchedValues.location && watchedValues.location.length > 2) {\n        setSearchingDonors(true)\n        try {\n          const result = await searchDonors({\n            requiredBloodGroup: watchedValues.requiredBloodGroup,\n            location: watchedValues.location,\n            limit: 100\n          }).unwrap()\n          setDonorCount(result.totalFound || 0)\n        } catch (error) {\n          setDonorCount(0)\n        } finally {\n          setSearchingDonors(false)\n        }\n      } else {\n        setDonorCount(null)\n      }\n    }\n\n    const timer = setTimeout(checkDonorCount, 500)\n    return () => clearTimeout(timer)\n  }, [watchedValues.requiredBloodGroup, watchedValues.location, searchDonors])\n\n  const onSubmit = async (data: CreateRequisitionRequest) => {\n    try {\n      const result = await createRequisition({\n        ...data,\n        requiredByDate: new Date(data.requiredByDate).toISOString()\n      }).unwrap()\n      \n      // Auto-notify all donors\n      try {\n        await notifyAllDonors({ requisitionId: result.id }).unwrap()\n        toast.success(`Emergency request created and ${donorCount} donors notified!`)\n      } catch (error) {\n        console.error('Failed to notify donors:', error)\n        toast.error('Request created but failed to notify donors')\n      }\n      \n      onClose()\n      reset()\n      setStep(1)\n    } catch (error) {\n      console.error('Failed to create requisition:', error)\n      toast.error('Failed to create emergency request')\n    }\n  }\n\n  const nextStep = () => setStep(step + 1)\n  const prevStep = () => setStep(step - 1)\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <DialogBackdrop className=\"fixed inset-0 bg-black/30 backdrop-blur-sm\" />\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <DialogPanel className=\"mx-auto max-w-2xl w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl max-h-[90vh] overflow-y-auto\">\n          <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <DialogTitle className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                Create Emergency Blood Request\n              </DialogTitle>\n              <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            {/* Progress Steps */}\n            <div className=\"flex items-center justify-center mb-8\">\n              {[1, 2, 3].map((stepNumber) => (\n                <React.Fragment key={stepNumber}>\n                  <div className={`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${\n                    step >= stepNumber\n                      ? 'bg-red-500 text-white'\n                      : 'bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400'\n                  }`}>\n                    {stepNumber}\n                  </div>\n                  {stepNumber < 3 && (\n                    <div className={`w-12 h-1 mx-2 ${\n                      step > stepNumber ? 'bg-red-500' : 'bg-gray-200 dark:bg-gray-700'\n                    }`} />\n                  )}\n                </React.Fragment>\n              ))}\n            </div>\n\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n              {/* Step 1: Patient & Hospital */}\n              {step === 1 && (\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold\">Patient & Hospital Information</h3>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Patient Name *</label>\n                      <input\n                        {...register('patientName', { required: 'Required' })}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                        placeholder=\"Enter patient's full name\"\n                      />\n                      {errors.patientName && <p className=\"text-red-500 text-xs\">{errors.patientName.message}</p>}\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Hospital Name *</label>\n                      <input\n                        {...register('hospitalName', { required: 'Required' })}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                        placeholder=\"e.g., AIIMS Hospital\"\n                      />\n                      {errors.hospitalName && <p className=\"text-red-500 text-xs\">{errors.hospitalName.message}</p>}\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Contact Number *</label>\n                      <input\n                        {...register('contactNumber', { \n                          required: 'Required',\n                          pattern: { value: /^[6-9]\\d{9}$/, message: 'Invalid number' }\n                        })}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                        placeholder=\"10-digit mobile number\"\n                      />\n                      {errors.contactNumber && <p className=\"text-red-500 text-xs\">{errors.contactNumber.message}</p>}\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Alternate Number</label>\n                      <input\n                        {...register('alternateNumber')}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                        placeholder=\"Alternative contact\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex justify-end\">\n                    <button\n                      type=\"button\"\n                      onClick={nextStep}\n                      disabled={!watchedValues.patientName || !watchedValues.hospitalName || !watchedValues.contactNumber}\n                      className=\"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50\"\n                    >\n                      Next â†’\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 2: Blood Requirements */}\n              {step === 2 && (\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold\">Blood Requirements</h3>\n                  \n                  {/* Blood Group Selection */}\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">Required Blood Group *</label>\n                    <div className=\"grid grid-cols-4 gap-2\">\n                      {BLOOD_GROUP_OPTIONS.slice(1).map((option) => (\n                        <label\n                          key={option.value}\n                          className={`flex items-center justify-center p-2 border-2 rounded-lg cursor-pointer transition-colors ${\n                            watchedValues.requiredBloodGroup === option.value\n                              ? 'border-red-500 bg-red-50 dark:bg-red-900/20'\n                              : 'border-gray-200 dark:border-gray-600 hover:border-gray-300'\n                          }`}\n                        >\n                          <input\n                            {...register('requiredBloodGroup', { required: true })}\n                            type=\"radio\"\n                            value={option.value}\n                            className=\"sr-only\"\n                          />\n                          <span className=\"font-medium\">{option.label}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Hospital Location */}\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Hospital Location/Area *</label>\n                    <input\n                      {...register('location', { required: 'Required' })}\n                      className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                      placeholder=\"e.g., Sector 14, Gurgaon, Haryana\"\n                    />\n                    {errors.location && <p className=\"text-red-500 text-xs\">{errors.location.message}</p>}\n                  </div>\n\n                  {/* Donor Count Display */}\n                  {(donorCount !== null || searchingDonors) && (\n                    <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg\">\n                      <div className=\"flex items-center space-x-2\">\n                        <UserGroupIcon className=\"h-5 w-5 text-blue-600\" />\n                        {searchingDonors ? (\n                          <span className=\"text-blue-800 dark:text-blue-200\">Searching for donors...</span>\n                        ) : (\n                          <span className=\"text-blue-800 dark:text-blue-200\">\n                            <strong>{donorCount}</strong> potential donor{donorCount !== 1 ? 's' : ''} found in this area\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Units Needed *</label>\n                      <select\n                        {...register('unitsNeeded')}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                      >\n                        {[1,2,3,4,5,6,7,8,9,10].map(n => (\n                          <option key={n} value={n}>{n} unit{n>1?'s':''}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Required By Date *</label>\n                      <input\n                        {...register('requiredByDate', { required: true })}\n                        type=\"date\"\n                        min={new Date().toISOString().split('T')[0]}\n                        className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium mb-2\">Urgency Level *</label>\n                    <div className=\"space-y-2\">\n                      {URGENCY_OPTIONS.map((option) => (\n                        <label\n                          key={option.value}\n                          className={`flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors ${\n                            watchedValues.urgencyLevel === option.value\n                              ? option.color\n                              : 'border-gray-200 dark:border-gray-600 hover:border-gray-300'\n                          }`}\n                        >\n                          <input\n                            {...register('urgencyLevel')}\n                            type=\"radio\"\n                            value={option.value}\n                            className=\"mt-1 mr-3\"\n                          />\n                          <div>\n                            <div className=\"font-medium\">{option.label}</div>\n                            <div className=\"text-sm text-gray-600 dark:text-gray-400\">{option.description}</div>\n                          </div>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-between\">\n                    <button\n                      type=\"button\"\n                      onClick={prevStep}\n                      className=\"px-6 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700\"\n                    >\n                      â† Previous\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={nextStep}\n                      disabled={!watchedValues.requiredBloodGroup || !watchedValues.location}\n                      className=\"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50\"\n                    >\n                      Next â†’\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 3: Additional Details */}\n              {step === 3 && (\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold\">Additional Details</h3>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Medical Condition (Optional)</label>\n                    <textarea\n                      {...register('medicalCondition')}\n                      rows={3}\n                      className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                      placeholder=\"Brief description of the medical condition...\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Additional Notes (Optional)</label>\n                    <textarea\n                      {...register('additionalNotes')}\n                      rows={2}\n                      className=\"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600\"\n                      placeholder=\"Any additional information...\"\n                    />\n                  </div>\n\n                  <div className=\"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg\">\n                    <label className=\"flex items-center space-x-2\">\n                      <input\n                        {...register('allowContactReveal')}\n                        type=\"checkbox\"\n                        className=\"text-red-500\"\n                      />\n                      <div>\n                        <div className=\"font-medium\">Allow Contact Information Sharing</div>\n                        <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n                          Willing donors will see your contact information\n                        </div>\n                      </div>\n                    </label>\n                  </div>\n\n                  {/* Alert Notification Section */}\n                  {donorCount !== null && donorCount > 0 && (\n                    <div className=\"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-lg\">\n                      <div className=\"flex items-center space-x-2 mb-2\">\n                        <BellIcon className=\"h-5 w-5 text-amber-600\" />\n                        <span className=\"font-medium text-amber-800 dark:text-amber-200\">\n                          Alert Notification Ready\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-amber-700 dark:text-amber-300\">\n                        When you submit this request, all {donorCount} potential donors in the area will be immediately notified via push notification about this emergency.\n                      </p>\n                    </div>\n                  )}\n\n                  <div className=\"flex justify-between\">\n                    <button\n                      type=\"button\"\n                      onClick={prevStep}\n                      className=\"px-6 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700\"\n                    >\n                      â† Previous\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={isCreating || !isValid}\n                      className=\"px-8 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 flex items-center space-x-2\"\n                    >\n                      {isCreating ? (\n                        <>\n                          <LoadingSpinner size=\"sm\" />\n                          <span>Creating & Alerting...</span>\n                        </>\n                      ) : (\n                        <>\n                          <span>ðŸ†˜</span>\n                          <span>Create & Alert Donors</span>\n                        </>\n                      )}\n                    </button>\n                  </div>\n                </div>\n              )}\n            </form>\n          </div>\n        </DialogPanel>\n      </div>\n    </Dialog>\n  )\n}\n\nconst LifeLink: React.FC = () => {\n  // Modal states\n  const [showDonationsModal, setShowDonationsModal] = useState(false)\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false)\n  const [showCreateRequestModal, setShowCreateRequestModal] = useState(false)\n  const [showCompatibilityGuide, setShowCompatibilityGuide] = useState(false)\n\n  // State for search and filters\n  const [selectedBloodGroup, setSelectedBloodGroup] = useState<BloodGroup | ''>('')\n  const [eligibleOnly, setEligibleOnly] = useState('false')\n  const [searchCity, setSearchCity] = useState('')\n  const [currentPage, setCurrentPage] = useState(1)\n  const [showFilters, setShowFilters] = useState(false)\n  const [showStats, setShowStats] = useState(true)\n  const [selectedDonor, setSelectedDonor] = useState<BloodProfile | null>(null)\n  const [showProfileSetup, setShowProfileSetup] = useState(false)\n  const limit = 12\n\n  // Debounced search city\n  const [debouncedSearchCity, setDebouncedSearchCity] = useState('')\n  \n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearchCity(searchCity)\n      setCurrentPage(1)\n    }, 500)\n    return () => clearTimeout(timer)\n  }, [searchCity])\n\n  // API Queries\n  const { data: organizationData } = useGetPublicOrganizationQuery()\n  const { data: bloodProfile, isLoading: profileLoading } = useGetBloodProfileQuery()\n  const { data: donationStatus, isLoading: statusLoading } = useGetDonationStatusQuery(undefined, {\n    skip: !bloodProfile?.isBloodDonor\n  })\n  const { data: statsData, isLoading: statsLoading } = useGetBloodGroupStatsQuery()\n  const { \n    data: dashboardData, \n    isLoading: dashboardLoading,\n    isFetching,\n    refetch \n  } = useGetLifeLinkDashboardQuery({\n    bloodGroup: selectedBloodGroup || undefined,\n    eligibleOnly,\n    page: currentPage,\n    limit,\n    city: debouncedSearchCity || undefined,\n  })\n\n  const donors = dashboardData?.donors || []\n  const pagination = dashboardData?.pagination\n  const dashboardStats = dashboardData?.stats\n  const bloodStats = statsData?.stats\n\n  // Check if user needs to set up blood profile\n  useEffect(() => {\n    if (bloodProfile && !bloodProfile.bloodGroup) {\n      setShowProfileSetup(true)\n    }\n  }, [bloodProfile])\n\n  // Get blood group color\n  const getBloodGroupColor = (bloodGroup: BloodGroup) => {\n    const option = BLOOD_GROUP_OPTIONS.find(opt => opt.value === bloodGroup)\n    return option?.color || 'gray'\n  }\n\n  // Format blood group display\n  const formatBloodGroup = (bloodGroup: BloodGroup) => {\n    const option = BLOOD_GROUP_OPTIONS.find(opt => opt.value === bloodGroup)\n    return option?.label || bloodGroup\n  }\n\n  // Reset filters\n  const resetFilters = () => {\n    setSelectedBloodGroup('')\n    setEligibleOnly('false')\n    setSearchCity('')\n    setCurrentPage(1)\n  }\n\n  // Active filters count\n  const activeFiltersCount = [\n    selectedBloodGroup,\n    eligibleOnly === 'true' ? 'eligible' : null,\n    debouncedSearchCity,\n  ].filter(Boolean).length\n\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page)\n    window.scrollTo({ top: 0, behavior: 'smooth' })\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-pink-50 to-rose-50 dark:from-gray-900 dark:via-red-900/20 dark:to-gray-900\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header Section */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"text-center mb-8\"\n        >\n          <div className=\"flex items-center justify-center mb-4\">\n            <motion.div\n              animate={{\n                scale: [1, 1.1, 1],\n                rotate: [0, 5, -5, 0]\n              }}\n              transition={{ duration: 2, repeat: Infinity, repeatDelay: 3 }}\n              className=\"bg-gradient-to-r from-red-500 to-pink-500 p-2 sm:p-2.5 rounded-full mr-3 sm:mr-4\"\n            >\n              <HeartSolidIcon className=\"h-5 w-5 sm:h-6 sm:w-6 text-white\" />\n            </motion.div>\n            <h1 className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent\">\n              LifeLink Network\n            </h1>\n          </div>\n          <p className=\"text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto\">\n            Connect with blood donors in our alumni community. Every donation can save up to three lives.\n          </p>\n          {organizationData && (\n            <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-2\">\n              {organizationData.name} Blood Donation Network\n            </p>\n          )}\n        </motion.div>\n\n        {/* User Status Card */}\n        {bloodProfile && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"mb-8\"\n          >\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-3 sm:p-6\">\n              <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3\">\n                <div className=\"flex items-center space-x-3 sm:space-x-4 flex-1\">\n                  <div className={`p-2 sm:p-3 rounded-full flex-shrink-0 ${\n                    bloodProfile.isBloodDonor\n                      ? 'bg-gradient-to-r from-red-500 to-pink-500'\n                      : 'bg-gray-100 dark:bg-gray-700'\n                  }`}>\n                    {bloodProfile.isBloodDonor ? (\n                      <HeartSolidIcon className=\"h-5 w-5 sm:h-6 sm:w-6 text-white\" />\n                    ) : (\n                      <HeartIcon className=\"h-5 w-5 sm:h-6 sm:w-6 text-gray-500\" />\n                    )}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"text-sm sm:text-lg font-semibold text-gray-900 dark:text-white\">\n                      {bloodProfile.isBloodDonor ? 'Registered Blood Donor' : 'Not a Blood Donor'}\n                    </h3>\n                    {bloodProfile.bloodGroup ? (\n                      <div className=\"flex items-center gap-2 sm:gap-3 mt-1 sm:mt-2 flex-wrap\">\n                        <span className=\"inline-flex items-center px-2 sm:px-4 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-bold bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200 border-2 border-red-200 dark:border-red-800\">\n                          ðŸ©¸ {formatBloodGroup(bloodProfile.bloodGroup)}\n                        </span>\n                        {(bloodProfile.totalUnitsDonated > 0 || bloodProfile.totalBloodDonations > 0) && (\n                          <span className=\"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 px-2 sm:px-3 py-1 rounded-lg whitespace-nowrap\">\n                            {bloodProfile.totalUnitsDonated || bloodProfile.totalBloodDonations} {(bloodProfile.totalUnitsDonated || bloodProfile.totalBloodDonations) === 1 ? 'unit' : 'units'} donated\n                          </span>\n                        )}\n                      </div>\n                    ) : (\n                      <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                        Complete your blood profile to join the network\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Donation Status */}\n                {bloodProfile.isBloodDonor && donationStatus && (\n                  <div className=\"sm:text-right flex-shrink-0\">\n                    <div className={`inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${\n                      donationStatus.eligibility.isEligible\n                        ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300'\n                        : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300'\n                    }`}>\n                      {donationStatus.eligibility.isEligible ? (\n                        <CheckCircleIcon className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                      ) : (\n                        <ClockIcon className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                      )}\n                      <span className=\"hidden sm:inline\">{donationStatus.eligibility.isEligible ? 'Eligible to Donate' : 'Not Eligible Yet'}</span>\n                      <span className=\"sm:hidden\">{donationStatus.eligibility.isEligible ? 'Eligible' : 'Not Eligible'}</span>\n                    </div>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                      {donationStatus.eligibility.message}\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              {/* Quick Action Buttons */}\n              <div className=\"mt-3 sm:mt-4 flex flex-wrap gap-1.5 sm:gap-2\">\n                {!bloodProfile.bloodGroup && (\n                  <button\n                    onClick={() => setShowProfileSetup(true)}\n                    className=\"inline-flex items-center px-2.5 sm:px-3 py-1.5 sm:py-2 border border-transparent text-xs sm:text-sm leading-4 font-medium rounded-md text-white bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                  >\n                    <PlusIcon className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                    <span className=\"hidden sm:inline\">Complete Blood Profile</span>\n                    <span className=\"sm:hidden\">Complete Profile</span>\n                  </button>\n                )}\n                {bloodProfile.isBloodDonor && (\n                  <>\n                    <button\n                      onClick={() => setShowDonationsModal(true)}\n                      className=\"inline-flex items-center px-2.5 sm:px-3 py-1.5 sm:py-2 border border-gray-300 dark:border-gray-600 text-xs sm:text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                    >\n                      ðŸ©¸ <span className=\"hidden sm:inline ml-1\">View My Donations</span>\n                      <span className=\"sm:hidden ml-1\">Donations</span>\n                    </button>\n                    <button\n                      onClick={() => setShowEmergencyModal(true)}\n                      className=\"inline-flex items-center px-2.5 sm:px-3 py-1.5 sm:py-2 border border-gray-300 dark:border-gray-600 text-xs sm:text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                    >\n                      ðŸ†˜ <span className=\"hidden sm:inline ml-1\">Emergency Requests</span>\n                      <span className=\"sm:hidden ml-1\">Requests</span>\n                    </button>\n                  </>\n                )}\n                <button\n                  onClick={() => setShowCreateRequestModal(true)}\n                  className=\"inline-flex items-center px-2.5 sm:px-3 py-1.5 sm:py-2 border border-red-300 text-xs sm:text-sm leading-4 font-medium rounded-md text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                >\n                  <ExclamationTriangleIcon className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                  <span className=\"hidden sm:inline\">Create Emergency Request</span>\n                  <span className=\"sm:hidden\">Create Request</span>\n                </button>\n                <button\n                  onClick={() => setShowCompatibilityGuide(true)}\n                  className=\"inline-flex items-center px-2.5 sm:px-3 py-1.5 sm:py-2 border border-gray-300 dark:border-gray-600 text-xs sm:text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                >\n                  <InformationCircleIcon className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                  <span className=\"hidden sm:inline\">Blood Compatibility Guide</span>\n                  <span className=\"sm:hidden\">Compatibility</span>\n                </button>\n              </div>\n            </div>\n          </motion.div>\n        )}\n\n        {/* Statistics Section */}\n        <AnimatePresence>\n          {showStats && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: 'auto' }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"mb-6 sm:mb-8\"\n            >\n              <div className=\"grid grid-cols-1 lg:grid-cols-10 gap-3 sm:gap-4\">\n                {/* Total Donors - Compact */}\n                <div className=\"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-xl shadow-lg lg:col-span-2\">\n                  <div className=\"text-center\">\n                    <UserGroupIcon className=\"h-6 w-6 sm:h-8 sm:w-8 text-red-500 mx-auto mb-1.5 sm:mb-2\" />\n                    <dt className=\"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 mb-0.5 sm:mb-1\">\n                      Total Donors\n                    </dt>\n                    <dd className=\"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white\">\n                      {dashboardStats?.totalDonors || 0}\n                    </dd>\n                  </div>\n                </div>\n\n                {/* Available Donors - Compact */}\n                <div className=\"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-xl shadow-lg lg:col-span-2\">\n                  <div className=\"text-center\">\n                    <CheckCircleIcon className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-500 mx-auto mb-1.5 sm:mb-2\" />\n                    <dt className=\"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 mb-0.5 sm:mb-1\">\n                      Available Donors\n                    </dt>\n                    <dd className=\"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white\">\n                      {dashboardStats?.eligibleDonors || 0}\n                    </dd>\n                  </div>\n                </div>\n\n                {/* Blood Group Distribution - Individual Cards */}\n                <div className=\"lg:col-span-6 grid grid-cols-4 gap-2 sm:gap-3\">\n                  {bloodStats ? (\n                    BLOOD_GROUP_OPTIONS.slice(1).map((group) => (\n                      <div key={group.value} className=\"bg-white dark:bg-gray-800 p-2 sm:p-3 rounded-xl shadow-lg\">\n                        <div className=\"text-center\">\n                          <div className=\"text-red-500 text-sm sm:text-lg font-bold mb-0.5 sm:mb-1\">{group.label}</div>\n                          <div className=\"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white\">\n                            {bloodStats[group.value as BloodGroup] || 0}\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"col-span-4 text-center py-3 sm:py-4\">\n                      <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400\">No data available</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Search and Filter Section */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"mb-8\"\n        >\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\">\n            {/* Search Bar */}\n            <div className=\"flex flex-col lg:flex-row gap-4 mb-4\">\n              <div className=\"flex-1 relative\">\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={searchCity}\n                  onChange={(e) => setSearchCity(e.target.value)}\n                  placeholder=\"Search by city (e.g., Mumbai, Delhi, Bangalore)...\"\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n                />\n              </div>\n              \n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setShowFilters(!showFilters)}\n                  className=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\"\n                >\n                  <FunnelIcon className=\"h-4 w-4 mr-2\" />\n                  Filters\n                  {activeFiltersCount > 0 && (\n                    <span className=\"ml-2 inline-flex items-center justify-center h-5 w-5 rounded-full bg-red-600 text-white text-xs\">\n                      {activeFiltersCount}\n                    </span>\n                  )}\n                </button>\n                \n                <button\n                  onClick={() => setShowStats(!showStats)}\n                  className=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                >\n                  <ChartBarIcon className=\"h-4 w-4 mr-1\" />\n                  {showStats ? 'Hide' : 'Show'} Stats\n                </button>\n              </div>\n            </div>\n\n            {/* Expandable Filters */}\n            <AnimatePresence>\n              {showFilters && (\n                <motion.div\n                  initial={{ opacity: 0, height: 0 }}\n                  animate={{ opacity: 1, height: 'auto' }}\n                  exit={{ opacity: 0, height: 0 }}\n                  className=\"border-t border-gray-200 dark:border-gray-700 pt-4\"\n                >\n                  <div className=\"flex flex-wrap items-center gap-4\">\n                    {/* Blood Group Filter */}\n                    <div className=\"relative\">\n                      <select\n                        value={selectedBloodGroup}\n                        onChange={(e) => {\n                          setSelectedBloodGroup(e.target.value as BloodGroup | '')\n                          setCurrentPage(1)\n                        }}\n                        className=\"appearance-none bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n                      >\n                        {BLOOD_GROUP_OPTIONS.map((option) => (\n                          <option key={option.value} value={option.value}>\n                            {option.label}\n                          </option>\n                        ))}\n                      </select>\n                      <ChevronDownIcon className=\"h-4 w-4 text-gray-400 absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none\" />\n                    </div>\n\n                    {/* Eligible Only Toggle */}\n                    <label className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        checked={eligibleOnly === 'true'}\n                        onChange={(e) => {\n                          setEligibleOnly(e.target.checked ? 'true' : 'false')\n                          setCurrentPage(1)\n                        }}\n                        className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\n                      />\n                      <span className=\"ml-2 text-sm text-gray-700 dark:text-gray-300\">\n                        Eligible to donate only\n                      </span>\n                    </label>\n\n                    {/* Clear Filters */}\n                    {activeFiltersCount > 0 && (\n                      <button\n                        onClick={resetFilters}\n                        className=\"text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300\"\n                      >\n                        Clear all filters\n                      </button>\n                    )}\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </div>\n        </motion.div>\n\n        {/* Available Donors Section */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Available Donors</h2>\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">\n              {donors.length} donor{donors.length !== 1 ? 's' : ''} found\n            </span>\n          </div>\n\n          {dashboardLoading ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4\">\n              {[...Array(6)].map((_, i) => (\n                <div key={i} className=\"animate-pulse bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm h-32 sm:h-36\">\n                  <div className=\"h-8 w-8 sm:h-10 sm:w-10 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto mb-2\"></div>\n                  <div className=\"h-3 sm:h-3.5 bg-gray-200 dark:bg-gray-700 rounded mb-1.5\"></div>\n                  <div className=\"h-2.5 sm:h-3 bg-gray-200 dark:bg-gray-700 rounded mb-1.5\"></div>\n                  <div className=\"h-2.5 sm:h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mx-auto\"></div>\n                </div>\n              ))}\n            </div>\n          ) : donors.length === 0 ? (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"text-center py-12\"\n            >\n              <div className=\"h-16 w-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4\">\n                ðŸ©¸\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">No donors found</h3>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                {selectedBloodGroup || debouncedSearchCity ? 'Try adjusting your filters' : 'No donors are currently available'}\n              </p>\n            </motion.div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {donors.map((donor, index) => (\n                <motion.div\n                  key={donor.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                  className=\"bg-gray-800 rounded-lg p-4 border border-red-500 hover:border-red-400 transition-colors cursor-pointer\"\n                  onClick={() => setSelectedDonor(donor)}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"h-10 w-10 rounded-full bg-gray-600 flex items-center justify-center\">\n                        {donor.profileImage ? (\n                          <img\n                            src={getApiUrl(`/api/users/profile-picture/${donor.id}`)}\n                            alt={donor.fullName}\n                            className=\"h-10 w-10 rounded-full object-cover\"\n                            onError={(e) => {\n                              const target = e.target as HTMLImageElement\n                              target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(donor.fullName)}&background=6B7280&color=fff&size=40`\n                            }}\n                          />\n                        ) : (\n                          <div className=\"h-10 w-10 rounded-full bg-gray-600 flex items-center justify-center text-white text-sm font-medium\">\n                            {donor.fullName.split(' ').map(n => n[0]).join('').slice(0, 2).toUpperCase()}\n                          </div>\n                        )}\n                      </div>\n                      <div>\n                        <h3 className=\"text-orange-400 font-medium text-sm\">\n                          {donor.fullName}\n                        </h3>\n                        <p className=\"text-gray-400 text-xs\">\n                          {donor.email}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <span className=\"text-red-400 text-lg font-bold\">\n                        {formatBloodGroup(donor.bloodGroup)}\n                      </span>\n                    </div>\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {pagination && pagination.totalPages > 1 && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"mt-8 flex justify-center\"\n          >\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() => handlePageChange(currentPage - 1)}\n                disabled={!pagination.hasPrev}\n                className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700\"\n              >\n                Previous\n              </button>\n              \n              {Array.from({ length: pagination.totalPages }, (_, i) => i + 1).map((page) => (\n                <button\n                  key={page}\n                  onClick={() => handlePageChange(page)}\n                  className={`px-3 py-2 text-sm font-medium rounded-md ${\n                    page === currentPage\n                      ? 'text-white bg-gradient-to-r from-red-500 to-pink-500'\n                      : 'text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700'\n                  }`}\n                >\n                  {page}\n                </button>\n              ))}\n              \n              <button\n                onClick={() => handlePageChange(currentPage + 1)}\n                disabled={!pagination.hasNext}\n                className=\"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700\"\n              >\n                Next\n              </button>\n            </div>\n          </motion.div>\n        )}\n\n        {/* Donor Details Modal */}\n        <AnimatePresence>\n          {selectedDonor && (\n            <Dialog\n              open={!!selectedDonor}\n              onClose={() => setSelectedDonor(null)}\n              className=\"relative z-50\"\n            >\n              <DialogBackdrop className=\"fixed inset-0 bg-black/30 backdrop-blur-sm\" />\n              <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n                <DialogPanel className=\"mx-auto max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl\">\n                  <div className=\"p-6\">\n                    <DialogTitle className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\n                      Donor Details\n                    </DialogTitle>\n                    \n                    <div className=\"space-y-4\">\n                      <div>\n                        <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                          {selectedDonor.firstName} {selectedDonor.lastName}\n                        </h3>\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                          {selectedDonor.addresses[0] ? `${selectedDonor.addresses[0].city}, ${selectedDonor.addresses[0].state}` : 'Location not specified'}\n                        </p>\n                      </div>\n\n                      {selectedDonor.bloodGroup && (\n                        <div>\n                          <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-${getBloodGroupColor(selectedDonor.bloodGroup)}-100 text-${getBloodGroupColor(selectedDonor.bloodGroup)}-800 dark:bg-${getBloodGroupColor(selectedDonor.bloodGroup)}-900 dark:text-${getBloodGroupColor(selectedDonor.bloodGroup)}-300`}>\n                            ðŸ©¸\n                            {formatBloodGroup(selectedDonor.bloodGroup)} Blood Group\n                          </span>\n                        </div>\n                      )}\n\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-300\">\n                          <HeartSolidIcon className=\"h-4 w-4 text-red-500 mr-2\" />\n                          {selectedDonor.totalBloodDonations} total donations\n                        </div>\n                        {selectedDonor.showPhone && selectedDonor.phone ? (\n                          <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-300\">\n                            <PhoneIcon className=\"h-4 w-4 mr-2\" />\n                            {selectedDonor.phone}\n                          </div>\n                        ) : (\n                          <div className=\"flex items-center text-sm text-gray-500 dark:text-gray-400\">\n                            <InformationCircleIcon className=\"h-4 w-4 mr-2\" />\n                            Contact details not shared\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"mt-6 flex justify-end\">\n                      <button\n                        onClick={() => setSelectedDonor(null)}\n                        className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                </DialogPanel>\n              </div>\n            </Dialog>\n          )}\n        </AnimatePresence>\n\n        {/* Blood Profile Setup Modal */}\n        <BloodProfileModal\n          isOpen={showProfileSetup}\n          onClose={() => setShowProfileSetup(false)}\n          onSuccess={() => {\n            setShowProfileSetup(false)\n            refetch()\n          }}\n        />\n\n        {/* Feature Modals */}\n        <MyDonationsModal isOpen={showDonationsModal} onClose={() => setShowDonationsModal(false)} />\n        <EmergencyRequestsModal isOpen={showEmergencyModal} onClose={() => setShowEmergencyModal(false)} />\n        <CreateEmergencyRequestModal isOpen={showCreateRequestModal} onClose={() => setShowCreateRequestModal(false)} />\n\n        {/* Blood Compatibility Guide Modal */}\n        <BloodCompatibilityModal\n          isOpen={showCompatibilityGuide}\n          onClose={() => setShowCompatibilityGuide(false)}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default LifeLink"],"names":["ArrowRightIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","HeartIcon","lifeLinkApi","apiSlice","builder","params","response","data","result","id","requisitionId","error","notificationId","useGetLifeLinkDashboardQuery","useGetBloodGroupStatsQuery","useGetBloodProfileQuery","useUpdateBloodProfileMutation","useGetMyDonationsQuery","useAddDonationMutation","useGetDonationStatusQuery","useCreateRequisitionMutation","useGetMyRequisitionsQuery","useDiscoverRequisitionsQuery","useSearchDonorsMutation","useNotifyAllDonorsMutation","useRespondToRequisitionMutation","BLOOD_GROUP_OPTIONS","BloodProfileModal","isOpen","onClose","onSuccess","step","setStep","useState","selectedBloodGroup","setSelectedBloodGroup","bloodProfile","profileLoading","updateBloodProfile","updateLoading","register","handleSubmit","setValue","watch","errors","useForm","watchedValues","useEffect","handleBloodGroupSelect","bloodGroup","handleDonorStatusSelect","isDonor","onSubmit","updateData","toast","handleBack","getStepTitle","getSelectedBloodGroupInfo","option","jsx","AnimatePresence","jsxs","Dialog","DialogBackdrop","DialogPanel","HeartSolidIcon","DialogTitle","XMarkIcon","motion","LoadingSpinner","InformationCircleIcon","CheckCircleIcon","ExclamationTriangleIcon","Fragment","BloodCompatibilityModal","compatibilityData","recipientData","colorClasses","item","recipient","donor","URGENCY_OPTIONS","MyDonationsModal","page","setPage","showAddForm","setShowAddForm","addDonation","isAdding","donationsData","isLoading","refetch","statusData","reset","donations","summary","PlusIcon","format","n","donation","EmergencyRequestsModal","activeTab","setActiveTab","selectedRequisition","setSelectedRequisition","showRespondForm","setShowRespondForm","discoverData","loadingDiscover","myRequestsData","loadingMyRequests","respondToRequisition","isResponding","requisitions","onRespondSubmit","req","CreateEmergencyRequestModal","donorCount","setDonorCount","searchingDonors","setSearchingDonors","createRequisition","isCreating","searchDonors","notifyAllDonors","isValid","timer","nextStep","prevStep","stepNumber","React","UserGroupIcon","BellIcon","LifeLink","showDonationsModal","setShowDonationsModal","showEmergencyModal","setShowEmergencyModal","showCreateRequestModal","setShowCreateRequestModal","showCompatibilityGuide","setShowCompatibilityGuide","eligibleOnly","setEligibleOnly","searchCity","setSearchCity","currentPage","setCurrentPage","showFilters","setShowFilters","showStats","setShowStats","selectedDonor","setSelectedDonor","showProfileSetup","setShowProfileSetup","limit","debouncedSearchCity","setDebouncedSearchCity","organizationData","useGetPublicOrganizationQuery","donationStatus","statusLoading","statsData","statsLoading","dashboardData","dashboardLoading","isFetching","donors","pagination","dashboardStats","bloodStats","getBloodGroupColor","opt","formatBloodGroup","resetFilters","activeFiltersCount","handlePageChange","ClockIcon","group","MagnifyingGlassIcon","e","FunnelIcon","ChartBarIcon","ChevronDownIcon","_","i","index","getApiUrl","target","PhoneIcon"],"mappings":"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","x_google_ignoreList":[0,1]}