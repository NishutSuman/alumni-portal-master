import{b as i}from"./utils-CXyNmL__.js";import{T as o,U as n}from"./index-DHymdRDT.js";const r=typeof window<"u"&&window.Capacitor&&window.Capacitor.isNativePlatform(),p=()=>r?"http://10.0.2.2:3000/api":"https://guild-alumni-portal-demo.up.railway.app/api",u=p(),a=i.create({baseURL:u,headers:{"Content-Type":"application/json"},withCredentials:!0,timeout:1e4});a.interceptors.request.use(t=>{const s=o.getState().auth.token;return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));a.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(t.config?.url?.includes("/auth/login")||t.config?.url?.includes("/auth/register")||(o.dispatch(n()),window.location.href="/auth/login")),t.response||(t.message="Network error - please check your connection"),Promise.reject(t)));const d={get:(t,e)=>a.get(t,e),post:(t,e,s)=>a.post(t,e,s),put:(t,e,s)=>a.put(t,e,s),patch:(t,e,s)=>a.patch(t,e,s),delete:(t,e)=>a.delete(t,e),postFormData:(t,e,s)=>a.post(t,e,{...s,headers:{"Content-Type":"multipart/form-data",...s?.headers}})};export{d as a,a as b};
//# sourceMappingURL=api-BiOw3EPh.js.map
