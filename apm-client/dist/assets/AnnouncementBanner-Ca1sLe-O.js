import{j as e,m as o,A as w}from"./ui-BlmhFX_F.js";import{r as h,R as F,u as J}from"./router-DFnE1L-t.js";import{x as Z,c as I,Q as X,R as K,S as ee,z as P}from"./index-P8gjH_om.js";import{F as S}from"./ChevronUpIcon-De_BqJq8.js";import{F as M}from"./SparklesIcon-BYl4y-vV.js";import{F as q}from"./CalendarIcon-CroBm0p_.js";import{F as _}from"./ChevronRightIcon-CdFql2QB.js";import{F as H}from"./XMarkIcon-D1c1wIzV.js";import{C as te}from"./redux-VN59sPcb.js";import{u as W}from"./PostImageDisplay-CjPh0DBU.js";import{P as Y}from"./PostCard-CP7I_2nt.js";import{F as $}from"./ChevronDownIcon-qIBcN2qV.js";import{F as ae}from"./DocumentTextIcon-ImcgzK9h.js";import{F as O}from"./ChartBarIcon-CLsU3hA-.js";import{F as se}from"./UserGroupIcon-CnvKPj6V.js";import{F as re}from"./ClockIcon-DZUckIFe.js";import{F as V}from"./CheckCircleIcon-DCBCeWMH.js";import{a as G}from"./utils-CXyNmL__.js";import{F as z}from"./CalendarDaysIcon-BeQLJOHn.js";import{a as ie}from"./announcementApi-DNqg5Y45.js";import{F as ne}from"./MegaphoneIcon-Bqqxldpp.js";import{F as oe}from"./ChevronLeftIcon-D6giPwF6.js";function le({title:s,titleId:a,...x},p){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":a},x),s?h.createElement("title",{id:a},s):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const de=h.forwardRef(le);function ce({title:s,titleId:a,...x},p){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":a},x),s?h.createElement("title",{id:a},s):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z"}))}const Q=h.forwardRef(ce),me=Z.injectEndpoints({endpoints:s=>({getTodaysBirthdays:s.query({query:()=>"/celebrations/birthdays/today",transformResponse:a=>a.data,providesTags:["Celebrations","Birthdays"]}),getUpcomingBirthdays:s.query({query:(a={})=>({url:"/celebrations/birthdays/upcoming",params:a}),transformResponse:a=>a.data,providesTags:["Celebrations","Birthdays"]}),getTodaysFestivals:s.query({query:()=>"/celebrations/festivals/today",transformResponse:a=>a.data,providesTags:["Celebrations","Festivals"]}),getUpcomingFestivals:s.query({query:(a={})=>({url:"/celebrations/festivals/upcoming",params:a}),transformResponse:a=>a.data,providesTags:["Celebrations","Festivals"]}),getTodaysCelebrations:s.query({query:()=>"/celebrations/today",transformResponse:a=>a.data,providesTags:["Celebrations","Birthdays","Festivals"]}),searchFestivals:s.query({query:(a={})=>({url:"/celebrations/festivals/search",params:a}),transformResponse:a=>a.data,providesTags:["Celebrations","Festivals"]}),getFestivalCalendar:s.query({query:(a={})=>({url:"/celebrations/festivals/calendar",params:a}),transformResponse:a=>a.data,providesTags:["Celebrations","Festivals"]}),getBirthdayStats:s.query({query:()=>"/celebrations/admin/birthdays/stats",transformResponse:a=>a.data,providesTags:["Admin","Celebrations","Birthdays"]}),getFestivalStats:s.query({query:()=>"/celebrations/admin/festivals/stats",transformResponse:a=>a.data,providesTags:["Admin","Celebrations","Festivals"]}),getCelebrationSummary:s.query({query:()=>"/celebrations/admin/summary",transformResponse:a=>a.data,providesTags:["Admin","Celebrations"]}),getBirthdayDistribution:s.query({query:()=>"/celebrations/admin/birthdays/distribution",transformResponse:a=>a.data,providesTags:["Admin","Celebrations","Birthdays"]}),getBirthdaysInMonth:s.query({query:({month:a,year:x})=>({url:`/celebrations/admin/birthdays/month/${a}`,params:x?{year:x}:{}}),transformResponse:a=>a.data,providesTags:["Admin","Celebrations","Birthdays"]}),triggerFestivalSync:s.mutation({query:()=>({url:"/celebrations/admin/festivals/sync",method:"POST"}),invalidatesTags:["Celebrations","Festivals"]}),triggerBirthdayNotifications:s.mutation({query:()=>({url:"/celebrations/admin/birthdays/trigger",method:"POST"}),invalidatesTags:["Celebrations","Birthdays"]}),toggleFestivalNotifications:s.mutation({query:({festivalId:a,enabled:x})=>({url:`/celebrations/admin/festivals/${a}/notifications`,method:"PUT",body:{enabled:x}}),invalidatesTags:["Celebrations","Festivals"]})}),overrideExisting:!1}),{useGetTodaysBirthdaysQuery:xe,useGetUpcomingBirthdaysQuery:ge,useGetTodaysFestivalsQuery:he,useGetUpcomingFestivalsQuery:ye,useGetFestivalCalendarQuery:ue}=me,pe=()=>{const s=[{emoji:"ðŸŽ‰",top:"10%",right:"15%",opacity:.6},{emoji:"âœ¨",top:"5%",right:"25%",opacity:.4},{emoji:"ðŸŽŠ",top:"15%",right:"8%",opacity:.5},{emoji:"â­",top:"20%",right:"20%",opacity:.3},{emoji:"ðŸŽˆ",top:"8%",right:"30%",opacity:.4},{emoji:"ðŸŒŸ",top:"25%",right:"12%",opacity:.3}];return e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:s.map((a,x)=>e.jsx("div",{className:"absolute text-lg",style:{top:a.top,right:a.right,opacity:a.opacity,transform:`rotate(${Math.random()*30-15}deg)`},children:a.emoji},x))})},ze=()=>{const{data:s,isLoading:a,refetch:x}=xe(void 0,{refetchOnMountOrArgChange:!0}),{data:p,isLoading:b,refetch:A}=ge({days:7},{refetchOnMountOrArgChange:!0}),[T,N]=F.useState(!0);F.useEffect(()=>{x(),A()},[x,A]);const f=s?.birthdays?.length||0,j=p?.upcomingBirthdays?.reduce((n,r)=>n+r.birthdays.length,0)||0,R=F.useMemo(()=>{if(!p?.upcomingBirthdays)return[];const n=[];return p.upcomingBirthdays.forEach(r=>{r.birthdays.forEach(y=>{n.push({...y,dayName:r.dayName,daysFromToday:r.daysFromToday})})}),n.slice(0,12)},[p]);return a&&b?e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32"}),e.jsx("div",{className:"flex space-x-4",children:[...Array(3)].map((n,r)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-8"})]},r))}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((n,r)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-16"})]})]},r))})]})}):e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>N(!T),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5 text-pink-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Birthdays"})]})}),e.jsx(o.div,{animate:{rotate:T?180:0},transition:{duration:.2},children:e.jsx(S,{className:"h-5 w-5 text-gray-400"})})]}),e.jsx(w,{initial:!1,children:T&&e.jsxs(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 relative overflow-hidden",children:[f>0&&e.jsx(pe,{}),e.jsxs("div",{className:"p-6 space-y-6 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Birthdays today"}),e.jsx("span",{className:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300 px-2 py-1 rounded-full text-xs font-medium",children:f})]}),f===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx(Q,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1",children:"No birthdays today."})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:s?.birthdays?.map(n=>e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center group",children:[e.jsxs("div",{className:"w-16 h-16 mx-auto mb-3 relative",children:[e.jsx(o.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:Math.random()*3+2},children:n.profileImage?e.jsx("img",{src:I(`/api/users/profile-picture/${n.id}`),alt:n.fullName,className:"w-16 h-16 rounded-full object-cover border-2 border-pink-400 shadow-lg",onError:r=>{const y=r.target;y.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(n.fullName)}&background=EC4899&color=fff&size=64`}}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center text-white text-sm font-bold border-2 border-pink-300 shadow-lg",children:n.fullName.split(" ").map(r=>r[0]).join("").slice(0,2).toUpperCase()})}),e.jsx("div",{className:"absolute -top-2 -right-1 text-xl animate-bounce",children:"ðŸŽ‚"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate mb-1",children:n.fullName.split(" ")[0]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Batch ",n.batch]})]},n.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upcoming Birthdays (7 days)"}),e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-2 py-1 rounded-full text-xs font-medium",children:j})]}),R.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm text-center py-4",children:"No upcoming birthdays this week."}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:R.map(n=>e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx("div",{className:"w-14 h-14 mx-auto mb-2 relative",children:n.profileImage?e.jsx("img",{src:I(`/api/users/profile-picture/${n.id}`),alt:n.fullName,className:"w-14 h-14 rounded-full object-cover border border-blue-300 dark:border-blue-600",onError:r=>{const y=r.target;y.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(n.fullName)}&background=3B82F6&color=fff&size=56`}}):e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-sm font-bold border border-blue-300",children:n.fullName.split(" ").map(r=>r[0]).join("").slice(0,2).toUpperCase()})}),e.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-white truncate mb-1",children:n.fullName.split(" ")[0]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Batch ",n.batch]}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:n.daysFromToday===1?"Tomorrow":n.daysFromToday<7?new Date(Date.now()+n.daysFromToday*24*60*60*1e3).toLocaleDateString("en-US",{day:"2-digit",month:"short"}):`${n.daysFromToday} days`})]},`${n.id}-${n.daysFromToday}`))})]})]})]})})]})},Qe=()=>{const{data:s,isLoading:a}=he(),{data:x,isLoading:p}=ye({days:90}),{data:b,isLoading:A,error:T}=ue({year:new Date().getFullYear()}),[N,f]=F.useState(!1),[j,R]=F.useState(new Date().getMonth()),[n,r]=F.useState(!0),[y,C]=F.useState(new Set([new Date().getMonth()])),g=s?.festivals?.length||0,v=x?.upcomingFestivals?.reduce((i,d)=>i+d.festivals.length,0)||0,c=F.useMemo(()=>{if(!x?.upcomingFestivals?.length)return null;const i=x.upcomingFestivals[0],d=i?.festivals[0];return d?{...d,date:i.date,daysUntil:i.daysUntil,dayName:i.dayName}:null},[x]),E=["January","February","March","April","May","June","July","August","September","October","November","December"],k=F.useCallback(i=>b?b.calendar?b.calendar.find(t=>t.month===i+1)?.festivals||[]:b.months?b.months.find(t=>t.monthNumber===i+1)?.festivals||[]:[]:[],[b]),D=i=>{const d=new Set(y);d.has(i)?d.delete(i):d.add(i),C(d)};return a&&p?e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("button",{onClick:()=>r(!n),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Festivals & Holidays"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:i=>{i.stopPropagation(),f(!0)},className:"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-orange-700 dark:text-orange-300 bg-orange-100 dark:bg-orange-900/30 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:"View Calendar"}),e.jsx(_,{className:"h-3 w-3"})]}),e.jsx(o.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:e.jsx(S,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsx(w,{initial:!1,children:n&&e.jsx(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"p-6",children:[g>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:"ðŸŽŠ"}),"Celebrating Today"]}),e.jsx("div",{className:"space-y-3",children:s?.festivals?.slice(0,2).map(i=>e.jsxs(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-sm",style:{backgroundColor:i.styling?.backgroundColor||"#f8f9fa"},children:i.styling?.vectorImage?e.jsx("img",{src:i.styling.vectorImage,alt:i.name,className:"w-8 h-8 object-contain",onError:d=>{const t=d.target;t.style.display="none";const m=t.parentElement;m&&(m.innerHTML=`<span style="color: ${i.styling?.textColor||"#333"}; font-size: 20px; font-weight: bold;">${i.name.charAt(0)}</span>`)}}):e.jsx("span",{className:"text-xl font-bold",style:{color:i.styling?.textColor||"#333"},children:i.name.charAt(0)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:i.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(q,{className:"h-4 w-4 mr-1.5 flex-shrink-0"}),e.jsxs("span",{children:["Today, ",new Date().toLocaleDateString("en-US",{weekday:"short",day:"2-digit",month:"short",year:"numeric"})]})]})]}),e.jsx("div",{className:"flex-shrink-0 ml-4",children:e.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium",children:"View All"})})]},i.id))})]}),c&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:"ðŸ“…"}),"Coming Next"]}),e.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center shadow-sm",style:{backgroundColor:c.styling?.backgroundColor||c.backgroundColor||"#f8f9fa"},children:c.styling?.vectorImage||c.vectorImage?e.jsx("img",{src:c.name==="Gandhi Jayanti"?"/icons/festivals/Archie-Mahatma-Gandhi.svg":c.styling?.vectorImage||c.vectorImage,alt:c.name,className:"w-12 h-12 object-contain",onError:i=>{const d=i.target;d.style.display="none";const t=d.parentElement;t&&(t.innerHTML=`<span style="color: ${c.styling?.textColor||c.textColor||"#333"}; font-size: 24px; font-weight: bold;">${c.name.charAt(0)}</span>`)}}):e.jsx("span",{className:"text-2xl font-bold",style:{color:c.styling?.textColor||c.textColor||"#333"},children:c.name.charAt(0)})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:c.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(q,{className:"h-4 w-4 mr-1.5 flex-shrink-0"}),e.jsx("span",{children:new Date(c.date?.iso||c.date).toLocaleDateString("en-US",{weekday:"short",day:"2-digit",month:"short",year:"numeric"})})]})]}),e.jsxs("div",{className:"flex-shrink-0 ml-4 text-right",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:c.daysUntil||"Soon"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"days to go"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:v}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Upcoming Festivals"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:b?.totalFestivals||0}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"This Year"})]})]})]})})})]}),e.jsx(w,{children:N&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>f(!1),children:e.jsxs(o.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Festivals & Holidays ",new Date().getFullYear()]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Celebrate traditions throughout the year"})]}),e.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/50 dark:hover:bg-gray-700/50 rounded-lg transition-colors",children:e.jsx(H,{className:"h-5 w-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:A?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(12)].map((i,d)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},d))}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-3",children:E.slice(0,6).map((i,d)=>{const t=k(d),m=y.has(d);return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg",children:[e.jsxs("button",{onClick:()=>D(d),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:i}),t.length>0&&e.jsx("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs font-medium px-2 py-1 rounded-full",children:t.length})]}),e.jsx(o.div,{animate:{rotate:m?180:0},transition:{duration:.2},children:e.jsx(S,{className:"h-4 w-4 text-gray-400"})})]}),e.jsx(w,{initial:!1,children:m&&e.jsx(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 dark:border-gray-600",children:e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50",children:t.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-2",children:"No festivals this month"}):e.jsx("div",{className:"space-y-3",children:t.map(l=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center shadow-sm",style:{backgroundColor:l.styling?.backgroundColor||l.backgroundColor||"#f8f9fa"},children:l.styling?.vectorImage||l.vectorImage?e.jsx("img",{src:l.styling?.vectorImage||l.vectorImage,alt:l.name,className:"w-6 h-6 object-contain",onError:u=>{const B=u.target;B.style.display="none";const L=B.parentElement;L&&(L.innerHTML=`<span style="color: ${l.styling?.textColor||l.textColor||"#333"}; font-size: 14px; font-weight: bold;">${l.name.charAt(0)}</span>`)}}):e.jsx("span",{className:"text-sm font-bold",style:{color:l.styling?.textColor||l.textColor||"#333"},children:l.name.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:l.name}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(l.date).toLocaleDateString("en-US",{day:"numeric",month:"short"})}),l.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:l.description})]})]},l.id))})})})})]},i)})}),e.jsx("div",{className:"space-y-3",children:E.slice(6).map((i,d)=>{const t=d+6,m=k(t),l=y.has(t);return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg",children:[e.jsxs("button",{onClick:()=>D(t),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:i}),m.length>0&&e.jsx("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs font-medium px-2 py-1 rounded-full",children:m.length})]}),e.jsx(o.div,{animate:{rotate:l?180:0},transition:{duration:.2},children:e.jsx(S,{className:"h-4 w-4 text-gray-400"})})]}),e.jsx(w,{initial:!1,children:l&&e.jsx(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 dark:border-gray-600",children:e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50",children:m.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-2",children:"No festivals this month"}):e.jsx("div",{className:"space-y-3",children:m.map(u=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center shadow-sm",style:{backgroundColor:u.styling?.backgroundColor||u.backgroundColor||"#f8f9fa"},children:u.styling?.vectorImage||u.vectorImage?e.jsx("img",{src:u.styling?.vectorImage||u.vectorImage,alt:u.name,className:"w-6 h-6 object-contain",onError:B=>{const L=B.target;L.style.display="none";const U=L.parentElement;U&&(U.innerHTML=`<span style="color: ${u.styling?.textColor||u.textColor||"#333"}; font-size: 14px; font-weight: bold;">${u.name.charAt(0)}</span>`)}}):e.jsx("span",{className:"text-sm font-bold",style:{color:u.styling?.textColor||u.textColor||"#333"},children:u.name.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:u.name}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(u.date).toLocaleDateString("en-US",{day:"numeric",month:"short"})}),u.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:u.description})]})]},u.id))})})})})]},i)})})]})})]})})})]})},_e=()=>{const[s,a]=h.useState(!0),[x,p]=h.useState("post"),{user:b}=te(r=>r.auth),{data:A}=W({page:1,limit:1,isPublished:!0,isArchived:!1,sortBy:"createdAt",sortOrder:"desc"}),{data:T}=X(),[N]=K(),f=A?.posts?.[0],j=T?.activePolls?.[0],R=async(r,y,C,g)=>{let v;C?g.includes(y)?v=g.filter(c=>c!==y):v=[...g,y]:g.includes(y)?v=[]:v=[y];try{await N({pollId:r,data:{optionIds:v}}).unwrap(),v.length===0?P.success("All votes removed successfully!"):P.success("Vote updated successfully!")}catch(c){console.error("Vote error:",c),P.error("Failed to update vote")}},n=({poll:r})=>{const[y,C]=h.useState(!1),[g,v]=h.useState(null),c=r.expiresAt&&new Date>new Date(r.expiresAt),E=r.isActive&&!c&&b,{data:k,isLoading:D}=ee(r.id,{skip:!y}),i=t=>t>=60?"bg-green-200 border-green-400 text-green-900":t>=40?"bg-yellow-200 border-yellow-400 text-yellow-900":t>=20?"bg-orange-200 border-orange-400 text-orange-900":"bg-red-200 border-red-400 text-red-900",d=t=>{v(g===t?null:t)};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:r.title}),r.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:r.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsxs("span",{children:[r.totalVotes," votes"]})]}),r.expiresAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:c?"Expired":`Expires ${G(new Date(r.expiresAt))} from now`})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r.hasVoted&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{children:"Voted"})]}),e.jsxs("button",{onClick:()=>C(!y),className:"flex items-center space-x-1 px-2 py-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{children:"Stats"}),y?e.jsx(S,{className:"h-3 w-3"}):e.jsx($,{className:"h-3 w-3"})]})]})]})]}),e.jsx("div",{className:"space-y-3 mb-4",children:r.options.map(t=>{const m=r.userVote?.includes(t.id),l=r.hasVoted||!r.isActive||c,u=l?i(t.percentage):"";return e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>E&&R(r.id,t.id,r.allowMultiple,r.userVote||[]),disabled:!E,className:`w-full p-3 rounded-lg border text-left transition-all relative overflow-hidden ${m?"border-green-300 bg-green-50 text-green-800":E?"border-gray-300 hover:border-blue-400 hover:bg-blue-50":l?u:"border-gray-200"}`,children:[l&&e.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:`linear-gradient(to right, currentColor ${t.percentage}%, transparent ${t.percentage}%)`}}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:t.text}),m&&e.jsx(V,{className:"h-4 w-4 text-green-600"})]}),l&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsxs("span",{children:[t.voteCount," votes"]}),e.jsxs("span",{className:"font-semibold",children:[t.percentage,"%"]})]})]})]})},t.id)})}),e.jsx(w,{children:y&&e.jsx(o.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 dark:border-gray-700 pt-4 overflow-hidden",children:D?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):k?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.totalVotes}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Votes"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.totalVoters}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Voters"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Vote Breakdown"]}),k.options.map(t=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:t.text}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm",children:[t.voteCount," votes"]}),e.jsxs("span",{className:"font-bold",children:[t.percentage,"%"]})]})]}),!k.poll.isAnonymous&&t.voters.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("button",{onClick:()=>d(t.id),className:"flex items-center justify-between w-full text-sm p-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:hover:bg-gray-500 rounded border border-gray-300 dark:border-gray-500 transition-colors",children:[e.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:["Voted by (",t.voters.length,")"]}),g===t.id?e.jsx(S,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"}):e.jsx($,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})]}),e.jsx(w,{children:g===t.id&&e.jsx(o.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"mt-2 overflow-hidden",children:e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:t.voters.map(m=>e.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-xs",children:m.fullName.split(" ").map(l=>l.charAt(0)).join("").slice(0,2).toUpperCase()}),e.jsx("span",{className:"font-medium",children:m.fullName}),m.batch&&e.jsxs("span",{className:"text-gray-500",children:["(",m.batch,")"]})]}),e.jsxs("span",{className:"text-gray-400",children:[G(new Date(m.votedAt))," ago"]})]},m.id))})})})]})]})},t.id))]})]}):e.jsx("div",{className:"text-center py-4 text-gray-500",children:"Failed to load stats"})})})]})};return!f&&!j?null:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>a(!s),className:"w-full px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500",children:e.jsx(M,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Social"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:s?"Collapse":"Expand"}),s?e.jsx(S,{className:"h-5 w-5 text-gray-400"}):e.jsx($,{className:"h-5 w-5 text-gray-400"})]})]}),e.jsx(w,{children:s&&e.jsx(o.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[f&&e.jsxs("button",{onClick:()=>p("post"),className:`flex-1 flex items-center justify-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${x==="post"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Post"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Latest"})]}),j&&e.jsxs("button",{onClick:()=>p("poll"),className:`flex-1 flex items-center justify-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${x==="poll"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{children:"Poll"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Active"})]})]}),e.jsxs("div",{className:"min-h-[200px]",children:[x==="post"&&f&&e.jsx(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2},children:e.jsx(Y,{post:f,showActions:!1})}),x==="poll"&&j&&e.jsx(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.2},children:e.jsx(n,{poll:j})})]})]})})})]})},He=()=>{const[s,a]=h.useState(!0),{data:x,isLoading:p}=W({page:1,limit:1,category:"STORY",isPublished:!0,isArchived:!1,sortBy:"createdAt",sortOrder:"desc"}),b=x?.posts?.[0];return e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>a(!s),className:"w-full px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-500",children:e.jsx(de,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Alumni Story of the Month"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:s?"Collapse":"Expand"}),s?e.jsx(S,{className:"h-5 w-5 text-gray-400"}):e.jsx($,{className:"h-5 w-5 text-gray-400"})]})]}),e.jsx(w,{children:s&&e.jsx(o.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"p-6",children:p?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"})}):b?e.jsx(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2},children:e.jsx(Y,{post:b,showActions:!1})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-amber-50 dark:bg-amber-900/20",children:e.jsx(M,{className:"h-8 w-8 text-amber-500"})}),e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-2",children:"No Alumni Story Yet"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:"Stay tuned! We'll feature inspiring stories from our alumni community here."})]})})})})]})},We=()=>{const[s,a]=h.useState(!0);return e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>a(!s),className:"w-full px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-500",children:e.jsx(z,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Events"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:s?"Collapse":"Expand"}),s?e.jsx(S,{className:"h-5 w-5 text-gray-400"}):e.jsx($,{className:"h-5 w-5 text-gray-400"})]})]}),e.jsx(w,{children:s&&e.jsx(o.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30",children:e.jsx(M,{className:"h-8 w-8 text-purple-500"})}),e.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:"Exciting events and reunions are being planned! Stay tuned for upcoming alumni gatherings, workshops, and networking opportunities."}),e.jsxs("div",{className:"mt-4 inline-flex items-center px-3 py-1.5 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium",children:[e.jsx(z,{className:"h-3.5 w-3.5 mr-1.5"}),"Feature launching soon"]})]})})})})]})},be=50,fe=1500,je=2e3,ve=5e3,Ye=()=>{const s=J(),{data:a,isLoading:x}=ie(),[p,b]=h.useState(0),[A,T]=h.useState(!1),[N,f]=h.useState("idle"),[j,R]=h.useState(!1),[n,r]=h.useState(0),y=h.useRef(null),C=h.useRef(null),g=a?.announcements||[],v=h.useCallback(()=>{if(y.current&&C.current){const t=y.current.scrollWidth,m=C.current.clientWidth,l=t>m,u=t-m+30;return R(l),r(u),l}return!1},[]);h.useEffect(()=>{f("idle");const t=setTimeout(()=>{v()},100);return()=>clearTimeout(t)},[p,v]),h.useEffect(()=>{if(g.length===0)return;let t;switch(N){case"idle":t=setTimeout(()=>{f(j?"scrolling":"done")},j?fe:ve);break;case"scrolling":break;case"done":t=setTimeout(()=>{g.length>1?b(m=>(m+1)%g.length):f("idle")},j?je:0);break}return()=>{t&&clearTimeout(t)}},[N,j,g.length]);const c=()=>Math.max(n/be,3);h.useEffect(()=>{p>=g.length&&g.length>0&&b(0)},[g.length,p]);const E=t=>{t.stopPropagation(),T(!0)},k=t=>{t.stopPropagation(),b(m=>(m-1+g.length)%g.length)},D=t=>{t.stopPropagation(),b(m=>(m+1)%g.length)},i=()=>{s("/user/social",{state:{tab:"announcements"}})};if(x||g.length===0||A)return null;const d=g[p];return d?e.jsx(o.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},onClick:i,className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-700 cursor-pointer hover:from-blue-700 hover:to-indigo-700 dark:hover:from-blue-800 dark:hover:to-indigo-800 transition-all",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ne,{className:"h-5 w-5 text-white"})}),g.length>1&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:k,className:"p-1 rounded hover:bg-white/20 transition-colors","aria-label":"Previous announcement",children:e.jsx(oe,{className:"h-4 w-4 text-white"})}),e.jsxs("span",{className:"text-xs text-white/80 min-w-[40px] text-center",children:[p+1,"/",g.length]}),e.jsx("button",{onClick:D,className:"p-1 rounded hover:bg-white/20 transition-colors","aria-label":"Next announcement",children:e.jsx(_,{className:"h-4 w-4 text-white"})})]})]}),e.jsx("div",{ref:C,className:"flex-1 mx-4 overflow-hidden relative",children:e.jsx(w,{mode:"wait",children:e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"whitespace-nowrap",children:e.jsx(o.span,{ref:y,className:"text-sm text-white inline-block",initial:{x:0},animate:{x:N==="scrolling"&&j?-n:0},transition:N==="scrolling"?{duration:c(),ease:"linear"}:{duration:0},onAnimationComplete:()=>{N==="scrolling"&&f("done")},children:d.message})},d.id)})}),e.jsx("button",{onClick:E,className:"flex-shrink-0 p-1 rounded hover:bg-white/20 transition-colors","aria-label":"Dismiss announcement",children:e.jsx(H,{className:"h-5 w-5 text-white"})})]})})}):null};export{Ye as A,ze as B,We as E,Qe as F,_e as S,He as a};
//# sourceMappingURL=AnnouncementBanner-Ca1sLe-O.js.map
