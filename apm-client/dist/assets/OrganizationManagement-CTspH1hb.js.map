{"version":3,"file":"OrganizationManagement-CTspH1hb.js","sources":["../../src/pages/admin/OrganizationManagement.tsx"],"sourcesContent":["// src/pages/admin/OrganizationManagement.tsx\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport {\n  BuildingOfficeIcon,\n  PencilIcon,\n  CheckIcon,\n  XMarkIcon,\n  PhotoIcon,\n  DocumentIcon,\n  GlobeAltIcon,\n  EnvelopeIcon,\n  PhoneIcon,\n  MapPinIcon,\n  CalendarIcon,\n  UserGroupIcon,\n  ExclamationTriangleIcon,\n  InformationCircleIcon\n} from '@heroicons/react/24/outline';\nimport {\n  useGetOrganizationAdminQuery,\n  useInitializeOrganizationMutation,\n  useUpsertOrganizationMutation,\n  useUpdateSocialLinksMutation,\n  useUploadOrganizationFilesMutation,\n  adminApi\n} from '@/store/api/adminApi';\nimport { useDispatch } from 'react-redux';\nimport { useAuth } from '@/hooks/useAuth';\nimport LoadingSpinner from '@/components/common/UI/LoadingSpinner';\nimport PDFViewer from '@/components/common/UI/PDFViewer';\nimport PDFModal from '@/components/common/UI/PDFModal';\n\n// Validation schemas\nconst basicInfoSchema = yup.object({\n  name: yup.string().required('Organization name is required').min(3, 'Name must be at least 3 characters'),\n  shortName: yup.string().required('Short name is required').min(2, 'Short name must be at least 2 characters').max(10, 'Short name cannot exceed 10 characters'),\n  foundationYear: yup.number().required('Foundation year is required').min(1800, 'Invalid year').max(new Date().getFullYear(), 'Cannot be future year'),\n  officialEmail: yup.string().email('Invalid email').required('Official email is required'),\n  officialContactNumber: yup.string().optional(),\n  officeAddress: yup.string().optional()\n});\n\nconst socialLinksSchema = yup.object({\n  websiteUrl: yup.string().url('Invalid URL').optional().nullable(),\n  facebookUrl: yup.string().url('Invalid URL').optional().nullable(),\n  instagramUrl: yup.string().url('Invalid URL').optional().nullable(),\n  twitterUrl: yup.string().url('Invalid URL').optional().nullable(),\n  linkedinUrl: yup.string().url('Invalid URL').optional().nullable(),\n  youtubeUrl: yup.string().url('Invalid URL').optional().nullable()\n});\n\ninterface BasicInfoFormData {\n  name: string;\n  shortName: string;\n  foundationYear: number;\n  officialEmail: string;\n  officialContactNumber?: string;\n  officeAddress?: string;\n}\n\ninterface SocialLinksFormData {\n  websiteUrl?: string;\n  facebookUrl?: string;\n  instagramUrl?: string;\n  twitterUrl?: string;\n  linkedinUrl?: string;\n  youtubeUrl?: string;\n}\n\ninterface FoundingMember {\n  name: string;\n  role: string;\n  year: number;\n}\n\nconst OrganizationManagement = () => {\n  const { user: currentUser, auth } = useAuth();\n  const dispatch = useDispatch();\n  const [activeTab, setActiveTab] = useState<'basic' | 'social' | 'members' | 'files'>('basic');\n  const [isEditingBasic, setIsEditingBasic] = useState(false);\n  const [isEditingSocial, setIsEditingSocial] = useState(false);\n  const [foundingMembers, setFoundingMembers] = useState<FoundingMember[]>([]);\n  const [logoFile, setLogoFile] = useState<File | null>(null);\n  const [bylawFile, setBylawFile] = useState<File | null>(null);\n  const [certFile, setCertFile] = useState<File | null>(null);\n  const [isUploadingFiles, setIsUploadingFiles] = useState(false);\n  const [showBylawModal, setShowBylawModal] = useState(false);\n  const [showCertModal, setShowCertModal] = useState(false);\n\n  // API queries and mutations\n  const { data: orgData, isLoading, error, refetch } = useGetOrganizationAdminQuery();\n  const [initializeOrganization, { isLoading: isInitializing }] = useInitializeOrganizationMutation();\n  const [updateOrganization, { isLoading: isUpdatingBasic }] = useUpsertOrganizationMutation();\n  const [updateSocialLinks, { isLoading: isUpdatingSocial }] = useUpdateSocialLinksMutation();\n  const [uploadOrganizationFiles, { isLoading: isUploadingApi }] = useUploadOrganizationFilesMutation();\n\n  // Computed values\n  const isConfigured = !!orgData?.organization;\n\n  // Form setup\n  const basicForm = useForm<BasicInfoFormData>({\n    resolver: yupResolver(basicInfoSchema),\n    defaultValues: {\n      name: 'Jawahar Navodaya Vidyalaya Alumni',\n      shortName: 'JNV',\n      foundationYear: 1986,\n      officialEmail: '',\n      officialContactNumber: '',\n      officeAddress: ''\n    }\n  });\n\n  const socialForm = useForm<SocialLinksFormData>({\n    resolver: yupResolver(socialLinksSchema),\n    defaultValues: {\n      websiteUrl: '',\n      facebookUrl: '',\n      instagramUrl: '',\n      twitterUrl: '',\n      linkedinUrl: '',\n      youtubeUrl: ''\n    }\n  });\n\n  // Update form data when organization data is loaded\n  useEffect(() => {\n    if (isConfigured && orgData.organization) {\n      const org = orgData.organization;\n      basicForm.reset({\n        name: org.name || 'Jawahar Navodaya Vidyalaya Alumni',\n        shortName: org.shortName || 'JNV',\n        foundationYear: org.foundationYear || 1986,\n        officialEmail: org.officialEmail || '',\n        officialContactNumber: org.officialContactNumber || '',\n        officeAddress: org.officeAddress || ''\n      });\n\n      socialForm.reset({\n        websiteUrl: org.websiteUrl || '',\n        facebookUrl: org.facebookUrl || '',\n        instagramUrl: org.instagramUrl || '',\n        twitterUrl: org.twitterUrl || '',\n        linkedinUrl: org.linkedinUrl || '',\n        youtubeUrl: org.youtubeUrl || ''\n      });\n\n      if (org.foundingMembers) {\n        try {\n          const members = typeof org.foundingMembers === 'string' \n            ? JSON.parse(org.foundingMembers)\n            : org.foundingMembers;\n          \n          if (Array.isArray(members)) {\n            // Ensure all members have role property\n            const normalizedMembers = members.map(member => ({\n              name: member.name || '',\n              role: member.role || 'Founder',\n              year: member.year || new Date().getFullYear()\n            }));\n            setFoundingMembers(normalizedMembers);\n          } else {\n            setFoundingMembers([]);\n          }\n        } catch {\n          setFoundingMembers([]);\n        }\n      }\n    } else {\n      // Set default values for new organization\n      basicForm.reset({\n        name: 'Jawahar Navodaya Vidyalaya Alumni',\n        shortName: 'JNV',\n        foundationYear: 1986,\n        officialEmail: '',\n        officialContactNumber: '',\n        officeAddress: ''\n      });\n\n      socialForm.reset({\n        websiteUrl: '',\n        facebookUrl: '',\n        instagramUrl: '',\n        twitterUrl: '',\n        linkedinUrl: '',\n        youtubeUrl: ''\n      });\n\n      setFoundingMembers([]);\n    }\n  }, [orgData, basicForm, socialForm]);\n\n  // Handle basic info submission\n  const handleBasicInfoSubmit = async (data: BasicInfoFormData) => {\n    try {\n      if (!orgData?.isConfigured) {\n        await initializeOrganization(data).unwrap();\n      } else {\n        await updateOrganization(data).unwrap();\n      }\n      setIsEditingBasic(false);\n      refetch();\n    } catch (error: any) {\n      console.error('Failed to save organization details:', error);\n      alert(error?.data?.message || 'Failed to save organization details');\n    }\n  };\n\n  // Handle social links submission\n  const handleSocialLinksSubmit = async (data: SocialLinksFormData) => {\n    try {\n      await updateSocialLinks(data).unwrap();\n      setIsEditingSocial(false);\n      refetch();\n    } catch (error: any) {\n      console.error('Failed to update social links:', error);\n      alert(error?.data?.message || 'Failed to update social links');\n    }\n  };\n\n  // Add founding member\n  const addFoundingMember = () => {\n    setFoundingMembers(prev => [...prev, { name: '', role: 'Founder', year: new Date().getFullYear() }]);\n  };\n\n  // Remove founding member\n  const removeFoundingMember = (index: number) => {\n    setFoundingMembers(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Update founding member\n  const updateFoundingMember = (index: number, field: keyof FoundingMember, value: string | number) => {\n    setFoundingMembers(prev => prev.map((member, i) => \n      i === index ? { ...member, [field]: value } : member\n    ));\n  };\n\n  // Save founding members\n  const saveFoundingMembers = async () => {\n    try {\n      if (!orgData?.organization) {\n        alert('Organization data not loaded');\n        return;\n      }\n\n      const org = orgData.organization;\n      const basicFormData = basicForm.getValues();\n      \n      await updateOrganization({\n        name: basicFormData.name,\n        shortName: basicFormData.shortName,\n        foundationYear: basicFormData.foundationYear,\n        officialEmail: basicFormData.officialEmail,\n        officialContactNumber: basicFormData.officialContactNumber,\n        officeAddress: basicFormData.officeAddress,\n        logoUrl: org.logoUrl,\n        bylawDocumentUrl: org.bylawDocumentUrl,\n        registrationCertUrl: org.registrationCertUrl,\n        websiteUrl: org.websiteUrl,\n        instagramUrl: org.instagramUrl,\n        facebookUrl: org.facebookUrl,\n        youtubeUrl: org.youtubeUrl,\n        twitterUrl: org.twitterUrl,\n        linkedinUrl: org.linkedinUrl,\n        foundingMembers\n      }).unwrap();\n      refetch();\n    } catch (error: any) {\n      console.error('Failed to update founding members:', error);\n      alert(error?.data?.message || 'Failed to update founding members');\n    }\n  };\n\n  // Generate proxied file URL for display\n  const getFileProxyUrl = (fileType: string) => {\n    // Use simple path without token in URL for images (will use cookie auth)\n    return `/api/organization/files/${fileType}`;\n  };\n\n  // Handle replacing files\n  const handleReplaceFile = (fileType: 'logo' | 'bylaw' | 'certificate') => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    \n    switch (fileType) {\n      case 'logo':\n        input.accept = 'image/*';\n        break;\n      case 'bylaw':\n        input.accept = '.pdf,.doc,.docx';\n        break;\n      case 'certificate':\n        input.accept = '.pdf,image/*';\n        break;\n    }\n    \n    input.onchange = (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0];\n      if (file) {\n        switch (fileType) {\n          case 'logo':\n            setLogoFile(file);\n            break;\n          case 'bylaw':\n            setBylawFile(file);\n            break;\n          case 'certificate':\n            setCertFile(file);\n            break;\n        }\n        // Auto-upload the replacement file\n        setTimeout(() => handleFileUpload(), 100);\n      }\n    };\n    \n    input.click();\n  };\n\n  // Handle deleting files\n  const handleDeleteFile = async (fileType: 'logo' | 'bylaw' | 'certificate') => {\n    const fileNames = {\n      logo: 'Organization Logo',\n      bylaw: 'Bylaw Document',\n      certificate: 'Registration Certificate'\n    };\n    \n    if (!confirm(`Are you sure you want to delete the ${fileNames[fileType]}? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`http://localhost:3000/api/admin/organization/files/delete`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${auth?.token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ fileType })\n      });\n\n      const result = await response.json();\n\n      if (response.ok) {\n        // Invalidate cache and refresh data\n        dispatch(adminApi.util.invalidateTags(['Admin', 'Organization']));\n        await refetch();\n        alert(`${fileNames[fileType]} deleted successfully`);\n      } else {\n        alert(result.message || 'Failed to delete file');\n      }\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      alert('Failed to delete file. Please try again.');\n    }\n  };\n\n  // Handle file uploads\n  const handleFileUpload = async () => {\n    if (!logoFile && !bylawFile && !certFile) {\n      alert('Please select at least one file to upload');\n      return;\n    }\n\n    setIsUploadingFiles(true);\n    \n    try {\n      const formData = new FormData();\n      \n      if (logoFile) {\n        formData.append('logoFile', logoFile);\n      }\n      \n      if (bylawFile) {\n        formData.append('bylawFile', bylawFile);\n      }\n      \n      if (certFile) {\n        formData.append('certFile', certFile);\n      }\n\n      console.log('üì§ Uploading files with FormData:', {\n        logoFile: logoFile?.name,\n        bylawFile: bylawFile?.name, \n        certFile: certFile?.name\n      });\n\n      // TEST: Use plain fetch instead of RTK Query\n      const response = await fetch('http://localhost:3000/api/admin/organization/admin/upload/files', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${auth?.token}`,\n          // Don't set Content-Type - let browser set it with boundary\n        },\n        body: formData\n      });\n      \n      const result = await response.json();\n      \n      if (!response.ok) {\n        throw new Error(result.message || 'Upload failed');\n      }\n      \n      // Clear file states after successful upload\n      setLogoFile(null);\n      setBylawFile(null);\n      setCertFile(null);\n      \n      // Manually invalidate cache tags since we're using plain fetch instead of RTK Query mutation\n      dispatch(adminApi.util.invalidateTags(['Admin', 'Organization']));\n      \n      // Refresh data - force refresh to get updated file URLs\n      await refetch();\n      \n      // Show success message\n      const uploadedFiles = Object.keys(result.uploadedFiles || {});\n      alert(`Successfully uploaded ${uploadedFiles.join(', ')} files`);\n      \n    } catch (error: any) {\n      console.error('Failed to upload files:', error);\n      alert(error?.message || 'Failed to upload files. Please try again.');\n    } finally {\n      setIsUploadingFiles(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-96\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6\">\n          <div className=\"flex items-center\">\n            <ExclamationTriangleIcon className=\"h-6 w-6 text-red-600 dark:text-red-400 mr-3\" />\n            <div>\n              <h3 className=\"text-lg font-medium text-red-800 dark:text-red-300\">\n                Failed to load organization data\n              </h3>\n              <p className=\"text-red-600 dark:text-red-400 mt-1\">\n                Please check your connection and try again.\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={() => refetch()}\n            className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-4 sm:p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white\">\n            Organization Management\n          </h1>\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\n            {isConfigured \n              ? 'Manage your organization details and settings' \n              : 'Initialize your organization profile'\n            }\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className={`px-3 py-1 rounded-full text-xs font-medium ${\n            isConfigured\n              ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400'\n              : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400'\n          }`}>\n            {isConfigured ? 'Configured' : 'Not Configured'}\n          </div>\n        </div>\n      </div>\n\n      {/* Alert for non-configured organization */}\n      {!isConfigured && (\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\n          <div className=\"flex\">\n            <InformationCircleIcon className=\"h-5 w-5 text-blue-500 mt-0.5\" />\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-blue-800 dark:text-blue-300\">\n                Organization Setup Required\n              </h3>\n              <p className=\"text-sm text-blue-700 dark:text-blue-400 mt-1\">\n                Please configure your organization details to enable all features. This is a one-time setup.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200 dark:border-gray-700\">\n        <nav className=\"-mb-px flex space-x-8 overflow-x-auto\">\n          {[\n            { id: 'basic', label: 'Basic Information', icon: BuildingOfficeIcon },\n            { id: 'social', label: 'Social Links', icon: GlobeAltIcon },\n            { id: 'members', label: 'Founding Members', icon: UserGroupIcon },\n            { id: 'files', label: 'File Uploads', icon: DocumentIcon }\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id as any)}\n              className={`flex items-center py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${\n                activeTab === tab.id\n                  ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                  : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'\n              }`}\n            >\n              <tab.icon className=\"h-5 w-5 mr-2\" />\n              {tab.label}\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"space-y-6\">\n        {/* Basic Information Tab */}\n        {activeTab === 'basic' && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n          >\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                Basic Information\n              </h2>\n              {isConfigured && (\n                <button\n                  onClick={() => setIsEditingBasic(!isEditingBasic)}\n                  className=\"flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-600 dark:border-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors\"\n                >\n                  {isEditingBasic ? (\n                    <>\n                      <XMarkIcon className=\"h-4 w-4 mr-2\" />\n                      Cancel\n                    </>\n                  ) : (\n                    <>\n                      <PencilIcon className=\"h-4 w-4 mr-2\" />\n                      Edit\n                    </>\n                  )}\n                </button>\n              )}\n            </div>\n\n            <form onSubmit={basicForm.handleSubmit(handleBasicInfoSubmit)} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {/* Organization Name */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Organization Name *\n                  </label>\n                  <input\n                    {...basicForm.register('name')}\n                    disabled={isConfigured && !isEditingBasic}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"Enter organization name\"\n                  />\n                  {basicForm.formState.errors.name && (\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                      {basicForm.formState.errors.name.message}\n                    </p>\n                  )}\n                </div>\n\n                {/* Short Name */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Short Name *\n                    <span className=\"text-xs text-gray-500 ml-1\">(Max 10 chars, used for Serial IDs)</span>\n                  </label>\n                  <input\n                    {...basicForm.register('shortName')}\n                    disabled={isConfigured && !isEditingBasic}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed uppercase\"\n                    placeholder=\"JNV\"\n                    maxLength={10}\n                  />\n                  {basicForm.formState.errors.shortName && (\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                      {basicForm.formState.errors.shortName.message}\n                    </p>\n                  )}\n                </div>\n\n                {/* Foundation Year */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Foundation Year *\n                  </label>\n                  <input\n                    {...basicForm.register('foundationYear')}\n                    type=\"number\"\n                    disabled={isConfigured && !isEditingBasic}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"1986\"\n                    min={1800}\n                    max={new Date().getFullYear()}\n                  />\n                  {basicForm.formState.errors.foundationYear && (\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                      {basicForm.formState.errors.foundationYear.message}\n                    </p>\n                  )}\n                </div>\n\n                {/* Official Email */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Official Email *\n                  </label>\n                  <input\n                    {...basicForm.register('officialEmail')}\n                    type=\"email\"\n                    disabled={isConfigured && !isEditingBasic}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"contact@organization.com\"\n                  />\n                  {basicForm.formState.errors.officialEmail && (\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                      {basicForm.formState.errors.officialEmail.message}\n                    </p>\n                  )}\n                </div>\n\n                {/* Contact Number */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Contact Number\n                  </label>\n                  <input\n                    {...basicForm.register('officialContactNumber')}\n                    type=\"tel\"\n                    disabled={isConfigured && !isEditingBasic}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"+91-XXXXXXXXXX\"\n                  />\n                </div>\n              </div>\n\n              {/* Office Address */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Office Address\n                </label>\n                <textarea\n                  {...basicForm.register('officeAddress')}\n                  disabled={isConfigured && !isEditingBasic}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                  placeholder=\"Enter complete office address\"\n                />\n              </div>\n\n              {/* Submit Button */}\n              {(!isConfigured || isEditingBasic) && (\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                  <button\n                    type=\"submit\"\n                    disabled={isInitializing || isUpdatingBasic}\n                    className=\"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {(isInitializing || isUpdatingBasic) ? (\n                      <>\n                        <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                        {isConfigured ? 'Updating...' : 'Initializing...'}\n                      </>\n                    ) : (\n                      <>\n                        <CheckIcon className=\"h-4 w-4 mr-2\" />\n                        {isConfigured ? 'Update Information' : 'Initialize Organization'}\n                      </>\n                    )}\n                  </button>\n                </div>\n              )}\n            </form>\n          </motion.div>\n        )}\n\n        {/* Social Links Tab */}\n        {activeTab === 'social' && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n          >\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                Social Media Links\n              </h2>\n              {isConfigured && (\n                <button\n                  onClick={() => setIsEditingSocial(!isEditingSocial)}\n                  className=\"flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-600 dark:border-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors\"\n                >\n                  {isEditingSocial ? (\n                    <>\n                      <XMarkIcon className=\"h-4 w-4 mr-2\" />\n                      Cancel\n                    </>\n                  ) : (\n                    <>\n                      <PencilIcon className=\"h-4 w-4 mr-2\" />\n                      Edit\n                    </>\n                  )}\n                </button>\n              )}\n            </div>\n\n            <form onSubmit={socialForm.handleSubmit(handleSocialLinksSubmit)} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {/* Website */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Website URL\n                  </label>\n                  <input\n                    {...socialForm.register('websiteUrl')}\n                    type=\"url\"\n                    disabled={!isEditingSocial}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"https://www.organization.com\"\n                  />\n                  {socialForm.formState.errors.websiteUrl && (\n                    <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">\n                      {socialForm.formState.errors.websiteUrl.message}\n                    </p>\n                  )}\n                </div>\n\n                {/* Facebook */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Facebook URL\n                  </label>\n                  <input\n                    {...socialForm.register('facebookUrl')}\n                    type=\"url\"\n                    disabled={!isEditingSocial}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"https://www.facebook.com/organization\"\n                  />\n                </div>\n\n                {/* Instagram */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Instagram URL\n                  </label>\n                  <input\n                    {...socialForm.register('instagramUrl')}\n                    type=\"url\"\n                    disabled={!isEditingSocial}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"https://www.instagram.com/organization\"\n                  />\n                </div>\n\n                {/* Twitter */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Twitter URL\n                  </label>\n                  <input\n                    {...socialForm.register('twitterUrl')}\n                    type=\"url\"\n                    disabled={!isEditingSocial}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"https://www.twitter.com/organization\"\n                  />\n                </div>\n\n                {/* LinkedIn */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    LinkedIn URL\n                  </label>\n                  <input\n                    {...socialForm.register('linkedinUrl')}\n                    type=\"url\"\n                    disabled={!isEditingSocial}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"https://www.linkedin.com/company/organization\"\n                  />\n                </div>\n\n                {/* YouTube */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    YouTube URL\n                  </label>\n                  <input\n                    {...socialForm.register('youtubeUrl')}\n                    type=\"url\"\n                    disabled={!isEditingSocial}\n                    className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed\"\n                    placeholder=\"https://www.youtube.com/channel/organization\"\n                  />\n                </div>\n              </div>\n\n              {/* Submit Button */}\n              {isEditingSocial && (\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                  <button\n                    type=\"submit\"\n                    disabled={isUpdatingSocial}\n                    className=\"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                  >\n                    {isUpdatingSocial ? (\n                      <>\n                        <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                        Updating...\n                      </>\n                    ) : (\n                      <>\n                        <CheckIcon className=\"h-4 w-4 mr-2\" />\n                        Update Social Links\n                      </>\n                    )}\n                  </button>\n                </div>\n              )}\n            </form>\n          </motion.div>\n        )}\n\n        {/* Founding Members Tab */}\n        {activeTab === 'members' && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n          >\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                Founding Members\n              </h2>\n              <button\n                onClick={addFoundingMember}\n                className=\"flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-600 dark:border-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors\"\n              >\n                <UserGroupIcon className=\"h-4 w-4 mr-2\" />\n                Add Member\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {foundingMembers.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <UserGroupIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n                    No founding members added\n                  </h3>\n                  <p className=\"text-gray-500 dark:text-gray-400\">\n                    Add founding members to showcase the organization's history.\n                  </p>\n                </div>\n              ) : (\n                foundingMembers.map((member, index) => (\n                  <div key={index} className=\"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border border-gray-200 dark:border-gray-600 rounded-lg\">\n                    <div>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Member name\"\n                        value={member.name}\n                        onChange={(e) => updateFoundingMember(index, 'name', e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n                    <div>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Role\"\n                        value={member.role}\n                        disabled\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed\"\n                      />\n                    </div>\n                    <div>\n                      <input\n                        type=\"number\"\n                        placeholder=\"Year\"\n                        value={member.year}\n                        onChange={(e) => updateFoundingMember(index, 'year', parseInt(e.target.value))}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        min={1800}\n                        max={new Date().getFullYear()}\n                      />\n                    </div>\n                    <div className=\"flex justify-end\">\n                      <button\n                        onClick={() => removeFoundingMember(index)}\n                        className=\"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-md transition-colors\"\n                      >\n                        <XMarkIcon className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n\n            {foundingMembers.length > 0 && (\n              <div className=\"mt-6\">\n                <button\n                  onClick={saveFoundingMembers}\n                  className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\n                >\n                  <CheckIcon className=\"h-4 w-4 mr-2\" />\n                  Save Founding Members\n                </button>\n              </div>\n            )}\n          </motion.div>\n        )}\n\n        {/* File Uploads Tab */}\n        {activeTab === 'files' && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n          >\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6\">\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                File Uploads\n              </h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              {/* Logo Upload */}\n              <div className=\"space-y-3\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Organization Logo\n                </label>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={(e) => setLogoFile(e.target.files?.[0] || null)}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n                {logoFile && (\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    Selected: {logoFile.name}\n                  </p>\n                )}\n              </div>\n\n              {/* Bylaw Document Upload */}\n              <div className=\"space-y-3\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Bylaw Document\n                </label>\n                <input\n                  type=\"file\"\n                  accept=\".pdf,.doc,.docx\"\n                  onChange={(e) => setBylawFile(e.target.files?.[0] || null)}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n                {bylawFile && (\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    Selected: {bylawFile.name}\n                  </p>\n                )}\n              </div>\n\n              {/* Certificate Upload */}\n              <div className=\"space-y-3\">\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Registration Certificate\n                </label>\n                <input\n                  type=\"file\"\n                  accept=\".pdf,image/*\"\n                  onChange={(e) => setCertFile(e.target.files?.[0] || null)}\n                  className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n                {certFile && (\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    Selected: {certFile.name}\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Upload Button */}\n            {(logoFile || bylawFile || certFile) && (\n              <div className=\"mt-6 flex justify-end\">\n                <button\n                  onClick={handleFileUpload}\n                  disabled={isUploadingFiles || isUploadingApi}\n                  className=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                >\n                  {(isUploadingFiles || isUploadingApi) ? (\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  ) : (\n                    <DocumentIcon className=\"h-4 w-4 mr-2\" />\n                  )}\n                  {(isUploadingFiles || isUploadingApi) ? 'Uploading...' : 'Upload Files'}\n                </button>\n              </div>\n            )}\n\n            {/* File Management Section */}\n            <div className=\"mt-8 space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Organization Files</h3>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  Manage your organization documents and media\n                </p>\n              </div>\n              \n              <div className=\"space-y-4\">\n                {/* Logo Section */}\n                <div className=\"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center mb-4\">\n                        <PhotoIcon className=\"h-6 w-6 text-blue-600 dark:text-blue-400 mr-3\" />\n                        <h4 className=\"text-lg font-medium text-gray-900 dark:text-white\">Organization Logo</h4>\n                      </div>\n                      \n                      {orgData?.organization?.logoUrl ? (\n                        <div className=\"space-y-4\">\n                          {/* Logo Preview */}\n                          <div className=\"w-full max-w-sm mx-auto\">\n                            <img \n                              src={getFileProxyUrl('logo')}\n                              alt=\"Organization Logo\" \n                              className=\"w-full h-32 object-contain border border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700\"\n                              onError={(e) => {\n                                e.currentTarget.src = `data:image/svg+xml;base64,${btoa(`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"#f3f4f6\"/><text x=\"50\" y=\"50\" text-anchor=\"middle\" dy=\".3em\" fill=\"#6b7280\" font-family=\"system-ui\" font-size=\"12\">LOGO</text></svg>`)}`;\n                              }}\n                            />\n                          </div>\n                          \n                          {/* Logo Status and Actions */}\n                          <div className=\"text-center space-y-3\">\n                            <p className=\"text-sm text-green-800 dark:text-green-200\">‚úì Logo uploaded and active</p>\n                            <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded p-3\">\n                              <p className=\"text-sm text-yellow-800 dark:text-yellow-200 mb-2\">\n                                üìÅ Logo file is already uploaded. Upload is disabled.\n                              </p>\n                              <p className=\"text-xs text-yellow-700 dark:text-yellow-300\">\n                                To upload a new logo, replace or delete the existing one first.\n                              </p>\n                            </div>\n                            <div className=\"flex justify-center gap-2\">\n                              <button \n                                onClick={() => handleReplaceFile('logo')}\n                                className=\"px-4 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors\"\n                              >\n                                Replace Logo\n                              </button>\n                              <button \n                                onClick={() => handleDeleteFile('logo')}\n                                className=\"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n                              >\n                                Delete Logo\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      ) : (\n                        <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center\">\n                          <PhotoIcon className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n                          <p className=\"text-gray-600 dark:text-gray-400 mb-4 text-lg\">No logo uploaded</p>\n                          <input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={(e) => {\n                              const file = e.target.files?.[0];\n                              if (file) {\n                                setLogoFile(file);\n                                setTimeout(() => handleFileUpload(), 100);\n                              }\n                            }}\n                            className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Bylaw Document Section */}\n                <div className=\"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center mb-4\">\n                        <DocumentIcon className=\"h-6 w-6 text-green-600 dark:text-green-400 mr-3\" />\n                        <h4 className=\"text-lg font-medium text-gray-900 dark:text-white\">Bylaw Document</h4>\n                      </div>\n                      \n                      {orgData?.organization?.bylawDocumentUrl ? (\n                        <div className=\"space-y-4\">\n                          {/* PDF Preview */}\n                          <div className=\"w-full flex justify-center\">\n                            <PDFViewer\n                              fileUrl={getFileProxyUrl('bylaw')}\n                              fileName=\"Bylaw Document\"\n                              maxWidth={600}\n                              maxHeight={650}\n                              className=\"\"\n                            />\n                          </div>\n                          \n                          {/* Document Status and Actions */}\n                          <div className=\"text-center space-y-3\">\n                            <p className=\"text-sm text-green-800 dark:text-green-200\">‚úì Bylaw document uploaded and active</p>\n                            <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded p-3\">\n                              <p className=\"text-sm text-yellow-800 dark:text-yellow-200 mb-2\">\n                                üìÅ Bylaw document is already uploaded. Upload is disabled.\n                              </p>\n                              <p className=\"text-xs text-yellow-700 dark:text-yellow-300\">\n                                To upload a new document, replace or delete the existing one first.\n                              </p>\n                            </div>\n                            <div className=\"flex justify-center gap-2 flex-wrap\">\n                              <button \n                                onClick={() => setShowBylawModal(true)}\n                                className=\"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\"\n                              >\n                                View Full Document\n                              </button>\n                              <button \n                                onClick={() => handleReplaceFile('bylaw')}\n                                className=\"px-4 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors\"\n                              >\n                                Replace Document\n                              </button>\n                              <button \n                                onClick={() => handleDeleteFile('bylaw')}\n                                className=\"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n                              >\n                                Delete Document\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      ) : (\n                        <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center\">\n                          <DocumentIcon className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n                          <p className=\"text-gray-600 dark:text-gray-400 mb-4 text-lg\">No bylaw document uploaded</p>\n                          <input\n                            type=\"file\"\n                            accept=\".pdf,.doc,.docx\"\n                            onChange={(e) => {\n                              const file = e.target.files?.[0];\n                              if (file) {\n                                setBylawFile(file);\n                                setTimeout(() => handleFileUpload(), 100);\n                              }\n                            }}\n                            className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Registration Certificate Section */}\n                <div className=\"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center mb-4\">\n                        <DocumentIcon className=\"h-6 w-6 text-purple-600 dark:text-purple-400 mr-3\" />\n                        <h4 className=\"text-lg font-medium text-gray-900 dark:text-white\">Registration Certificate</h4>\n                      </div>\n                      \n                      {orgData?.organization?.registrationCertUrl ? (\n                        <div className=\"space-y-4\">\n                          {/* Certificate Preview */}\n                          <div className=\"w-full flex justify-center\">\n                            <PDFViewer\n                              fileUrl={getFileProxyUrl('certificate')}\n                              fileName=\"Registration Certificate\"\n                              maxWidth={600}\n                              maxHeight={650}\n                              className=\"\"\n                            />\n                          </div>\n                          \n                          {/* Certificate Status and Actions */}\n                          <div className=\"text-center space-y-3\">\n                            <p className=\"text-sm text-green-800 dark:text-green-200\">‚úì Registration certificate uploaded and active</p>\n                            <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded p-3\">\n                              <p className=\"text-sm text-yellow-800 dark:text-yellow-200 mb-2\">\n                                üìÅ Registration certificate is already uploaded. Upload is disabled.\n                              </p>\n                              <p className=\"text-xs text-yellow-700 dark:text-yellow-300\">\n                                To upload a new certificate, replace or delete the existing one first.\n                              </p>\n                            </div>\n                            <div className=\"flex justify-center gap-2 flex-wrap\">\n                              <button \n                                onClick={() => setShowCertModal(true)}\n                                className=\"px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\"\n                              >\n                                View Full Document\n                              </button>\n                              <button \n                                onClick={() => handleReplaceFile('certificate')}\n                                className=\"px-4 py-2 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors\"\n                              >\n                                Replace Certificate\n                              </button>\n                              <button \n                                onClick={() => handleDeleteFile('certificate')}\n                                className=\"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n                              >\n                                Delete Certificate\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      ) : (\n                        <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center\">\n                          <DocumentIcon className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n                          <p className=\"text-gray-600 dark:text-gray-400 mb-4 text-lg\">No registration certificate uploaded</p>\n                          <input\n                            type=\"file\"\n                            accept=\".pdf,image/*\"\n                            onChange={(e) => {\n                              const file = e.target.files?.[0];\n                              if (file) {\n                                setCertFile(file);\n                                setTimeout(() => handleFileUpload(), 100);\n                              }\n                            }}\n                            className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100\"\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </div>\n\n      {/* PDF Modals */}\n      <PDFModal\n        isOpen={showBylawModal}\n        onClose={() => setShowBylawModal(false)}\n        fileUrl={getFileProxyUrl('bylaw')}\n        fileName=\"Bylaw Document\"\n        title=\"Organization Bylaw Document\"\n      />\n\n      <PDFModal\n        isOpen={showCertModal}\n        onClose={() => setShowCertModal(false)}\n        fileUrl={getFileProxyUrl('certificate')}\n        fileName=\"Registration Certificate\"\n        title=\"Organization Registration Certificate\"\n      />\n    </div>\n  );\n};\n\nexport default OrganizationManagement;"],"names":["basicInfoSchema","yup.object","yup.string","yup.number","socialLinksSchema","OrganizationManagement","auth","useAuth","dispatch","useDispatch","activeTab","setActiveTab","useState","isEditingBasic","setIsEditingBasic","isEditingSocial","setIsEditingSocial","foundingMembers","setFoundingMembers","logoFile","setLogoFile","bylawFile","setBylawFile","certFile","setCertFile","isUploadingFiles","setIsUploadingFiles","showBylawModal","setShowBylawModal","showCertModal","setShowCertModal","orgData","isLoading","error","refetch","useGetOrganizationAdminQuery","initializeOrganization","isInitializing","useInitializeOrganizationMutation","updateOrganization","isUpdatingBasic","useUpsertOrganizationMutation","updateSocialLinks","isUpdatingSocial","useUpdateSocialLinksMutation","uploadOrganizationFiles","isUploadingApi","useUploadOrganizationFilesMutation","isConfigured","basicForm","useForm","yupResolver","socialForm","useEffect","org","members","normalizedMembers","member","handleBasicInfoSubmit","data","handleSocialLinksSubmit","addFoundingMember","prev","removeFoundingMember","index","_","updateFoundingMember","field","value","i","saveFoundingMembers","basicFormData","getFileProxyUrl","fileType","handleReplaceFile","input","e","file","handleFileUpload","handleDeleteFile","fileNames","response","result","adminApi","formData","uploadedFiles","jsx","LoadingSpinner","jsxs","ExclamationTriangleIcon","InformationCircleIcon","BuildingOfficeIcon","GlobeAltIcon","UserGroupIcon","DocumentIcon","tab","motion","Fragment","XMarkIcon","PencilIcon","CheckIcon","PhotoIcon","PDFViewer","PDFModal"],"mappings":"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"}