{"version":3,"mappings":"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","names":["IdentificationIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","LockOpenIcon","CheckBadgeIcon","AlumniIdentityCard","isOpen","onClose","profile","organizationInfo","useGetOrganizationInfoQuery","cardRef","useRef","formatBloodGroup","bloodGroup","getMembershipStatusColor","status","verificationStatus","ExclamationTriangleIcon","VerificationIcon","downloadCardAsImage","html2canvas","__vitePreload","__vite_default__","canvas","link","error","Dialog","jsx","DialogBackdrop","jsxs","DialogPanel","DialogTitle","XMarkIcon","getApiUrl","e","img","parent","iconDiv","UserIcon","ArrowDownTrayIcon","SimpleFieldDisplay","label","value","SimpleTextareaField","memo","onChange","placeholder","FieldDisplay","isEditing","fieldKey","type","options","sectionData","onFieldChange","displayValue","currentValue","newValue","option","SectionCard","sectionKey","children","canEdit","editingSection","onEditSection","onSaveSection","onCancelEdit","Fragment","XCircleIcon","PencilIcon","LockClosedIcon","INDIAN_STATES","COUNTRIES","AddressForm","addressData","setSectionData","sameAddress","setSameAddress","useState","currentCountry","setCurrentCountry","permanentCountry","setPermanentCountry","currentAddress","addr","permanentAddress","handlePincodeChange","useCallback","pincode","addressType","data","postOffice","updates","prev","getCurrentDistricts","state","s","getPermanentDistricts","handleSameAddressChange","checked","currentData","country","handleCurrentFieldChange","field","handlePermanentFieldChange","district","EducationSection","educationData","addEducation","useAddEducationMutation","updateEducation","useUpdateEducationMutation","deleteEducation","useDeleteEducationMutation","showAddForm","setShowAddForm","editingId","setEditingId","formData","setFormData","resetForm","handleAdd","handleEdit","edu","handleUpdate","handleDelete","id","sortedEducation","a","b","hasMaxEducation","AcademicCapIcon","PlusIcon","TrashIcon","WorkExperienceSection","workData","addWorkExperience","useAddWorkExperienceMutation","updateWorkExperience","useUpdateWorkExperienceMutation","deleteWorkExperience","useDeleteWorkExperienceMutation","companyTypes","work","sortedWork","hasMaxWork","BriefcaseIcon","Profile","isLoading","refetch","useGetProfileQuery","auth","useAuth","updateProfile","useUpdateProfileMutation","deleteProfilePicture","useDeleteProfilePictureMutation","addressError","addressLoading","refetchAddresses","useGetAddressesQuery","updateAddress","useUpdateAddressMutation","useGetEducationHistoryQuery","useGetWorkHistoryQuery","activeTab","setActiveTab","setEditingSection","showProfilePictureMenu","setShowProfilePictureMenu","imageTimestamp","setImageTimestamp","showIdentityCard","setShowIdentityCard","fileInputRef","dropdownRef","handleSectionFieldChange","useEffect","handleClickOutside","event","handleEditSection","section","currentAddr","permanentAddr","handleSaveSection","currentAddressData","permanentAddressData","handleCancelEdit","handleProfilePictureClick","handleUploadClick","handleDeleteClick","handleProfilePictureChange","file","response","result","profileCompletionPercentage","fields","totalWeight","sum","completedWeight","StatusBadge","CheckBadgeIconSolid","MembershipStatusBadge","membershipData","useGetMembershipStatusQuery","config","ClockIcon","Icon","PrivacyToggles","privacySettings","setPrivacySettings","isSaving","setIsSaving","handleToggle","newSettings","GlobeAltIcon","EnvelopeIcon","PhoneIcon","SocialMediaIcons","socialLinks","getSocialIcon","icon","LinkIcon","index","EllipsisVerticalIcon","ArrowUpTrayIcon","tab"],"ignoreList":[0,1,2],"sources":["../../node_modules/@heroicons/react/24/outline/esm/IdentificationIcon.js","../../node_modules/@heroicons/react/24/outline/esm/LockOpenIcon.js","../../node_modules/@heroicons/react/24/solid/esm/CheckBadgeIcon.js","../../src/components/common/UI/AlumniIdentityCard.tsx","../../src/pages/user/Profile.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction IdentificationIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(IdentificationIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction LockOpenIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(LockOpenIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckBadgeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckBadgeIcon);\nexport default ForwardRef;","// src/components/common/UI/AlumniIdentityCard.tsx\nimport React, { useRef } from 'react'\nimport { Dialog, DialogPanel, DialogTitle, DialogBackdrop } from '@headlessui/react'\nimport { XMarkIcon, CheckBadgeIcon, ExclamationTriangleIcon, UserIcon, ArrowDownTrayIcon } from '@heroicons/react/24/outline'\nimport { UserProfile, useGetOrganizationInfoQuery } from '../../../store/api/userApi'\nimport { getApiUrl } from '@/utils/helpers'\n\ninterface AlumniIdentityCardProps {\n  isOpen: boolean\n  onClose: () => void\n  profile: UserProfile\n}\n\nexport const AlumniIdentityCard: React.FC<AlumniIdentityCardProps> = ({ \n  isOpen, \n  onClose, \n  profile \n}) => {\n  const { data: organizationInfo } = useGetOrganizationInfoQuery()\n  const cardRef = useRef<HTMLDivElement>(null)\n  // Format blood group for display\n  const formatBloodGroup = (bloodGroup?: string) => {\n    if (!bloodGroup) return 'Not Set'\n    return bloodGroup\n      .replace('_POSITIVE', '+')\n      .replace('_NEGATIVE', '-')\n      .replace('_', '')\n  }\n\n  // Format membership status\n  const getMembershipStatusColor = (status: string) => {\n    switch (status) {\n      case 'ACTIVE':\n        return 'text-green-600 bg-green-100'\n      case 'EXPIRED':\n        return 'text-red-600 bg-red-100'\n      case 'PENDING':\n        return 'text-yellow-600 bg-yellow-100'\n      case 'SUSPENDED':\n        return 'text-gray-600 bg-gray-100'\n      default:\n        return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  // Get verification status\n  const getVerificationStatus = () => {\n    if (profile.isAlumniVerified) {\n      return {\n        text: 'Verified Alumni',\n        color: 'text-green-600',\n        icon: CheckBadgeIcon,\n        bgColor: 'bg-green-50'\n      }\n    } else if (profile.pendingVerification) {\n      return {\n        text: 'Pending Verification',\n        color: 'text-yellow-600',\n        icon: ExclamationTriangleIcon,\n        bgColor: 'bg-yellow-50'\n      }\n    } else {\n      return {\n        text: 'Unverified',\n        color: 'text-red-600',\n        icon: ExclamationTriangleIcon,\n        bgColor: 'bg-red-50'\n      }\n    }\n  }\n\n  const verificationStatus = getVerificationStatus()\n  const VerificationIcon = verificationStatus.icon\n\n  // Download card as image\n  const downloadCardAsImage = async () => {\n    if (!cardRef.current) return\n\n    try {\n      // Dynamically import html2canvas\n      const html2canvas = (await import('html2canvas')).default\n      \n      const canvas = await html2canvas(cardRef.current, {\n        backgroundColor: null, // Transparent to preserve gradient\n        scale: 3, // Higher resolution for better quality\n        useCORS: true,\n        allowTaint: true,\n        logging: false,\n        windowWidth: 1920,\n        windowHeight: 1080,\n        x: 0,\n        y: 0,\n        scrollX: 0,\n        scrollY: 0,\n        width: cardRef.current.offsetWidth,\n        height: cardRef.current.offsetHeight,\n      })\n      \n      // Create download link\n      const link = document.createElement('a')\n      link.download = `${profile.fullName}_Alumni_ID_Card.png`\n      link.href = canvas.toDataURL('image/png')\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    } catch (error) {\n      console.error('Error downloading card:', error)\n      alert('Failed to download card. Please try again.')\n    }\n  }\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <DialogBackdrop className=\"fixed inset-0 bg-black/30\" />\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <DialogPanel className=\"mx-auto max-w-2xl w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\n            <DialogTitle className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n              Alumni Identity Card\n            </DialogTitle>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n            >\n              <XMarkIcon className=\"h-6 w-6\" />\n            </button>\n          </div>\n\n          {/* Identity Card */}\n          <div className=\"p-4\">\n            <div \n              ref={cardRef}\n              className=\"relative bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 rounded-xl p-6 text-white shadow-xl overflow-hidden max-w-md mx-auto\"\n            >\n              {/* Background Pattern - Contained within card */}\n              <div className=\"absolute inset-0 opacity-10 overflow-hidden\">\n                <div className=\"absolute top-0 right-0 w-20 h-20 bg-white rounded-full -translate-y-4 translate-x-4\"></div>\n                <div className=\"absolute bottom-0 left-0 w-16 h-16 bg-white rounded-full translate-y-4 -translate-x-4\"></div>\n              </div>\n\n              {/* Header */}\n              <div className=\"relative z-10\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <div>\n                    <h2 className=\"text-lg font-bold\">ALUMNI ID CARD</h2>\n                    <p className=\"text-blue-100 text-xs\">{organizationInfo?.organization?.name || 'Alumni Association'}</p>\n                  </div>\n                  {organizationInfo?.organization?.logoUrl && (\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg p-2 flex items-center justify-center\">\n                      <img\n                        src={getApiUrl(\"/api/organization/files/logo\")}\n                        alt=\"Organization Logo\"\n                        className=\"w-full h-full object-contain\"\n                        onError={(e) => {\n                          (e.target as HTMLImageElement).style.display = 'none'\n                        }}\n                      />\n                    </div>\n                  )}\n                </div>\n\n                {/* Profile Section - Horizontal Layout */}\n                <div className=\"flex items-center gap-4 mb-6\">\n                  {/* Profile Image */}\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-2 border-white/50 flex items-center justify-center overflow-hidden\">\n                      {profile.profileImage ? (\n                        <img\n                          src={getApiUrl(`/api/users/profile-picture/${profile.id}?t=${Date.now()}`)}\n                          alt={profile.fullName}\n                          className=\"w-full h-full object-cover rounded-full\"\n                          onError={(e) => {\n                            const img = e.target as HTMLImageElement;\n                            img.style.display = 'none';\n                            const parent = img.parentElement;\n                            if (parent && !parent.querySelector('.fallback-icon')) {\n                              const iconDiv = document.createElement('div');\n                              iconDiv.className = 'fallback-icon';\n                              iconDiv.innerHTML = `\n                                <svg class=\"w-8 h-8 text-white/70\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\n                                </svg>\n                              `;\n                              parent.appendChild(iconDiv);\n                            }\n                          }}\n                        />\n                      ) : (\n                        <UserIcon className=\"w-8 h-8 text-white/70\" />\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Profile Details */}\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"text-xl font-bold mb-1 truncate\">{profile.fullName}</h3>\n                    \n                    {/* Verification Status */}\n                    <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold mb-2 ${verificationStatus.bgColor} ${verificationStatus.color}`}>\n                      <VerificationIcon className=\"w-3 h-3\" />\n                      {verificationStatus.text}\n                    </div>\n\n                    {/* Serial ID */}\n                    <div className=\"text-sm\">\n                      <span className=\"text-blue-200\">ID:</span> \n                      <span className=\"font-semibold ml-1\">{profile.serialId || 'Not Assigned'}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Compact Information Row */}\n                <div className=\"flex items-center justify-between text-center mb-4\">\n                  <div className=\"flex-1\">\n                    <p className=\"text-blue-100 text-xs uppercase tracking-wider\">Blood Group</p>\n                    <p className=\"font-bold text-sm\">{formatBloodGroup(profile.bloodGroup)}</p>\n                  </div>\n                  <div className=\"w-px h-8 bg-white/20 mx-3\"></div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-blue-100 text-xs uppercase tracking-wider\">Membership</p>\n                    <span className={`inline-block px-2 py-1 rounded text-xs font-bold ${getMembershipStatusColor(profile.membershipStatus)}`}>\n                      {profile.membershipStatus.replace('_', ' ')}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Footer */}\n                <div className=\"text-center pt-3 border-t border-white/20\">\n                  <p className=\"text-blue-100 text-xs\">\n                    Generated on {new Date().toLocaleDateString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700\">\n            <button\n              onClick={downloadCardAsImage}\n              className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\"\n            >\n              <ArrowDownTrayIcon className=\"w-4 h-4 mr-2\" />\n              Download PNG\n            </button>\n            <button\n              onClick={onClose}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg\"\n            >\n              Close\n            </button>\n          </div>\n        </DialogPanel>\n      </div>\n    </Dialog>\n  )\n}\n\nexport default AlumniIdentityCard","// src/pages/user/Profile.tsx\n// Desktop-First Profile Page Following Keka HR Design\n\nimport React, { useState, useRef, useEffect, useCallback, memo } from 'react'\n\nimport { motion } from 'framer-motion'\nimport {\n  UserIcon,\n  PencilIcon,\n  MapPinIcon,\n  BriefcaseIcon,\n  AcademicCapIcon,\n  LinkIcon,\n  ShieldCheckIcon,\n  CalendarIcon,\n  IdentificationIcon,\n  CameraIcon,\n  PhoneIcon,\n  EnvelopeIcon,\n  GlobeAltIcon,\n  HeartIcon,\n  ExclamationTriangleIcon,\n  CheckBadgeIcon,\n  ClockIcon,\n  XCircleIcon,\n  BuildingOfficeIcon,\n  HomeIcon,\n  PlusIcon,\n  TrashIcon,\n  EllipsisVerticalIcon,\n  ArrowUpTrayIcon,\n  LockClosedIcon,\n  LockOpenIcon,\n} from '@heroicons/react/24/outline'\nimport {\n  CheckBadgeIcon as CheckBadgeIconSolid,\n  ShieldCheckIcon as ShieldCheckIconSolid,\n} from '@heroicons/react/24/solid'\n\nimport {\n  useGetProfileQuery,\n  useUpdateProfileMutation,\n  useDeleteProfilePictureMutation,\n  useGetMembershipStatusQuery,\n  useGetAddressesQuery,\n  useUpdateAddressMutation,\n  useGetEducationHistoryQuery,\n  useAddEducationMutation,\n  useUpdateEducationMutation,\n  useDeleteEducationMutation,\n  useGetWorkHistoryQuery,\n  useAddWorkExperienceMutation,\n  useUpdateWorkExperienceMutation,\n  useDeleteWorkExperienceMutation,\n} from '../../store/api/userApi'\nimport { useAuth } from '../../hooks/useAuth'\nimport AlumniIdentityCard from '../../components/common/UI/AlumniIdentityCard'\nimport { getApiUrl } from '@/utils/helpers'\n\n\ninterface Address {\n  id: string\n  addressType: 'PERMANENT' | 'CURRENT'\n  addressLine1: string\n  addressLine2?: string\n  city: string\n  state: string\n  postalCode: string\n  country: string\n}\n\n// Simple memoized textarea to prevent re-renders\n// Simple display component for non-editing fields\nconst SimpleFieldDisplay = ({\n  label,\n  value,\n}: {\n  label: string\n  value: any\n}) => (\n  <div>\n    <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n      {label}\n    </dt>\n    <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n      {value?.toString() || 'Not Set'}\n    </dd>\n  </div>\n)\n\n// Simple Textarea Field - No extra hooks to avoid React violations\nconst SimpleTextareaField = memo(\n  ({\n    label,\n    value,\n    onChange,\n    placeholder,\n  }: {\n    label: string\n    value: string\n    onChange: (value: string) => void\n    placeholder?: string\n  }) => {\n    return (\n      <div className=\"space-y-1\">\n        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n          {label}\n        </label>\n        <textarea\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={placeholder}\n          rows={4}\n          className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400\"\n        />\n      </div>\n    )\n  }\n)\n\n// Field Display Component - Memoized to prevent re-creation\nconst FieldDisplay = memo<{\n  label: string\n  value: string | number | boolean | null\n  isEditing?: boolean\n  fieldKey?: string\n  type?: 'text' | 'email' | 'tel' | 'date' | 'textarea' | 'select' | 'checkbox'\n  options?: { value: string; label: string }[]\n  placeholder?: string\n  sectionData: any\n  onFieldChange: (field: string, value: any) => void\n}>(\n  ({\n    label,\n    value,\n    isEditing = false,\n    fieldKey = '',\n    type = 'text',\n    options,\n    placeholder,\n    sectionData,\n    onFieldChange,\n  }) => {\n    const displayValue = value?.toString() || 'Not Set'\n\n    if (isEditing && fieldKey) {\n      const currentValue = sectionData[fieldKey] ?? value ?? ''\n\n      if (type === 'textarea') {\n        return (\n          <SimpleTextareaField\n            label={label}\n            value={currentValue || ''}\n            onChange={(newValue) => onFieldChange(fieldKey, newValue)}\n            placeholder={placeholder}\n          />\n        )\n      }\n\n      if (type === 'select' && options) {\n        return (\n          <div className=\"space-y-1\">\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n              {label}\n            </label>\n            <select\n              value={currentValue}\n              onChange={(e) => onFieldChange(fieldKey, e.target.value)}\n              className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n            >\n              {options.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </div>\n        )\n      }\n\n      if (type === 'checkbox') {\n        return (\n          <div className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={Boolean(currentValue)}\n              onChange={(e) => onFieldChange(fieldKey, e.target.checked)}\n              className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n            />\n            <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n              {label}\n            </label>\n          </div>\n        )\n      }\n\n      return (\n        <div className=\"space-y-1\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            {label}\n          </label>\n          <input\n            type={type}\n            value={currentValue}\n            onChange={(e) => onFieldChange(fieldKey, e.target.value)}\n            placeholder={placeholder}\n            className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400\"\n          />\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n          {label}\n        </dt>\n        <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n          {type === 'checkbox' ? (Boolean(value) ? 'Yes' : 'No') : displayValue}\n        </dd>\n      </div>\n    )\n  }\n)\n\n// SectionCard Component - Outside Profile to prevent re-creation and focus loss\nconst SectionCard = memo<{\n  title: string\n  sectionKey: string\n  children: React.ReactNode\n  canEdit?: boolean\n  editingSection: string | null\n  onEditSection: (key: string) => void\n  onSaveSection: (key: string) => void\n  onCancelEdit: () => void\n}>(({ title, sectionKey, children, canEdit = true, editingSection, onEditSection, onSaveSection, onCancelEdit }) => {\n  const isEditing = editingSection === sectionKey\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-5 md:p-6\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4\">\n        <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-white\">\n          {title}\n        </h3>\n        {canEdit ? (\n          <div className=\"flex flex-wrap gap-2\">\n            {isEditing ? (\n              <>\n                <button\n                  onClick={() => onSaveSection(sectionKey)}\n                  className=\"inline-flex items-center px-3 py-1.5 bg-green-600 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-green-700 transition-colors\"\n                >\n                  <CheckBadgeIcon className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1\" />\n                  Save\n                </button>\n                <button\n                  onClick={onCancelEdit}\n                  className=\"inline-flex items-center px-3 py-1.5 bg-gray-500 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-gray-600 transition-colors\"\n                >\n                  <XCircleIcon className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1\" />\n                  Cancel\n                </button>\n              </>\n            ) : (\n              <button\n                onClick={() => onEditSection(sectionKey)}\n                className=\"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-blue-700 transition-colors\"\n              >\n                <PencilIcon className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1\" />\n                Edit\n              </button>\n            )}\n          </div>\n        ) : (\n          <div className=\"inline-flex items-center px-3 py-1.5 text-gray-500 dark:text-gray-400 text-xs sm:text-sm font-medium\">\n            <LockClosedIcon className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1\" />\n            Locked\n          </div>\n        )}\n      </div>\n      {children}\n    </div>\n  )\n})\n\n// Indian States and Districts data\nconst INDIAN_STATES = [\n  { name: 'Andhra Pradesh', districts: ['Anantapur', 'Chittoor', 'East Godavari', 'Guntur', 'Krishna', 'Kurnool', 'Prakasam', 'Nellore', 'Srikakulam', 'Visakhapatnam', 'Vizianagaram', 'West Godavari', 'YSR Kadapa'] },\n  { name: 'Arunachal Pradesh', districts: ['Tawang', 'West Kameng', 'East Kameng', 'Papum Pare', 'Kurung Kumey', 'Kra Daadi', 'Lower Subansiri', 'Upper Subansiri', 'West Siang', 'East Siang', 'Siang', 'Upper Siang', 'Lower Siang', 'Lower Dibang Valley', 'Dibang Valley', 'Anjaw', 'Lohit', 'Namsai', 'Changlang', 'Tirap', 'Longding'] },\n  { name: 'Assam', districts: ['Baksa', 'Barpeta', 'Biswanath', 'Bongaigaon', 'Cachar', 'Charaideo', 'Chirang', 'Darrang', 'Dhemaji', 'Dhubri', 'Dibrugarh', 'Goalpara', 'Golaghat', 'Hailakandi', 'Hojai', 'Jorhat', 'Kamrup Metropolitan', 'Kamrup', 'Karbi Anglong', 'Karimganj', 'Kokrajhar', 'Lakhimpur', 'Majuli', 'Morigaon', 'Nagaon', 'Nalbari', 'Dima Hasao', 'Sivasagar', 'Sonitpur', 'South Salmara-Mankachar', 'Tinsukia', 'Udalguri', 'West Karbi Anglong'] },\n  { name: 'Bihar', districts: ['Araria', 'Arwal', 'Aurangabad', 'Banka', 'Begusarai', 'Bhagalpur', 'Bhojpur', 'Buxar', 'Darbhanga', 'East Champaran', 'Gaya', 'Gopalganj', 'Jamui', 'Jehanabad', 'Kaimur', 'Katihar', 'Khagaria', 'Kishanganj', 'Lakhisarai', 'Madhepura', 'Madhubani', 'Munger', 'Muzaffarpur', 'Nalanda', 'Nawada', 'Patna', 'Purnia', 'Rohtas', 'Saharsa', 'Samastipur', 'Saran', 'Sheikhpura', 'Sheohar', 'Sitamarhi', 'Siwan', 'Supaul', 'Vaishali', 'West Champaran'] },\n  { name: 'Chhattisgarh', districts: ['Balod', 'Baloda Bazar', 'Balrampur', 'Bastar', 'Bemetara', 'Bijapur', 'Bilaspur', 'Dantewada', 'Dhamtari', 'Durg', 'Gariaband', 'Janjgir-Champa', 'Jashpur', 'Kabirdham', 'Kanker', 'Kondagaon', 'Korba', 'Korea', 'Mahasamund', 'Mungeli', 'Narayanpur', 'Raigarh', 'Raipur', 'Rajnandgaon', 'Sukma', 'Surajpur', 'Surguja'] },\n  { name: 'Goa', districts: ['North Goa', 'South Goa'] },\n  { name: 'Gujarat', districts: ['Ahmedabad', 'Amreli', 'Anand', 'Aravalli', 'Banaskantha', 'Bharuch', 'Bhavnagar', 'Botad', 'Chhota Udepur', 'Dahod', 'Dang', 'Devbhoomi Dwarka', 'Gandhinagar', 'Gir Somnath', 'Jamnagar', 'Junagadh', 'Kachchh', 'Kheda', 'Mahisagar', 'Mehsana', 'Morbi', 'Narmada', 'Navsari', 'Panchmahal', 'Patan', 'Porbandar', 'Rajkot', 'Sabarkantha', 'Surat', 'Surendranagar', 'Tapi', 'Vadodara', 'Valsad'] },\n  { name: 'Haryana', districts: ['Ambala', 'Bhiwani', 'Charkhi Dadri', 'Faridabad', 'Fatehabad', 'Gurugram', 'Hisar', 'Jhajjar', 'Jind', 'Kaithal', 'Karnal', 'Kurukshetra', 'Mahendragarh', 'Nuh', 'Palwal', 'Panchkula', 'Panipat', 'Rewari', 'Rohtak', 'Sirsa', 'Sonipat', 'Yamunanagar'] },\n  { name: 'Himachal Pradesh', districts: ['Bilaspur', 'Chamba', 'Hamirpur', 'Kangra', 'Kinnaur', 'Kullu', 'Lahaul and Spiti', 'Mandi', 'Shimla', 'Sirmaur', 'Solan', 'Una'] },\n  { name: 'Jharkhand', districts: ['Bokaro', 'Chatra', 'Deoghar', 'Dhanbad', 'Dumka', 'East Singhbhum', 'Garhwa', 'Giridih', 'Godda', 'Gumla', 'Hazaribagh', 'Jamtara', 'Khunti', 'Koderma', 'Latehar', 'Lohardaga', 'Pakur', 'Palamu', 'Ramgarh', 'Ranchi', 'Sahibganj', 'Seraikela-Kharsawan', 'Simdega', 'West Singhbhum'] },\n  { name: 'Karnataka', districts: ['Bagalkot', 'Ballari', 'Belagavi', 'Bengaluru Rural', 'Bengaluru Urban', 'Bidar', 'Chamarajanagar', 'Chikballapur', 'Chikkamagaluru', 'Chitradurga', 'Dakshina Kannada', 'Davanagere', 'Dharwad', 'Gadag', 'Hassan', 'Haveri', 'Kalaburagi', 'Kodagu', 'Kolar', 'Koppal', 'Mandya', 'Mysuru', 'Raichur', 'Ramanagara', 'Shivamogga', 'Tumakuru', 'Udupi', 'Uttara Kannada', 'Vijayapura', 'Yadgir'] },\n  { name: 'Kerala', districts: ['Alappuzha', 'Ernakulam', 'Idukki', 'Kannur', 'Kasaragod', 'Kollam', 'Kottayam', 'Kozhikode', 'Malappuram', 'Palakkad', 'Pathanamthitta', 'Thiruvananthapuram', 'Thrissur', 'Wayanad'] },\n  { name: 'Madhya Pradesh', districts: ['Agar Malwa', 'Alirajpur', 'Anuppur', 'Ashoknagar', 'Balaghat', 'Barwani', 'Betul', 'Bhind', 'Bhopal', 'Burhanpur', 'Chhatarpur', 'Chhindwara', 'Damoh', 'Datia', 'Dewas', 'Dhar', 'Dindori', 'Guna', 'Gwalior', 'Harda', 'Hoshangabad', 'Indore', 'Jabalpur', 'Jhabua', 'Katni', 'Khandwa', 'Khargone', 'Mandla', 'Mandsaur', 'Morena', 'Narsinghpur', 'Neemuch', 'Panna', 'Raisen', 'Rajgarh', 'Ratlam', 'Rewa', 'Sagar', 'Satna', 'Sehore', 'Seoni', 'Shahdol', 'Shajapur', 'Sheopur', 'Shivpuri', 'Sidhi', 'Singrauli', 'Tikamgarh', 'Ujjain', 'Umaria', 'Vidisha'] },\n  { name: 'Maharashtra', districts: ['Ahmednagar', 'Akola', 'Amravati', 'Aurangabad', 'Beed', 'Bhandara', 'Buldhana', 'Chandrapur', 'Dhule', 'Gadchiroli', 'Gondia', 'Hingoli', 'Jalgaon', 'Jalna', 'Kolhapur', 'Latur', 'Mumbai City', 'Mumbai Suburban', 'Nagpur', 'Nanded', 'Nandurbar', 'Nashik', 'Osmanabad', 'Palghar', 'Parbhani', 'Pune', 'Raigad', 'Ratnagiri', 'Sangli', 'Satara', 'Sindhudurg', 'Solapur', 'Thane', 'Wardha', 'Washim', 'Yavatmal'] },\n  { name: 'Manipur', districts: ['Bishnupur', 'Chandel', 'Churachandpur', 'Imphal East', 'Imphal West', 'Jiribam', 'Kakching', 'Kamjong', 'Kangpokpi', 'Noney', 'Pherzawl', 'Senapati', 'Tamenglong', 'Tengnoupal', 'Thoubal', 'Ukhrul'] },\n  { name: 'Meghalaya', districts: ['East Garo Hills', 'East Jaintia Hills', 'East Khasi Hills', 'North Garo Hills', 'Ri Bhoi', 'South Garo Hills', 'South West Garo Hills', 'South West Khasi Hills', 'West Garo Hills', 'West Jaintia Hills', 'West Khasi Hills'] },\n  { name: 'Mizoram', districts: ['Aizawl', 'Champhai', 'Hnahthial', 'Kolasib', 'Khawzawl', 'Lawngtlai', 'Lunglei', 'Mamit', 'Saiha', 'Saitual', 'Serchhip'] },\n  { name: 'Nagaland', districts: ['Dimapur', 'Kiphire', 'Kohima', 'Longleng', 'Mokokchung', 'Mon', 'Peren', 'Phek', 'Tuensang', 'Wokha', 'Zunheboto'] },\n  { name: 'Odisha', districts: ['Angul', 'Balangir', 'Balasore', 'Bargarh', 'Bhadrak', 'Boudh', 'Cuttack', 'Debagarh', 'Dhenkanal', 'Gajapati', 'Ganjam', 'Jagatsinghpur', 'Jajpur', 'Jharsuguda', 'Kalahandi', 'Kandhamal', 'Kendrapara', 'Kendujhar', 'Khordha', 'Koraput', 'Malkangiri', 'Mayurbhanj', 'Nabarangpur', 'Nayagarh', 'Nuapada', 'Puri', 'Rayagada', 'Sambalpur', 'Subarnapur', 'Sundargarh'] },\n  { name: 'Punjab', districts: ['Amritsar', 'Barnala', 'Bathinda', 'Faridkot', 'Fatehgarh Sahib', 'Fazilka', 'Ferozepur', 'Gurdaspur', 'Hoshiarpur', 'Jalandhar', 'Kapurthala', 'Ludhiana', 'Mansa', 'Moga', 'Muktsar', 'Nawanshahr', 'Pathankot', 'Patiala', 'Rupnagar', 'Sahibzada Ajit Singh Nagar', 'Sangrur', 'Tarn Taran'] },\n  { name: 'Rajasthan', districts: ['Ajmer', 'Alwar', 'Banswara', 'Baran', 'Barmer', 'Bharatpur', 'Bhilwara', 'Bikaner', 'Bundi', 'Chittorgarh', 'Churu', 'Dausa', 'Dholpur', 'Dungarpur', 'Hanumangarh', 'Jaipur', 'Jaisalmer', 'Jalore', 'Jhalawar', 'Jhunjhunu', 'Jodhpur', 'Karauli', 'Kota', 'Nagaur', 'Pali', 'Pratapgarh', 'Rajsamand', 'Sawai Madhopur', 'Sikar', 'Sirohi', 'Sri Ganganagar', 'Tonk', 'Udaipur'] },\n  { name: 'Sikkim', districts: ['East Sikkim', 'North Sikkim', 'South Sikkim', 'West Sikkim'] },\n  { name: 'Tamil Nadu', districts: ['Ariyalur', 'Chengalpattu', 'Chennai', 'Coimbatore', 'Cuddalore', 'Dharmapuri', 'Dindigul', 'Erode', 'Kallakurichi', 'Kanchipuram', 'Kanyakumari', 'Karur', 'Krishnagiri', 'Madurai', 'Mayiladuthurai', 'Nagapattinam', 'Namakkal', 'Nilgiris', 'Perambalur', 'Pudukkottai', 'Ramanathapuram', 'Ranipet', 'Salem', 'Sivaganga', 'Tenkasi', 'Thanjavur', 'Theni', 'Thoothukudi', 'Tiruchirappalli', 'Tirunelveli', 'Tirupattur', 'Tiruppur', 'Tiruvallur', 'Tiruvannamalai', 'Tiruvarur', 'Vellore', 'Viluppuram', 'Virudhunagar'] },\n  { name: 'Telangana', districts: ['Adilabad', 'Bhadradri Kothagudem', 'Hyderabad', 'Jagtial', 'Jangaon', 'Jayashankar Bhupalpally', 'Jogulamba Gadwal', 'Kamareddy', 'Karimnagar', 'Khammam', 'Komaram Bheem Asifabad', 'Mahabubabad', 'Mahabubnagar', 'Mancherial', 'Medak', 'Medchal Malkajgiri', 'Mulugu', 'Nagarkurnool', 'Nalgonda', 'Narayanpet', 'Nirmal', 'Nizamabad', 'Peddapalli', 'Rajanna Sircilla', 'Ranga Reddy', 'Sangareddy', 'Siddipet', 'Suryapet', 'Vikarabad', 'Wanaparthy', 'Warangal Rural', 'Warangal Urban', 'Yadadri Bhuvanagiri'] },\n  { name: 'Tripura', districts: ['Dhalai', 'Gomati', 'Khowai', 'North Tripura', 'Sepahijala', 'South Tripura', 'Unakoti', 'West Tripura'] },\n  { name: 'Uttar Pradesh', districts: ['Agra', 'Aligarh', 'Ambedkar Nagar', 'Amethi', 'Amroha', 'Auraiya', 'Azamgarh', 'Baghpat', 'Bahraich', 'Ballia', 'Balrampur', 'Banda', 'Barabanki', 'Bareilly', 'Basti', 'Bhadohi', 'Bijnor', 'Budaun', 'Bulandshahr', 'Chandauli', 'Chitrakoot', 'Deoria', 'Etah', 'Etawah', 'Ayodhya', 'Farrukhabad', 'Fatehpur', 'Firozabad', 'Gautam Buddha Nagar', 'Ghaziabad', 'Ghazipur', 'Gonda', 'Gorakhpur', 'Hamirpur', 'Hapur', 'Hardoi', 'Hathras', 'Jalaun', 'Jaunpur', 'Jhansi', 'Kannauj', 'Kanpur Dehat', 'Kanpur Nagar', 'Kasganj', 'Kaushambi', 'Kushinagar', 'Lakhimpur Kheri', 'Lalitpur', 'Lucknow', 'Maharajganj', 'Mahoba', 'Mainpuri', 'Mathura', 'Mau', 'Meerut', 'Mirzapur', 'Moradabad', 'Muzaffarnagar', 'Pilibhit', 'Pratapgarh', 'Prayagraj', 'Raebareli', 'Rampur', 'Saharanpur', 'Sambhal', 'Sant Kabir Nagar', 'Shahjahanpur', 'Shamli', 'Shravasti', 'Siddharthnagar', 'Sitapur', 'Sonbhadra', 'Sultanpur', 'Unnao', 'Varanasi'] },\n  { name: 'Uttarakhand', districts: ['Almora', 'Bageshwar', 'Chamoli', 'Champawat', 'Dehradun', 'Haridwar', 'Nainital', 'Pauri Garhwal', 'Pithoragarh', 'Rudraprayag', 'Tehri Garhwal', 'Udham Singh Nagar', 'Uttarkashi'] },\n  { name: 'West Bengal', districts: ['Alipurduar', 'Bankura', 'Birbhum', 'Cooch Behar', 'Dakshin Dinajpur', 'Darjeeling', 'Hooghly', 'Howrah', 'Jalpaiguri', 'Jhargram', 'Kalimpong', 'Kolkata', 'Malda', 'Murshidabad', 'Nadia', 'North 24 Parganas', 'Paschim Bardhaman', 'Paschim Medinipur', 'Purba Bardhaman', 'Purba Medinipur', 'Purulia', 'South 24 Parganas', 'Uttar Dinajpur'] }\n];\n\nconst COUNTRIES = [\n  'India',\n  'United States',\n  'Canada', \n  'United Kingdom',\n  'Australia',\n  'Germany',\n  'France',\n  'Singapore',\n  'United Arab Emirates',\n  'Japan',\n  'Other'\n];\n\n// Address Form Component - Outside Profile to prevent recreation and focus loss\nconst AddressForm = memo<{\n  addressData: any\n  editingSection: string | null\n  sectionData: any\n  setSectionData: (data: any) => void\n}>(({ addressData, editingSection, sectionData, setSectionData }) => {\n  const [sameAddress, setSameAddress] = useState(false)\n  const [currentCountry, setCurrentCountry] = useState('India')\n  const [permanentCountry, setPermanentCountry] = useState('India')\n  \n  const currentAddress = addressData?.find((addr: any) => addr.addressType === 'CURRENT') || {}\n  const permanentAddress = addressData?.find((addr: any) => addr.addressType === 'PERMANENT') || {}\n\n  // Auto-populate address from pincode\n  const handlePincodeChange = useCallback(async (pincode: string, addressType: 'current' | 'permanent') => {\n    if (pincode.length === 6 && /^\\d{6}$/.test(pincode)) {\n      try {\n        const response = await fetch(`https://api.postalpincode.in/pincode/${pincode}`)\n        const data = await response.json()\n        \n        if (data[0].Status === 'Success') {\n          const postOffice = data[0].PostOffice[0]\n          const updates = {\n            [`${addressType}City`]: postOffice.Block, // Use Block for city as requested\n            [`${addressType}District`]: postOffice.District,\n            [`${addressType}State`]: postOffice.State,\n          }\n          \n          setSectionData((prev: any) => ({ \n            ...prev, \n            ...updates,\n            ...(sameAddress && addressType === 'current' ? {\n              permanentCity: postOffice.Block, // Use Block for city as requested\n              permanentDistrict: postOffice.District, \n              permanentState: postOffice.State,\n            } : {})\n          }))\n        }\n      } catch (error) {\n        console.log('Could not fetch pincode data')\n      }\n    }\n  }, [setSectionData, sameAddress])\n\n  const isEditing = editingSection === 'address'\n\n  // Get districts for selected state\n  const getCurrentDistricts = () => {\n    if (currentCountry === 'India') {\n      const state = INDIAN_STATES.find(s => s.name === sectionData.currentState)\n      return state ? state.districts : []\n    }\n    return []\n  }\n\n  const getPermanentDistricts = () => {\n    if (permanentCountry === 'India') {\n      const state = INDIAN_STATES.find(s => s.name === sectionData.permanentState)\n      return state ? state.districts : []\n    }\n    return []\n  }\n\n  // Handle same address checkbox\n  const handleSameAddressChange = useCallback((checked: boolean) => {\n    setSameAddress(checked)\n    if (checked && isEditing) {\n      // Copy current address to permanent address in section data\n      const currentData = {\n        permanentAddressLine1: sectionData.currentAddressLine1 || '',\n        permanentAddressLine2: sectionData.currentAddressLine2 || '',\n        permanentCity: sectionData.currentCity || '',\n        permanentDistrict: sectionData.currentDistrict || '',\n        permanentState: sectionData.currentState || '',\n        permanentPincode: sectionData.currentPincode || '',\n        permanentCountry: currentCountry,\n      }\n      setSectionData((prev: any) => ({ ...prev, ...currentData }))\n      setPermanentCountry(currentCountry)\n    }\n  }, [sectionData, isEditing, setSectionData, currentCountry])\n\n  // Handle country change\n  const handleCountryChange = useCallback((country: string, addressType: 'current' | 'permanent') => {\n    if (addressType === 'current') {\n      setCurrentCountry(country)\n      setSectionData((prev: any) => ({ \n        ...prev, \n        currentCountry: country,\n        ...(country !== 'India' ? { currentState: '', currentDistrict: '' } : {}),\n        ...(sameAddress ? { \n          permanentCountry: country,\n          ...(country !== 'India' ? { permanentState: '', permanentDistrict: '' } : {})\n        } : {})\n      }))\n      if (sameAddress) setPermanentCountry(country)\n    } else {\n      setPermanentCountry(country)\n      setSectionData((prev: any) => ({ \n        ...prev, \n        permanentCountry: country,\n        ...(country !== 'India' ? { permanentState: '', permanentDistrict: '' } : {})\n      }))\n    }\n  }, [setSectionData, sameAddress])\n\n  const handleCurrentFieldChange = useCallback((field: string, value: string) => {\n    setSectionData((prev: any) => ({ \n      ...prev, \n      [field]: value,\n      ...(sameAddress ? { [field.replace('current', 'permanent')]: value } : {})\n    }))\n  }, [setSectionData, sameAddress])\n\n  const handlePermanentFieldChange = useCallback((field: string, value: string) => {\n    setSectionData((prev: any) => ({ ...prev, [field]: value }))\n  }, [setSectionData])\n\n  if (isEditing) {\n    return (\n      <div className=\"space-y-6\">\n        {/* Same Address Checkbox */}\n        <div className=\"flex items-center space-x-2\">\n          <input\n            type=\"checkbox\"\n            id=\"sameAddress\"\n            checked={sameAddress}\n            onChange={(e) => handleSameAddressChange(e.target.checked)}\n            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n          />\n          <label htmlFor=\"sameAddress\" className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Permanent address is same as current address\n          </label>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Current Address */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Current Address</h4>\n            \n            <div className=\"space-y-4\">\n              {/* Country Selection - First */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Country *</label>\n                <select\n                  value={currentCountry}\n                  onChange={(e) => {\n                    setCurrentCountry(e.target.value)\n                    setSectionData((prev) => ({ ...prev, currentCountry: e.target.value }))\n                  }}\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                >\n                  {COUNTRIES.map((country) => (\n                    <option key={country} value={country}>\n                      {country}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Pincode - Second */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Pincode *</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.currentPincode || currentAddress.postalCode || ''}\n                  onChange={(e) => {\n                    const value = e.target.value.replace(/\\D/g, '').slice(0, 6) // Only digits, max 6\n                    handleCurrentFieldChange('currentPincode', value)\n                    if (currentCountry === 'India') {\n                      handlePincodeChange(value, 'current')\n                    }\n                  }}\n                  maxLength={6}\n                  pattern=\"[0-9]{6}\"\n                  placeholder={currentCountry === 'India' ? 'Enter 6-digit pincode' : 'Enter postal code'}\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                />\n              </div>\n\n              {/* State and District - Third row */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">State *</label>\n                  {currentCountry === 'India' ? (\n                    <select\n                      value={sectionData.currentState || currentAddress.state || ''}\n                      onChange={(e) => {\n                        handleCurrentFieldChange('currentState', e.target.value)\n                        handleCurrentFieldChange('currentDistrict', '') // Reset district when state changes\n                      }}\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    >\n                      <option value=\"\">Select State</option>\n                      {INDIAN_STATES.map((state) => (\n                        <option key={state.name} value={state.name}>\n                          {state.name}\n                        </option>\n                      ))}\n                    </select>\n                  ) : (\n                    <input\n                      type=\"text\"\n                      value={sectionData.currentState || currentAddress.state || ''}\n                      onChange={(e) => handleCurrentFieldChange('currentState', e.target.value)}\n                      placeholder=\"Enter state\"\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    />\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">District</label>\n                  {currentCountry === 'India' ? (\n                    <select\n                      value={sectionData.currentDistrict || currentAddress.district || ''}\n                      onChange={(e) => handleCurrentFieldChange('currentDistrict', e.target.value)}\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    >\n                      <option value=\"\">Select District</option>\n                      {getCurrentDistricts().map((district) => (\n                        <option key={district} value={district}>\n                          {district}\n                        </option>\n                      ))}\n                    </select>\n                  ) : (\n                    <input\n                      type=\"text\"\n                      value={sectionData.currentDistrict || currentAddress.district || ''}\n                      onChange={(e) => handleCurrentFieldChange('currentDistrict', e.target.value)}\n                      placeholder=\"Enter district\"\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    />\n                  )}\n                </div>\n              </div>\n\n              {/* City - Fourth */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">City *</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.currentCity || currentAddress.city || ''}\n                  onChange={(e) => handleCurrentFieldChange('currentCity', e.target.value)}\n                  placeholder=\"Enter city (auto-filled from pincode but can be changed)\"\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                />\n              </div>\n\n              {/* Address Lines - Last */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Address Line 1 *</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.currentAddressLine1 || currentAddress.addressLine1 || ''}\n                  onChange={(e) => handleCurrentFieldChange('currentAddressLine1', e.target.value)}\n                  placeholder=\"Enter address line 1\"\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Address Line 2</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.currentAddressLine2 || currentAddress.addressLine2 || ''}\n                  onChange={(e) => handleCurrentFieldChange('currentAddressLine2', e.target.value)}\n                  placeholder=\"Enter address line 2 (optional)\"\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Permanent Address */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Permanent Address</h4>\n            \n            <div className=\"space-y-4\">\n              {/* Country Selection - First */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Country *</label>\n                <select\n                  value={permanentCountry}\n                  onChange={(e) => {\n                    setPermanentCountry(e.target.value)\n                    setSectionData((prev) => ({ ...prev, permanentCountry: e.target.value }))\n                  }}\n                  disabled={sameAddress}\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                >\n                  {COUNTRIES.map((country) => (\n                    <option key={country} value={country}>\n                      {country}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Pincode - Second */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Pincode *</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.permanentPincode || permanentAddress.postalCode || ''}\n                  onChange={(e) => {\n                    const value = e.target.value.replace(/\\D/g, '').slice(0, 6) // Only digits, max 6\n                    handlePermanentFieldChange('permanentPincode', value)\n                    if (permanentCountry === 'India' && !sameAddress) {\n                      handlePincodeChange(value, 'permanent')\n                    }\n                  }}\n                  maxLength={6}\n                  pattern=\"[0-9]{6}\"\n                  placeholder={permanentCountry === 'India' ? 'Enter 6-digit pincode' : 'Enter postal code'}\n                  disabled={sameAddress}\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n\n              {/* State and District - Third row */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">State *</label>\n                  {permanentCountry === 'India' ? (\n                    <select\n                      value={sectionData.permanentState || permanentAddress.state || ''}\n                      onChange={(e) => {\n                        handlePermanentFieldChange('permanentState', e.target.value)\n                        handlePermanentFieldChange('permanentDistrict', '') // Reset district when state changes\n                      }}\n                      disabled={sameAddress}\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                    >\n                      <option value=\"\">Select State</option>\n                      {INDIAN_STATES.map((state) => (\n                        <option key={state.name} value={state.name}>\n                          {state.name}\n                        </option>\n                      ))}\n                    </select>\n                  ) : (\n                    <input\n                      type=\"text\"\n                      value={sectionData.permanentState || permanentAddress.state || ''}\n                      onChange={(e) => handlePermanentFieldChange('permanentState', e.target.value)}\n                      placeholder=\"Enter state\"\n                      disabled={sameAddress}\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                    />\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">District</label>\n                  {permanentCountry === 'India' ? (\n                    <select\n                      value={sectionData.permanentDistrict || permanentAddress.district || ''}\n                      onChange={(e) => handlePermanentFieldChange('permanentDistrict', e.target.value)}\n                      disabled={sameAddress}\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                    >\n                      <option value=\"\">Select District</option>\n                      {getPermanentDistricts().map((district) => (\n                        <option key={district} value={district}>\n                          {district}\n                        </option>\n                      ))}\n                    </select>\n                  ) : (\n                    <input\n                      type=\"text\"\n                      value={sectionData.permanentDistrict || permanentAddress.district || ''}\n                      onChange={(e) => handlePermanentFieldChange('permanentDistrict', e.target.value)}\n                      placeholder=\"Enter district\"\n                      disabled={sameAddress}\n                      className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                    />\n                  )}\n                </div>\n              </div>\n\n              {/* City - Fourth */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">City *</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.permanentCity || permanentAddress.city || ''}\n                  onChange={(e) => handlePermanentFieldChange('permanentCity', e.target.value)}\n                  placeholder=\"Enter city (auto-filled from pincode but can be changed)\"\n                  disabled={sameAddress}\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n\n              {/* Address Lines - Last */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Address Line 1 *</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.permanentAddressLine1 || permanentAddress.addressLine1 || ''}\n                  onChange={(e) => handlePermanentFieldChange('permanentAddressLine1', e.target.value)}\n                  placeholder=\"Enter address line 1\"\n                  disabled={sameAddress}\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Address Line 2</label>\n                <input\n                  type=\"text\"\n                  value={sectionData.permanentAddressLine2 || permanentAddress.addressLine2 || ''}\n                  onChange={(e) => handlePermanentFieldChange('permanentAddressLine2', e.target.value)}\n                  placeholder=\"Enter address line 2 (optional)\"\n                  disabled={sameAddress}\n                  className=\"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Display mode\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n      {/* Current Address Display */}\n      <div>\n        <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3\">\n          Current Address\n        </h4>\n        <div className=\"text-sm text-gray-900 dark:text-white space-y-1\">\n          {currentAddress.addressLine1 ? (\n            <>\n              <div><span className=\"font-medium\">Address:</span> {currentAddress.addressLine1}</div>\n              {currentAddress.addressLine2 && <div><span className=\"font-medium\">Address 2:</span> {currentAddress.addressLine2}</div>}\n              <div><span className=\"font-medium\">City:</span> {currentAddress.city}</div>\n              {currentAddress.district && <div><span className=\"font-medium\">District:</span> {currentAddress.district}</div>}\n              <div><span className=\"font-medium\">State:</span> {currentAddress.state} - <span className=\"font-medium\">Pincode:</span> {currentAddress.postalCode}</div>\n              <div><span className=\"font-medium\">Country:</span> {currentAddress.country}</div>\n            </>\n          ) : (\n            <span className=\"text-gray-500\">Not provided</span>\n          )}\n        </div>\n      </div>\n\n      {/* Permanent Address Display */}\n      <div>\n        <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3\">\n          Permanent Address\n        </h4>\n        <div className=\"text-sm text-gray-900 dark:text-white space-y-1\">\n          {permanentAddress.addressLine1 ? (\n            <>\n              <div><span className=\"font-medium\">Address:</span> {permanentAddress.addressLine1}</div>\n              {permanentAddress.addressLine2 && <div><span className=\"font-medium\">Address 2:</span> {permanentAddress.addressLine2}</div>}\n              <div><span className=\"font-medium\">City:</span> {permanentAddress.city}</div>\n              {permanentAddress.district && <div><span className=\"font-medium\">District:</span> {permanentAddress.district}</div>}\n              <div><span className=\"font-medium\">State:</span> {permanentAddress.state} - <span className=\"font-medium\">Pincode:</span> {permanentAddress.postalCode}</div>\n              <div><span className=\"font-medium\">Country:</span> {permanentAddress.country}</div>\n            </>\n          ) : (\n            <span className=\"text-gray-500\">Not provided</span>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n})\n\n// Education Section Component - LinkedIn Style\nconst EducationSection = memo<{\n  educationData: any\n}>(({ educationData }) => {\n  const [addEducation] = useAddEducationMutation()\n  const [updateEducation] = useUpdateEducationMutation()\n  const [deleteEducation] = useDeleteEducationMutation()\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [editingId, setEditingId] = useState<string | null>(null)\n  const [formData, setFormData] = useState({\n    course: '',\n    stream: '',\n    institution: '',\n    fromYear: '',\n    toYear: '',\n    isOngoing: false,\n    description: ''\n  })\n\n  const resetForm = () => {\n    setFormData({\n      course: '',\n      stream: '',\n      institution: '',\n      fromYear: '',\n      toYear: '',\n      isOngoing: false,\n      description: ''\n    })\n    setShowAddForm(false)\n    setEditingId(null)\n  }\n\n  const handleAdd = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!formData.course || !formData.institution || !formData.fromYear) return\n\n    try {\n      await addEducation({\n        course: formData.course,\n        stream: formData.stream || '',\n        institution: formData.institution,\n        fromYear: parseInt(formData.fromYear),\n        toYear: formData.isOngoing ? undefined : parseInt(formData.toYear),\n        isOngoing: formData.isOngoing,\n        description: formData.description || ''\n      }).unwrap()\n      resetForm()\n    } catch (error) {\n      console.error('Failed to add education:', error)\n    }\n  }\n\n  const handleEdit = (edu: any) => {\n    setFormData({\n      course: edu.course,\n      stream: edu.stream || '',\n      institution: edu.institution,\n      fromYear: edu.fromYear.toString(),\n      toYear: edu.toYear ? edu.toYear.toString() : '',\n      isOngoing: edu.isOngoing,\n      description: edu.description || ''\n    })\n    setEditingId(edu.id)\n    setShowAddForm(true)\n  }\n\n  const handleUpdate = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!editingId || !formData.course || !formData.institution || !formData.fromYear) return\n\n    try {\n      await updateEducation({\n        educationId: editingId,\n        data: {\n          course: formData.course,\n          stream: formData.stream,\n          institution: formData.institution,\n          fromYear: parseInt(formData.fromYear),\n          toYear: formData.isOngoing ? undefined : parseInt(formData.toYear),\n          isOngoing: formData.isOngoing,\n          description: formData.description\n        }\n      }).unwrap()\n      resetForm()\n    } catch (error) {\n      console.error('Failed to update education:', error)\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (confirm('Are you sure you want to delete this education record?')) {\n      try {\n        await deleteEducation(id).unwrap()\n      } catch (error) {\n        console.error('Failed to delete education:', error)\n      }\n    }\n  }\n\n  // Sort education by fromYear descending (most recent first)\n  const sortedEducation = [...(educationData || [])].sort((a, b) => b.fromYear - a.fromYear)\n  const hasMaxEducation = sortedEducation.length >= 3\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n          <AcademicCapIcon className=\"h-5 w-5 mr-2\" />\n          Education\n        </h3>\n        <button\n          onClick={() => setShowAddForm(!showAddForm)}\n          disabled={hasMaxEducation && !editingId}\n          className={`inline-flex items-center px-3 py-2 text-sm font-medium ${\n            hasMaxEducation && !editingId \n              ? 'text-gray-400 cursor-not-allowed' \n              : 'text-blue-600 hover:text-blue-700 dark:text-blue-400'\n          }`}\n        >\n          <PlusIcon className=\"h-4 w-4 mr-1\" />\n          {hasMaxEducation && !editingId ? 'Maximum 3 Education Entries' : 'Add Education'}\n        </button>\n      </div>\n\n      {/* Add/Edit Form */}\n      {showAddForm && (\n        <form onSubmit={editingId ? handleUpdate : handleAdd} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6\">\n          <h4 className=\"font-medium text-gray-900 dark:text-white mb-4\">\n            {editingId ? 'Edit Education' : 'Add Education'}\n          </h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Course/Degree *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.course}\n                onChange={(e) => setFormData(prev => ({ ...prev, course: e.target.value }))}\n                placeholder=\"e.g., Bachelor of Technology, MBA, XII\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Field of Study\n              </label>\n              <input\n                type=\"text\"\n                value={formData.stream}\n                onChange={(e) => setFormData(prev => ({ ...prev, stream: e.target.value }))}\n                placeholder=\"e.g., Computer Science, Finance\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Institution *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.institution}\n                onChange={(e) => setFormData(prev => ({ ...prev, institution: e.target.value }))}\n                placeholder=\"School/College/University name\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Start Year *\n              </label>\n              <input\n                type=\"number\"\n                required\n                min=\"1950\"\n                max={new Date().getFullYear() + 10}\n                value={formData.fromYear}\n                onChange={(e) => setFormData(prev => ({ ...prev, fromYear: e.target.value }))}\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                End Year\n              </label>\n              <input\n                type=\"number\"\n                min=\"1950\"\n                max={new Date().getFullYear() + 10}\n                value={formData.toYear}\n                onChange={(e) => setFormData(prev => ({ ...prev, toYear: e.target.value }))}\n                disabled={formData.isOngoing}\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800\"\n              />\n            </div>\n            <div className=\"md:col-span-2 flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"education-ongoing\"\n                checked={formData.isOngoing}\n                onChange={(e) => setFormData(prev => ({ \n                  ...prev, \n                  isOngoing: e.target.checked, \n                  toYear: e.target.checked ? '' : prev.toYear \n                }))}\n                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label htmlFor=\"education-ongoing\" className=\"ml-2 text-sm text-gray-700 dark:text-gray-300\">\n                I am currently studying here\n              </label>\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Description\n              </label>\n              <textarea\n                rows={3}\n                value={formData.description}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Describe your studies, achievements, activities...\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end space-x-3 mt-4\">\n            <button\n              type=\"button\"\n              onClick={resetForm}\n              className=\"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {editingId ? 'Update' : 'Add'} Education\n            </button>\n          </div>\n        </form>\n      )}\n\n      {/* Education List */}\n      <div className=\"space-y-4\">\n        {sortedEducation.length > 0 ? (\n          sortedEducation.map((edu: any) => (\n            <div key={edu.id} className=\"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50\">\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-gray-900 dark:text-white\">\n                    {edu.course}\n                    {edu.stream && <span className=\"text-gray-600 dark:text-gray-400\">  {edu.stream}</span>}\n                  </h4>\n                  <p className=\"text-gray-600 dark:text-gray-400 mt-1\">{edu.institution}</p>\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    {edu.fromYear} - {edu.isOngoing ? 'Present' : edu.toYear}\n                  </p>\n                  {edu.description && (\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">{edu.description}</p>\n                  )}\n                </div>\n                <div className=\"flex space-x-2 ml-4\">\n                  <button\n                    onClick={() => handleEdit(edu)}\n                    className=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 p-1\"\n                    title=\"Edit\"\n                  >\n                    <PencilIcon className=\"h-4 w-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(edu.id)}\n                    className=\"text-red-600 hover:text-red-800 dark:text-red-400 p-1\"\n                    title=\"Delete\"\n                  >\n                    <TrashIcon className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n            <AcademicCapIcon className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\n            <p>No education history added yet</p>\n            <p className=\"text-sm\">Add your educational background to showcase your qualifications</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n})\n\n// Work Experience Section Component - LinkedIn Style  \nconst WorkExperienceSection = memo<{\n  workData: any\n}>(({ workData }) => {\n  const [addWorkExperience] = useAddWorkExperienceMutation()\n  const [updateWorkExperience] = useUpdateWorkExperienceMutation()\n  const [deleteWorkExperience] = useDeleteWorkExperienceMutation()\n  const [showAddForm, setShowAddForm] = useState(false)\n  const [editingId, setEditingId] = useState<string | null>(null)\n  const [formData, setFormData] = useState({\n    jobRole: '',\n    companyName: '',\n    companyType: '',\n    workAddress: '',\n    fromYear: '',\n    toYear: '',\n    isCurrentJob: false,\n    description: ''\n  })\n\n  const companyTypes = [\n    'GOVERNMENT',\n    'PRIVATE', \n    'STARTUP',\n    'NGO',\n    'FREELANCE',\n    'SELF_EMPLOYED'\n  ]\n\n  const resetForm = () => {\n    setFormData({\n      jobRole: '',\n      companyName: '',\n      companyType: '',\n      workAddress: '',\n      fromYear: '',\n      toYear: '',\n      isCurrentJob: false,\n      description: ''\n    })\n    setShowAddForm(false)\n    setEditingId(null)\n  }\n\n  const handleAdd = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!formData.jobRole || !formData.companyName || !formData.fromYear) return\n\n    try {\n      await addWorkExperience({\n        jobRole: formData.jobRole,\n        companyName: formData.companyName,\n        companyType: formData.companyType as any || undefined,\n        workAddress: formData.workAddress || undefined,\n        fromYear: parseInt(formData.fromYear),\n        toYear: formData.isCurrentJob ? undefined : parseInt(formData.toYear),\n        isCurrentJob: formData.isCurrentJob,\n        description: formData.description || undefined\n      }).unwrap()\n      resetForm()\n    } catch (error) {\n      console.error('Failed to add work experience:', error)\n    }\n  }\n\n  const handleEdit = (work: any) => {\n    setFormData({\n      jobRole: work.jobRole,\n      companyName: work.companyName,\n      companyType: work.companyType || '',\n      workAddress: work.workAddress || '',\n      fromYear: work.fromYear.toString(),\n      toYear: work.toYear ? work.toYear.toString() : '',\n      isCurrentJob: work.isCurrentJob,\n      description: work.description || ''\n    })\n    setEditingId(work.id)\n    setShowAddForm(true)\n  }\n\n  const handleUpdate = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!editingId || !formData.jobRole || !formData.companyName || !formData.fromYear) return\n\n    try {\n      await updateWorkExperience({\n        workId: editingId,\n        data: {\n          jobRole: formData.jobRole,\n          companyName: formData.companyName,\n          companyType: formData.companyType as any || undefined,\n          workAddress: formData.workAddress || undefined,\n          fromYear: parseInt(formData.fromYear),\n          toYear: formData.isCurrentJob ? undefined : parseInt(formData.toYear),\n          isCurrentJob: formData.isCurrentJob,\n          description: formData.description || undefined\n        }\n      }).unwrap()\n      resetForm()\n    } catch (error) {\n      console.error('Failed to update work experience:', error)\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (confirm('Are you sure you want to delete this work experience?')) {\n      try {\n        await deleteWorkExperience(id).unwrap()\n      } catch (error) {\n        console.error('Failed to delete work experience:', error)\n      }\n    }\n  }\n\n  // Sort work experience by fromYear descending (most recent first)\n  const sortedWork = [...(workData || [])].sort((a, b) => b.fromYear - a.fromYear)\n  const hasMaxWork = sortedWork.length >= 3\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n          <BriefcaseIcon className=\"h-5 w-5 mr-2\" />\n          Work Experience\n        </h3>\n        <button\n          onClick={() => setShowAddForm(!showAddForm)}\n          disabled={hasMaxWork && !editingId}\n          className={`inline-flex items-center px-3 py-2 text-sm font-medium ${\n            hasMaxWork && !editingId \n              ? 'text-gray-400 cursor-not-allowed' \n              : 'text-blue-600 hover:text-blue-700 dark:text-blue-400'\n          }`}\n        >\n          <PlusIcon className=\"h-4 w-4 mr-1\" />\n          {hasMaxWork && !editingId ? 'Maximum 3 Work Experiences' : 'Add Experience'}\n        </button>\n      </div>\n\n      {/* Add/Edit Form */}\n      {showAddForm && (\n        <form onSubmit={editingId ? handleUpdate : handleAdd} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6\">\n          <h4 className=\"font-medium text-gray-900 dark:text-white mb-4\">\n            {editingId ? 'Edit Experience' : 'Add Experience'}\n          </h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Job Title *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.jobRole}\n                onChange={(e) => setFormData(prev => ({ ...prev, jobRole: e.target.value }))}\n                placeholder=\"e.g., Software Developer, Marketing Manager\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Company *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.companyName}\n                onChange={(e) => setFormData(prev => ({ ...prev, companyName: e.target.value }))}\n                placeholder=\"Company name\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Company Type\n              </label>\n              <select\n                value={formData.companyType}\n                onChange={(e) => setFormData(prev => ({ ...prev, companyType: e.target.value }))}\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              >\n                <option value=\"\">Select type</option>\n                {companyTypes.map(type => (\n                  <option key={type} value={type}>\n                    {type.replace('_', ' ')}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Location\n              </label>\n              <input\n                type=\"text\"\n                value={formData.workAddress}\n                onChange={(e) => setFormData(prev => ({ ...prev, workAddress: e.target.value }))}\n                placeholder=\"City, State, Country\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Start Year *\n              </label>\n              <input\n                type=\"number\"\n                required\n                min=\"1950\"\n                max={new Date().getFullYear()}\n                value={formData.fromYear}\n                onChange={(e) => setFormData(prev => ({ ...prev, fromYear: e.target.value }))}\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                End Year\n              </label>\n              <input\n                type=\"number\"\n                min=\"1950\"\n                max={new Date().getFullYear()}\n                value={formData.toYear}\n                onChange={(e) => setFormData(prev => ({ ...prev, toYear: e.target.value }))}\n                disabled={formData.isCurrentJob}\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800\"\n              />\n            </div>\n            <div className=\"md:col-span-2 flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"work-current\"\n                checked={formData.isCurrentJob}\n                onChange={(e) => setFormData(prev => ({ \n                  ...prev, \n                  isCurrentJob: e.target.checked, \n                  toYear: e.target.checked ? '' : prev.toYear \n                }))}\n                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label htmlFor=\"work-current\" className=\"ml-2 text-sm text-gray-700 dark:text-gray-300\">\n                I currently work here\n              </label>\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Description\n              </label>\n              <textarea\n                rows={4}\n                value={formData.description}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Describe your role, responsibilities, achievements...\"\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white\"\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end space-x-3 mt-4\">\n            <button\n              type=\"button\"\n              onClick={resetForm}\n              className=\"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {editingId ? 'Update' : 'Add'} Experience\n            </button>\n          </div>\n        </form>\n      )}\n\n      {/* Work Experience List */}\n      <div className=\"space-y-4\">\n        {sortedWork.length > 0 ? (\n          sortedWork.map((work: any) => (\n            <div key={work.id} className=\"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50\">\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-gray-900 dark:text-white\">\n                    {work.jobRole}\n                  </h4>\n                  <p className=\"text-gray-600 dark:text-gray-400 mt-1\">{work.companyName}</p>\n                  <div className=\"flex items-center text-sm text-gray-500 mt-1 space-x-2\">\n                    <span>{work.fromYear} - {work.isCurrentJob ? 'Present' : work.toYear}</span>\n                    {work.workAddress && (\n                      <>\n                        <span></span>\n                        <span>{work.workAddress}</span>\n                      </>\n                    )}\n                    {work.companyType && (\n                      <>\n                        <span></span>\n                        <span>{work.companyType.replace('_', ' ')}</span>\n                      </>\n                    )}\n                  </div>\n                  {work.description && (\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">{work.description}</p>\n                  )}\n                </div>\n                <div className=\"flex space-x-2 ml-4\">\n                  <button\n                    onClick={() => handleEdit(work)}\n                    className=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 p-1\"\n                    title=\"Edit\"\n                  >\n                    <PencilIcon className=\"h-4 w-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(work.id)}\n                    className=\"text-red-600 hover:text-red-800 dark:text-red-400 p-1\"\n                    title=\"Delete\"\n                  >\n                    <TrashIcon className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n            <BriefcaseIcon className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\n            <p>No work experience added yet</p>\n            <p className=\"text-sm\">Add your professional experience to showcase your career journey</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n})\n\nconst Profile: React.FC = () => {\n  const {\n    data: profile,\n    isLoading,\n    error,\n    refetch,\n  } = useGetProfileQuery(undefined, {\n    // Disable automatic refetching that might cause re-renders\n    refetchOnFocus: false,\n    refetchOnReconnect: false,\n    refetchOnMountOrArgChange: false,\n  })\n  const { auth } = useAuth()\n\n  const [updateProfile] = useUpdateProfileMutation()\n  const [deleteProfilePicture] = useDeleteProfilePictureMutation()\n  const { data: addressData, error: addressError, isLoading: addressLoading, refetch: refetchAddresses } = useGetAddressesQuery()\n  const [updateAddress] = useUpdateAddressMutation()\n  const { data: educationData } = useGetEducationHistoryQuery()\n  const { data: workData } = useGetWorkHistoryQuery()\n  const [activeTab, setActiveTab] = useState<\n    'about' | 'address' | 'career' | 'documents' | 'assets' | 'social'\n  >('about')\n  const [editingSection, setEditingSection] = useState<string | null>(null)\n  const [sectionData, setSectionData] = useState<Record<string, any>>({})\n  const [showProfilePictureMenu, setShowProfilePictureMenu] = useState(false)\n  const [imageTimestamp, setImageTimestamp] = useState(Date.now())\n  const [showIdentityCard, setShowIdentityCard] = useState(false)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n\n  // CRITICAL: All hooks must be called before early returns to avoid hooks violation\n  const handleSectionFieldChange = useCallback((field: string, value: any) => {\n    setSectionData((prev) => ({ ...prev, [field]: value }))\n  }, [])\n\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setShowProfilePictureMenu(false)\n      }\n    }\n\n    if (showProfilePictureMenu) {\n      document.addEventListener('mousedown', handleClickOutside)\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [showProfilePictureMenu])\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    )\n  }\n\n  if (error || !profile) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <ExclamationTriangleIcon className=\"h-16 w-16 text-red-500 mx-auto mb-4\" />\n          <p className=\"text-red-600 dark:text-red-400\">\n            Failed to load profile\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  // Removed mock data - using real API data from hooks above\n\n\n  // Section editing functions\n  const handleEditSection = (section: string) => {\n    setEditingSection(section)\n\n    // Initialize section data based on section type\n    switch (section) {\n      case 'personal':\n        setSectionData({\n          bio: profile.bio || '',\n          dateOfBirth: profile.dateOfBirth\n            ? profile.dateOfBirth.split('T')[0]\n            : '',\n          employmentStatus: profile.employmentStatus || 'OPEN_TO_WORK',\n          bloodGroup: profile.bloodGroup || '',\n        })\n        break\n      case 'contact':\n        setSectionData({\n          whatsappNumber: profile.whatsappNumber || '',\n          alternateNumber: profile.alternateNumber || '',\n          showEmail: profile.showEmail ?? true,\n          showPhone: profile.showPhone ?? false,\n        })\n        break\n      case 'social':\n        setSectionData({\n          linkedinUrl: profile.linkedinUrl || '',\n          instagramUrl: profile.instagramUrl || '',\n          facebookUrl: profile.facebookUrl || '',\n          twitterUrl: profile.twitterUrl || '',\n          portfolioUrl: profile.portfolioUrl || '',\n        })\n        break\n      case 'privacy':\n        setSectionData({\n          isProfilePublic: profile.isProfilePublic ?? true,\n          showEmail: profile.showEmail ?? true,\n          showPhone: profile.showPhone ?? false,\n        })\n        break\n      case 'address':\n        const currentAddr = addressData?.find((addr: any) => addr.addressType === 'CURRENT') || {\n          addressLine1: '',\n          addressLine2: '',\n          city: '',\n          district: '',\n          state: '',\n          postalCode: '',\n          country: 'India'\n        }\n        const permanentAddr = addressData?.find((addr: any) => addr.addressType === 'PERMANENT') || {\n          addressLine1: '',\n          addressLine2: '',\n          city: '',\n          district: '',\n          state: '',\n          postalCode: '',\n          country: 'India'\n        }\n        setSectionData({\n          currentAddressLine1: currentAddr.addressLine1 || '',\n          currentAddressLine2: currentAddr.addressLine2 || '',\n          currentCity: currentAddr.city || '',\n          currentDistrict: currentAddr.district || '',\n          currentState: currentAddr.state || '',\n          currentPincode: currentAddr.postalCode || '',\n          currentCountry: currentAddr.country || 'India',\n          permanentAddressLine1: permanentAddr.addressLine1 || '',\n          permanentAddressLine2: permanentAddr.addressLine2 || '',\n          permanentCity: permanentAddr.city || '',\n          permanentDistrict: permanentAddr.district || '',\n          permanentState: permanentAddr.state || '',\n          permanentPincode: permanentAddr.postalCode || '',\n          permanentCountry: permanentAddr.country || 'India',\n        })\n        break\n      default:\n        setSectionData({})\n    }\n  }\n\n  const handleSaveSection = async (section: string) => {\n    try {\n      if (section === 'address') {\n        // Handle address data separately using the updateAddress API\n        // Only send fields that exist in the UpdateAddressRequest interface\n        const currentAddressData = {\n          addressLine1: sectionData.currentAddressLine1 || '',\n          addressLine2: sectionData.currentAddressLine2 || '',\n          city: sectionData.currentCity || '',\n          district: sectionData.currentDistrict || '',\n          state: sectionData.currentState || '',\n          postalCode: sectionData.currentPincode || '',\n          country: sectionData.currentCountry || 'India',\n        }\n\n        const permanentAddressData = {\n          addressLine1: sectionData.permanentAddressLine1 || '',\n          addressLine2: sectionData.permanentAddressLine2 || '',\n          city: sectionData.permanentCity || '',\n          district: sectionData.permanentDistrict || '',\n          state: sectionData.permanentState || '',\n          postalCode: sectionData.permanentPincode || '',\n          country: sectionData.permanentCountry || 'India',\n        }\n\n        // Update both addresses\n        await Promise.all([\n          updateAddress({ addressType: 'CURRENT', data: currentAddressData }).unwrap(),\n          updateAddress({ addressType: 'PERMANENT', data: permanentAddressData }).unwrap()\n        ])\n        \n        // Explicitly refetch address data to ensure UI updates\n        await refetchAddresses()\n      } else if (section === 'career') {\n        // Career section handles its own saving through CareerForm component\n        // Just exit editing mode\n      } else {\n        // Handle other profile sections normally\n        await updateProfile(sectionData).unwrap()\n      }\n\n      setEditingSection(null)\n      setSectionData({})\n      alert('Section updated successfully!')\n\n      // Refresh profile data\n      await refetch()\n    } catch (error) {\n      console.error('Failed to update section:', error)\n      alert('Failed to update section. Please try again.')\n    }\n  }\n\n  const handleCancelEdit = () => {\n    setEditingSection(null)\n    setSectionData({})\n  }\n\n  // Profile picture upload functions\n  const handleProfilePictureClick = () => {\n    setShowProfilePictureMenu(!showProfilePictureMenu)\n  }\n\n  const handleUploadClick = () => {\n    // Reset file input to ensure onChange fires even for same file\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''\n    }\n    fileInputRef.current?.click()\n    setShowProfilePictureMenu(false)\n  }\n\n  const handleDeleteClick = async () => {\n    if (!profile.profileImage) return\n\n    try {\n      if (confirm('Are you sure you want to delete your profile picture?')) {\n        await deleteProfilePicture().unwrap()\n        alert('Profile picture deleted successfully!')\n\n        // Update timestamp for cache-busting\n        setImageTimestamp(Date.now())\n\n        await refetch()\n      }\n    } catch (error: any) {\n      console.error(' Failed to delete profile picture:', error)\n      alert(\n        error.message || 'Failed to delete profile picture. Please try again.'\n      )\n    } finally {\n      setShowProfilePictureMenu(false)\n    }\n  }\n\n  const handleProfilePictureChange = async (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    const file = event.target.files?.[0]\n    if (!file) return\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      alert('Please select an image file')\n      return\n    }\n\n    // Validate file size (5MB max)\n    if (file.size > 5 * 1024 * 1024) {\n      alert('File size must be less than 5MB')\n      return\n    }\n\n    try {\n      const formData = new FormData()\n      formData.append('profileImage', file)\n\n      // Use plain fetch instead of RTK Query (like organization logo upload)\n      const response = await fetch(\n        getApiUrl('/api/users/profile-picture'),\n        {\n          method: 'PUT',\n          headers: {\n            Authorization: `Bearer ${auth?.token}`,\n          },\n          body: formData,\n        }\n      )\n\n      const result = await response.json()\n\n      if (!response.ok) {\n        throw new Error(result.message || 'Upload failed')\n      }\n\n      alert(\n        profile.profileImage\n          ? 'Profile picture replaced successfully!'\n          : 'Profile picture uploaded successfully!'\n      )\n\n      // Update timestamp for cache-busting\n      setImageTimestamp(Date.now())\n\n      // Refresh profile data to show new image\n      await refetch()\n\n      // Reset file input to allow re-uploading the same file if needed\n      if (fileInputRef.current) {\n        fileInputRef.current.value = ''\n      }\n    } catch (error: any) {\n      console.error(' Failed to upload profile picture:', error)\n      alert(\n        error.message || 'Failed to upload profile picture. Please try again.'\n      )\n    }\n  }\n\n  // Calculate profile completion percentage\n  const calculateProfileCompletion = () => {\n    const fields = [\n      { value: profile.fullName, weight: 10 },\n      { value: profile.email, weight: 10 },\n      { value: profile.batch, weight: 10 },\n      { value: profile.bio, weight: 10 },\n      { value: profile.dateOfBirth, weight: 5 },\n      { value: profile.employmentStatus, weight: 10 },\n      { value: profile.bloodGroup, weight: 5 },\n      { value: profile.whatsappNumber, weight: 10 },\n      { value: profile.profileImage, weight: 10 },\n      { value: profile.admissionYear, weight: 5 },\n      { value: profile.passoutYear, weight: 5 },\n      { value: profile.linkedinUrl || profile.facebookUrl || profile.instagramUrl || profile.twitterUrl || profile.portfolioUrl, weight: 5 },\n    ]\n    \n    const totalWeight = fields.reduce((sum, field) => sum + field.weight, 0)\n    const completedWeight = fields.reduce((sum, field) => {\n      return sum + (field.value ? field.weight : 0)\n    }, 0)\n    \n    return Math.round((completedWeight / totalWeight) * 100)\n  }\n\n  const profileCompletionPercentage = calculateProfileCompletion()\n\n  // Status Badge Component\n  const StatusBadge = () => {\n    if (profile.verificationContext?.isBlacklisted) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\">\n          Blacklisted\n        </span>\n      )\n    }\n    if (profile.isRejected) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\">\n          Rejected\n        </span>\n      )\n    }\n    if (profile.pendingVerification) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400\">\n          Pending\n        </span>\n      )\n    }\n    if (profile.isAlumniVerified) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 mx-auto sm:mx-0\">\n          <CheckBadgeIconSolid className=\"h-3 w-3 mr-1\" />\n          Verified Alumni\n        </span>\n      )\n    }\n    return null\n  }\n\n  // Membership Status Badge Component\n  const MembershipStatusBadge = () => {\n    const { data: membershipData } = useGetMembershipStatusQuery()\n    const status = membershipData?.status || profile.membershipStatus\n\n    const getStatusConfig = (status: string) => {\n      switch (status) {\n        case 'ACTIVE':\n          return {\n            color:\n              'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400',\n            label: 'Active Member',\n            icon: CheckBadgeIconSolid,\n          }\n        case 'EXPIRED':\n          return {\n            color:\n              'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400',\n            label: 'Expired',\n            icon: ClockIcon,\n          }\n        case 'PENDING':\n          return {\n            color:\n              'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400',\n            label: 'Pending',\n            icon: ClockIcon,\n          }\n        case 'SUSPENDED':\n          return {\n            color:\n              'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400',\n            label: 'Suspended',\n            icon: XCircleIcon,\n          }\n        default:\n          return {\n            color:\n              'bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400',\n            label: 'Inactive',\n            icon: XCircleIcon,\n          }\n      }\n    }\n\n    const config = getStatusConfig(status)\n    const Icon = config.icon\n\n    return (\n      <span\n        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`}\n      >\n        <Icon className=\"h-3 w-3 mr-1\" />\n        {config.label}\n      </span>\n    )\n  }\n\n  // Privacy Toggle Component\n  // Privacy Toggles Component - Interactive toggles for privacy settings\n  const PrivacyToggles = () => {\n    const [privacySettings, setPrivacySettings] = useState({\n      isProfilePublic: profile.isProfilePublic,\n      showEmail: profile.showEmail,\n      showPhone: profile.showPhone,\n    })\n    const [isSaving, setIsSaving] = useState(false)\n\n    const handleToggle = async (field: string, value: boolean) => {\n      const newSettings = { ...privacySettings, [field]: value }\n      setPrivacySettings(newSettings)\n      \n      // Auto-save privacy settings\n      try {\n        setIsSaving(true)\n        await updateProfile({ [field]: value }).unwrap()\n        await refetch()\n      } catch (error) {\n        console.error('Failed to update privacy setting:', error)\n        // Revert on error\n        setPrivacySettings(privacySettings)\n      } finally {\n        setIsSaving(false)\n      }\n    }\n\n    return (\n      <div className=\"flex flex-wrap items-center gap-3 sm:gap-4 md:gap-6\">\n        {/* Profile Visibility Toggle */}\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => handleToggle('isProfilePublic', !privacySettings.isProfilePublic)}\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n              privacySettings.isProfilePublic ? 'bg-green-500' : 'bg-gray-400'\n            } ${isSaving ? 'opacity-50' : ''}`}\n            disabled={isSaving}\n          >\n            <span className=\"sr-only\">Toggle public profile</span>\n            <span\n              className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                privacySettings.isProfilePublic ? 'translate-x-6' : 'translate-x-1'\n              }`}\n            />\n          </button>\n          <div className=\"flex items-center gap-1.5\">\n            <GlobeAltIcon className=\"h-4 w-4 sm:h-5 sm:w-5 text-gray-300\" />\n            <span className=\"text-xs sm:text-sm text-gray-300 whitespace-nowrap\">Public Profile</span>\n          </div>\n        </div>\n\n        {/* Show Email Toggle */}\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => handleToggle('showEmail', !privacySettings.showEmail)}\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n              privacySettings.showEmail ? 'bg-green-500' : 'bg-gray-400'\n            } ${isSaving ? 'opacity-50' : ''}`}\n            disabled={isSaving}\n          >\n            <span className=\"sr-only\">Toggle show email</span>\n            <span\n              className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                privacySettings.showEmail ? 'translate-x-6' : 'translate-x-1'\n              }`}\n            />\n          </button>\n          <div className=\"flex items-center gap-1.5\">\n            <EnvelopeIcon className=\"h-4 w-4 sm:h-5 sm:w-5 text-gray-300\" />\n            <span className=\"text-xs sm:text-sm text-gray-300 whitespace-nowrap\">Show Email</span>\n          </div>\n        </div>\n\n        {/* Show Phone Toggle */}\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => handleToggle('showPhone', !privacySettings.showPhone)}\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n              privacySettings.showPhone ? 'bg-green-500' : 'bg-gray-400'\n            } ${isSaving ? 'opacity-50' : ''}`}\n            disabled={isSaving}\n          >\n            <span className=\"sr-only\">Toggle show phone</span>\n            <span\n              className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                privacySettings.showPhone ? 'translate-x-6' : 'translate-x-1'\n              }`}\n            />\n          </button>\n          <div className=\"flex items-center gap-1.5\">\n            <PhoneIcon className=\"h-4 w-4 sm:h-5 sm:w-5 text-gray-300\" />\n            <span className=\"text-xs sm:text-sm text-gray-300 whitespace-nowrap\">Show Phone</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  // Social Media Icons Component\n  const SocialMediaIcons = () => {\n    const socialLinks = [\n      { url: profile.linkedinUrl, icon: 'linkedin', name: 'LinkedIn' },\n      { url: profile.facebookUrl, icon: 'facebook', name: 'Facebook' },\n      { url: profile.instagramUrl, icon: 'instagram', name: 'Instagram' },\n      { url: profile.twitterUrl, icon: 'twitter', name: 'Twitter' },\n      { url: profile.portfolioUrl, icon: 'portfolio', name: 'Portfolio' },\n    ].filter((link) => link.url)\n\n    if (socialLinks.length === 0) return null\n\n    const getSocialIcon = (icon: string) => {\n      switch (icon) {\n        case 'linkedin':\n          return (\n            <svg className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" />\n            </svg>\n          )\n        case 'facebook':\n          return (\n            <svg className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\" />\n            </svg>\n          )\n        case 'instagram':\n          return (\n            <svg className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.618 5.367 11.986 11.988 11.986 6.618 0 11.986-5.368 11.986-11.986C24.003 5.367 18.635.001 12.017.001zM8.449 2.678c3.549 0 6.42 2.87 6.42 6.42 0 3.548-2.871 6.419-6.42 6.419-3.548 0-6.419-2.871-6.419-6.419 0-3.55 2.871-6.42 6.419-6.42zm7.064 16.646h-1.905v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H7.715V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286z\" />\n            </svg>\n          )\n        case 'twitter':\n          return (\n            <svg className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z\" />\n            </svg>\n          )\n        case 'portfolio':\n          return <GlobeAltIcon className=\"h-5 w-5\" />\n        default:\n          return <LinkIcon className=\"h-5 w-5\" />\n      }\n    }\n\n    return (\n      <div className=\"flex items-center justify-center sm:justify-start space-x-3\">\n        {socialLinks.map((link, index) => (\n          <a\n            key={index}\n            href={link.url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10\"\n            title={link.name}\n          >\n            {getSocialIcon(link.icon)}\n          </a>\n        ))}\n      </div>\n    )\n  }\n\n  // Section Display Component\n  // Move SectionCard outside component to prevent recreation and focus loss\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      {/* Header Section - Similar to Keka Design */}\n      <div className=\"relative\">\n        {/* Background Banner */}\n        <div className=\"sm:h-48 md:h-56 bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 relative flex items-center sm:items-end justify-center sm:justify-start\">\n          <div className=\"absolute inset-0 bg-black bg-opacity-20\"></div>\n\n          {/* Profile Info Overlay */}\n          <div className=\"relative w-full py-6 sm:pb-6 sm:pt-0 px-4 sm:px-6 md:px-8 flex flex-col sm:flex-row items-center sm:items-end space-y-4 sm:space-y-0 sm:space-x-6 md:space-x-8 z-10\">\n            {/* Profile Picture with Upload/Delete Menu */}\n            <div className=\"relative flex-shrink-0 self-center sm:self-auto\">\n              <div className=\"w-24 h-24 sm:w-32 sm:h-32 md:w-36 md:h-36 rounded-full overflow-hidden bg-white shadow-xl border-4 border-white\">\n                {profile.profileImage ? (\n                  <img\n                    src={getApiUrl(`/api/users/profile-picture/${profile.id}?t=${imageTimestamp}`)}\n                    alt={profile.fullName}\n                    className=\"w-full h-full object-cover\"\n                    onError={(e) => {\n                      e.currentTarget.style.display = 'none'\n                      e.currentTarget.nextElementSibling?.setAttribute(\n                        'style',\n                        'display: flex'\n                      )\n                    }}\n                  />\n                ) : null}\n                <div\n                  className={`w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-700 ${profile.profileImage ? 'hidden' : ''}`}\n                >\n                  <UserIcon className=\"h-20 w-20 text-gray-400\" />\n                </div>\n              </div>\n\n              {/* Profile Picture Menu Button */}\n              <button\n                onClick={handleProfilePictureClick}\n                className=\"absolute bottom-0 right-0 w-8 h-8 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-105 border-2 border-white dark:border-gray-800\"\n                title=\"Photo options\"\n              >\n                <EllipsisVerticalIcon className=\"h-4 w-4 text-white\" />\n              </button>\n\n              {/* Profile Picture Menu Dropdown */}\n              {showProfilePictureMenu && (\n                <div\n                  ref={dropdownRef}\n                  className=\"absolute top-full mt-2 right-0 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 py-1 z-50 animate-in slide-in-from-top-2 duration-200\"\n                >\n                  <button\n                    onClick={handleUploadClick}\n                    className=\"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-3 transition-colors duration-150 first:rounded-t-lg\"\n                  >\n                    <ArrowUpTrayIcon className=\"h-4 w-4 text-blue-500\" />\n                    <span className=\"font-medium\">\n                      {profile.profileImage ? 'Replace Photo' : 'Upload Photo'}\n                    </span>\n                  </button>\n                  {profile.profileImage && (\n                    <>\n                      <div className=\"border-t border-gray-100 dark:border-gray-600 my-1\"></div>\n                      <button\n                        onClick={handleDeleteClick}\n                        className=\"w-full px-4 py-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-3 transition-colors duration-150 last:rounded-b-lg\"\n                      >\n                        <TrashIcon className=\"h-4 w-4 text-red-500\" />\n                        <span className=\"font-medium\">Delete Photo</span>\n                      </button>\n                    </>\n                  )}\n                </div>\n              )}\n\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleProfilePictureChange}\n                className=\"hidden\"\n              />\n            </div>\n\n            {/* Profile Details */}\n            <div className=\"text-white pb-2 flex-1 min-w-0 text-center sm:text-left w-full sm:w-auto\">\n              <div className=\"flex flex-col sm:flex-row sm:items-center justify-center sm:justify-start space-y-2 sm:space-y-0 sm:space-x-4 mb-3\">\n                <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold\">{profile.fullName}</h1>\n                <StatusBadge />\n              </div>\n              \n              {/* Serial ID Display */}\n              {profile.serialId && (\n                <div className=\"flex items-center justify-center sm:justify-start space-x-2 mb-2\">\n                  <IdentificationIcon className=\"h-4 w-4 sm:h-5 sm:w-5 text-white/80 flex-shrink-0\" />\n                  <span className=\"text-sm sm:text-base md:text-lg font-medium text-white/90\">\n                    Serial ID: <span className=\"font-bold\">{profile.serialId}</span>\n                  </span>\n                </div>\n              )}\n\n              {/* Role and Membership Status */}\n              <div className=\"flex flex-wrap items-center justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4 mb-3\">\n                <div className=\"flex items-center space-x-2 bg-white/20 px-3 py-1 rounded-full\">\n                  <UserIcon className=\"h-4 w-4 flex-shrink-0\" />\n                  <span className=\"text-xs sm:text-sm font-medium whitespace-nowrap\">\n                    {profile.role.replace('_', ' ')}\n                  </span>\n                </div>\n                <MembershipStatusBadge />\n              </div>\n\n              {/* Contact Info Row - Always visible to profile owner with privacy indicators */}\n              <div className=\"flex flex-col sm:flex-row sm:items-center justify-center sm:justify-start gap-2 sm:gap-4 md:gap-6 text-xs sm:text-sm text-white/90 mb-3\">\n                {/* Profile Privacy Indicator */}\n                <div className=\"flex items-center justify-center sm:justify-start space-x-1 flex-shrink-0\">\n                  {profile.isProfilePublic ? (\n                    <LockOpenIcon className=\"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-400\" title=\"Profile is public\" />\n                  ) : (\n                    <LockClosedIcon className=\"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-400\" title=\"Profile is private\" />\n                  )}\n                  <span className=\"text-xs whitespace-nowrap\">Profile</span>\n                </div>\n\n                {/* Email with privacy indicator */}\n                <div className=\"flex items-center justify-center sm:justify-start space-x-2 min-w-0\">\n                  <EnvelopeIcon className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 flex-shrink-0\" />\n                  <span className=\"truncate\">{profile.email}</span>\n                  {!profile.showEmail ? (\n                    <LockClosedIcon className=\"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-400 flex-shrink-0\" title=\"Email hidden from others\" />\n                  ) : (\n                    <LockOpenIcon className=\"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-400 flex-shrink-0\" title=\"Email visible to others\" />\n                  )}\n                </div>\n\n                {/* Phone numbers with privacy indicator - includes both WhatsApp and Alternate */}\n                {(profile.whatsappNumber || profile.alternateNumber) && (\n                  <div className=\"flex items-center justify-center sm:justify-start space-x-2 min-w-0\">\n                    <PhoneIcon className=\"h-3.5 w-3.5 sm:h-4 sm:w-4 flex-shrink-0\" />\n                    <div className=\"flex items-center space-x-2 min-w-0\">\n                      {profile.whatsappNumber && (\n                        <span title=\"WhatsApp\" className=\"whitespace-nowrap\">{profile.whatsappNumber}</span>\n                      )}\n                      {profile.whatsappNumber && profile.alternateNumber && (\n                        <span className=\"text-white/50\">|</span>\n                      )}\n                      {profile.alternateNumber && (\n                        <span title=\"Alternate\" className=\"whitespace-nowrap\">{profile.alternateNumber}</span>\n                      )}\n                    </div>\n                    {!profile.showPhone ? (\n                      <LockClosedIcon className=\"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-400 flex-shrink-0\" title=\"Phone numbers hidden from others\" />\n                    ) : (\n                      <LockOpenIcon className=\"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-400 flex-shrink-0\" title=\"Phone numbers visible to others\" />\n                    )}\n                  </div>\n                )}\n              </div>\n\n              {/* Social Media Icons */}\n              <SocialMediaIcons />\n            </div>\n          </div>\n        </div>\n\n        {/* Alumni Info Bar with Privacy Toggles */}\n        <div className=\"bg-gray-800 text-white px-4 sm:px-6 md:px-8 py-4\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4 sm:gap-6 md:gap-8\">\n              <div>\n                <div className=\"text-xs text-gray-400 uppercase tracking-wide\">\n                  Batch\n                </div>\n                <div className=\"text-sm font-medium\">{profile.batch}</div>\n              </div>\n              <div>\n                <div className=\"text-xs text-gray-400 uppercase tracking-wide\">\n                  Admission Year\n                </div>\n                <div className=\"text-sm font-medium\">\n                  {profile.admissionYear || 'Not Set'}\n                </div>\n              </div>\n              <div className=\"col-span-2 sm:col-span-1\">\n                <div className=\"text-xs text-gray-400 uppercase tracking-wide\">\n                  Passout Year\n                </div>\n                <div className=\"text-sm font-medium\">\n                  {profile.passoutYear || 'Not Set'}\n                </div>\n              </div>\n            </div>\n\n            {/* Actions and Privacy Toggles on the right side */}\n            <div className=\"flex flex-wrap items-center gap-3 sm:gap-4\">\n              <button\n                onClick={() => setShowIdentityCard(true)}\n                className=\"inline-flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors duration-200\"\n              >\n                <IdentificationIcon className=\"w-4 h-4 mr-2\" />\n                <span className=\"hidden sm:inline\">ID Card</span>\n                <span className=\"sm:hidden\">ID</span>\n              </button>\n              <PrivacyToggles />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Profile Completion - Hidden when 100% complete */}\n      {profileCompletionPercentage < 100 && (\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"px-4 sm:px-6 md:px-8 py-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400\">Profile Completion</span>\n              <span className=\"text-xs sm:text-sm font-bold text-gray-900 dark:text-white\">{profileCompletionPercentage}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n              <div\n                className={`h-2 rounded-full transition-all duration-500 ${\n                  profileCompletionPercentage >= 80 ? 'bg-green-500' :\n                  profileCompletionPercentage >= 50 ? 'bg-yellow-500' : 'bg-red-500'\n                }`}\n                style={{ width: `${profileCompletionPercentage}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Tab Navigation */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 overflow-x-auto\">\n        <div className=\"px-4 sm:px-6 md:px-8\">\n          <nav className=\"flex space-x-4 sm:space-x-6 md:space-x-8 min-w-max sm:min-w-0\">\n            {[\n              { key: 'about', label: 'ABOUT' },\n              { key: 'address', label: 'ADDRESS' },\n              { key: 'career', label: 'CAREER' },\n              { key: 'social', label: 'SOCIAL SERVICE' },\n            ].map((tab) => (\n              <button\n                key={tab.key}\n                onClick={() => setActiveTab(tab.key as 'about' | 'address' | 'career' | 'social')}\n                className={`py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap ${\n                  activeTab === tab.key\n                    ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                    : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'\n                }`}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </nav>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 py-4 sm:py-6 md:py-8\">\n        {activeTab === 'about' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8\">\n            {/* Left Column */}\n            <div className=\"lg:col-span-2 space-y-4 sm:space-y-6 md:space-y-8\">\n              {/* Personal Information Section - Clean Rewrite */}\n              <SectionCard \n                title=\"Personal Information\" \n                sectionKey=\"personal\"\n                editingSection={editingSection}\n                onEditSection={handleEditSection}\n                onSaveSection={handleSaveSection}\n                onCancelEdit={handleCancelEdit}\n              >\n                <div className=\"space-y-4\">\n                  {/* About Me Field - Simple Approach */}\n                  {editingSection === 'personal' ? (\n                    <div className=\"space-y-1\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        About Me\n                      </label>\n                      <textarea\n                        defaultValue={profile.bio || ''}\n                        onChange={(e) => {\n                          // Simple: just update sectionData, no complex state management\n                          setSectionData((prev) => ({\n                            ...prev,\n                            bio: e.target.value,\n                          }))\n                        }}\n                        placeholder=\"Tell us about yourself.\"\n                        rows={4}\n                        className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400\"\n                      />\n                    </div>\n                  ) : (\n                    <div>\n                      <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                        About Me\n                      </dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                        {profile.bio || 'Not Set'}\n                      </dd>\n                    </div>\n                  )}\n\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4\">\n                    {/* Admission Year */}\n                    {editingSection === 'personal' ? (\n                      <div className=\"space-y-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                          Admission Year\n                        </label>\n                        <input\n                          type=\"number\"\n                          min=\"1950\"\n                          max={new Date().getFullYear()}\n                          value={\n                            sectionData.admissionYear ||\n                            profile.admissionYear ||\n                            ''\n                          }\n                          onChange={(e) => {\n                            setSectionData((prev) => ({\n                              ...prev,\n                              admissionYear: parseInt(e.target.value) || null,\n                            }))\n                          }}\n                          placeholder=\"e.g., 2010\"\n                          className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                        />\n                      </div>\n                    ) : (\n                      <div>\n                        <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                          Admission Year\n                        </dt>\n                        <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                          {profile.admissionYear || 'Not Set'}\n                        </dd>\n                      </div>\n                    )}\n                    {/* Passout Year */}\n                    {editingSection === 'personal' ? (\n                      <div className=\"space-y-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                          Passout Year\n                        </label>\n                        <input\n                          type=\"number\"\n                          min=\"1950\"\n                          max={new Date().getFullYear() + 10}\n                          value={\n                            sectionData.passoutYear ||\n                            profile.passoutYear ||\n                            ''\n                          }\n                          onChange={(e) => {\n                            setSectionData((prev) => ({\n                              ...prev,\n                              passoutYear: parseInt(e.target.value) || null,\n                            }))\n                          }}\n                          placeholder=\"e.g., 2016\"\n                          className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                        />\n                      </div>\n                    ) : (\n                      <div>\n                        <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                          Passout Year\n                        </dt>\n                        <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                          {profile.passoutYear || 'Not Set'}\n                        </dd>\n                      </div>\n                    )}\n                    {/* Date of Birth */}\n                    {editingSection === 'personal' ? (\n                      <div className=\"space-y-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                          Date of Birth\n                        </label>\n                        <input\n                          type=\"date\"\n                          value={\n                            sectionData.dateOfBirth ||\n                            profile.dateOfBirth?.split('T')[0] ||\n                            ''\n                          }\n                          onChange={(e) => {\n                            setSectionData((prev) => ({\n                              ...prev,\n                              dateOfBirth: e.target.value,\n                            }))\n                          }}\n                          className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                        />\n                      </div>\n                    ) : (\n                      <div>\n                        <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                          Date of Birth\n                        </dt>\n                        <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                          {profile.dateOfBirth?.split('T')[0] || 'Not Set'}\n                        </dd>\n                      </div>\n                    )}\n\n                    {/* Employment Status */}\n                    {editingSection === 'personal' ? (\n                      <div className=\"space-y-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                          Employment Status\n                        </label>\n                        <select\n                          value={\n                            sectionData.employmentStatus ||\n                            profile.employmentStatus ||\n                            ''\n                          }\n                          onChange={(e) => {\n                            setSectionData((prev) => ({\n                              ...prev,\n                              employmentStatus: e.target.value,\n                            }))\n                          }}\n                          className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                        >\n                          <option value=\"WORKING\">Working</option>\n                          <option value=\"STUDYING\">Studying</option>\n                          <option value=\"OPEN_TO_WORK\">Open to Work</option>\n                          <option value=\"ENTREPRENEUR\">Entrepreneur</option>\n                          <option value=\"RETIRED\">Retired</option>\n                        </select>\n                      </div>\n                    ) : (\n                      <div>\n                        <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                          Employment Status\n                        </dt>\n                        <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                          {profile.employmentStatus?.replace('_', ' ') ||\n                            'Not Set'}\n                        </dd>\n                      </div>\n                    )}\n\n                    {/* Blood Group */}\n                    {editingSection === 'personal' ? (\n                      <div className=\"space-y-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                          Blood Group\n                        </label>\n                        <select\n                          value={\n                            sectionData.bloodGroup ||\n                            profile.bloodGroup ||\n                            ''\n                          }\n                          onChange={(e) => {\n                            setSectionData((prev) => ({\n                              ...prev,\n                              bloodGroup: e.target.value,\n                            }))\n                          }}\n                          className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                        >\n                          <option value=\"\">Select Blood Group</option>\n                          <option value=\"A_POSITIVE\">A+</option>\n                          <option value=\"A_NEGATIVE\">A-</option>\n                          <option value=\"B_POSITIVE\">B+</option>\n                          <option value=\"B_NEGATIVE\">B-</option>\n                          <option value=\"AB_POSITIVE\">AB+</option>\n                          <option value=\"AB_NEGATIVE\">AB-</option>\n                          <option value=\"O_POSITIVE\">O+</option>\n                          <option value=\"O_NEGATIVE\">O-</option>\n                        </select>\n                      </div>\n                    ) : (\n                      <div>\n                        <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                          Blood Group\n                        </dt>\n                        <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                          {profile.bloodGroup ? (\n                            profile.bloodGroup\n                              .replace('_POSITIVE', '+')\n                              .replace('_NEGATIVE', '-')\n                              .replace('_', '')\n                          ) : 'Not Set'}\n                        </dd>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </SectionCard>\n\n              {/* Basic Details Section - Non-editable for verified information */}\n              <SectionCard\n                title=\"Basic Details\"\n                sectionKey=\"basic\"\n                canEdit={false}\n                editingSection={editingSection}\n                onEditSection={handleEditSection}\n                onSaveSection={handleSaveSection}\n                onCancelEdit={handleCancelEdit}\n              >\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <SimpleFieldDisplay\n                    label=\"Full Name\"\n                    value={profile.fullName}\n                  />\n                  <SimpleFieldDisplay label=\"Email\" value={profile.email} />\n                  <SimpleFieldDisplay label=\"Batch\" value={profile.batch} />\n                </div>\n                <div className=\"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg\">\n                  <div className=\"flex items-center\">\n                    <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2\" />\n                    <p className=\"text-sm text-yellow-700 dark:text-yellow-300\">\n                      These are verified details and cannot be changed. Contact\n                      admin if corrections are needed.\n                    </p>\n                  </div>\n                </div>\n              </SectionCard>\n            </div>\n\n            {/* Right Column */}\n            <div className=\"space-y-4 sm:space-y-6 md:space-y-8\">\n              {/* Contact Information Section - Editable */}\n              <SectionCard\n                title=\"Contact Information\"\n                sectionKey=\"contact\"\n                canEdit={true}\n                editingSection={editingSection}\n                onEditSection={handleEditSection}\n                onSaveSection={handleSaveSection}\n                onCancelEdit={handleCancelEdit}\n              >\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {/* WhatsApp Number */}\n                  {editingSection === 'contact' ? (\n                    <div className=\"space-y-1\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        WhatsApp Number\n                      </label>\n                      <input\n                        type=\"tel\"\n                        value={sectionData.whatsappNumber || profile.whatsappNumber || ''}\n                        onChange={(e) => {\n                          const value = e.target.value.replace(/\\D/g, '').slice(0, 10) // Only digits, max 10\n                          setSectionData((prev) => ({\n                            ...prev,\n                            whatsappNumber: value,\n                          }))\n                        }}\n                        maxLength={10}\n                        pattern=\"[0-9]{10}\"\n                        placeholder=\"Enter WhatsApp number\"\n                        className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400\"\n                      />\n                    </div>\n                  ) : (\n                    <div>\n                      <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                        WhatsApp Number\n                      </dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                        {profile.whatsappNumber || 'Not Set'}\n                      </dd>\n                    </div>\n                  )}\n\n                  {/* Alternate Number */}\n                  {editingSection === 'contact' ? (\n                    <div className=\"space-y-1\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        Alternate Number\n                      </label>\n                      <input\n                        type=\"tel\"\n                        value={sectionData.alternateNumber || profile.alternateNumber || ''}\n                        onChange={(e) => {\n                          const value = e.target.value.replace(/\\D/g, '').slice(0, 10) // Only digits, max 10\n                          setSectionData((prev) => ({\n                            ...prev,\n                            alternateNumber: value,\n                          }))\n                        }}\n                        maxLength={10}\n                        pattern=\"[0-9]{10}\"\n                        placeholder=\"Enter alternate number\"\n                        className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400\"\n                      />\n                    </div>\n                  ) : (\n                    <div>\n                      <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide\">\n                        Alternate Number\n                      </dt>\n                      <dd className=\"mt-1 text-sm text-gray-900 dark:text-white font-medium\">\n                        {profile.alternateNumber || 'Not Set'}\n                      </dd>\n                    </div>\n                  )}\n                </div>\n              </SectionCard>\n\n              {/* Social Links Section */}\n              <SectionCard \n                title=\"Social Links\" \n                sectionKey=\"social\"\n                editingSection={editingSection}\n                onEditSection={handleEditSection}\n                onSaveSection={handleSaveSection}\n                onCancelEdit={handleCancelEdit}\n              >\n                <div className=\"space-y-4\">\n                  <FieldDisplay\n                    label=\"LinkedIn URL\"\n                    value={profile.linkedinUrl}\n                    isEditing={editingSection === 'social'}\n                    fieldKey=\"linkedinUrl\"\n                    placeholder=\"https://linkedin.com/in/username\"\n                    sectionData={sectionData}\n                    onFieldChange={handleSectionFieldChange}\n                  />\n                  <FieldDisplay\n                    label=\"Instagram URL\"\n                    value={profile.instagramUrl}\n                    isEditing={editingSection === 'social'}\n                    fieldKey=\"instagramUrl\"\n                    placeholder=\"https://instagram.com/username\"\n                    sectionData={sectionData}\n                    onFieldChange={handleSectionFieldChange}\n                  />\n                  <FieldDisplay\n                    label=\"Facebook URL\"\n                    value={profile.facebookUrl}\n                    isEditing={editingSection === 'social'}\n                    fieldKey=\"facebookUrl\"\n                    placeholder=\"https://facebook.com/username\"\n                    sectionData={sectionData}\n                    onFieldChange={handleSectionFieldChange}\n                  />\n                  <FieldDisplay\n                    label=\"Twitter URL\"\n                    value={profile.twitterUrl}\n                    isEditing={editingSection === 'social'}\n                    fieldKey=\"twitterUrl\"\n                    placeholder=\"https://twitter.com/username\"\n                    sectionData={sectionData}\n                    onFieldChange={handleSectionFieldChange}\n                  />\n                  <FieldDisplay\n                    label=\"Portfolio URL\"\n                    value={profile.portfolioUrl}\n                    isEditing={editingSection === 'social'}\n                    fieldKey=\"portfolioUrl\"\n                    placeholder=\"https://yourportfolio.com\"\n                    sectionData={sectionData}\n                    onFieldChange={handleSectionFieldChange}\n                  />\n                </div>\n              </SectionCard>\n\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'address' && (\n          <div className=\"space-y-8\">\n            {/* Address Form */}\n            <SectionCard \n              title=\"Address Information\" \n              sectionKey=\"address\"\n              editingSection={editingSection}\n              onEditSection={handleEditSection}\n              onSaveSection={handleSaveSection}\n              onCancelEdit={handleCancelEdit}\n            >\n              <AddressForm \n                addressData={addressData}\n                editingSection={editingSection}\n                sectionData={sectionData}\n                setSectionData={setSectionData}\n              />\n            </SectionCard>\n          </div>\n        )}\n\n        {activeTab === 'career' && (\n          <div className=\"space-y-8\">\n            {/* Education Section */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <EducationSection \n                educationData={educationData}\n              />\n            </div>\n            \n            {/* Work Experience Section */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <WorkExperienceSection \n                workData={workData}\n              />\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'social' && (\n          <div className=\"space-y-8\">\n            {/* Blood Donation Section */}\n            <SectionCard \n              title=\"Blood Donation Record\" \n              sectionKey=\"bloodDonation\"\n              editingSection={editingSection}\n              onEditSection={handleEditSection}\n              onSaveSection={handleSaveSection}\n              onCancelEdit={handleCancelEdit}\n            >\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <FieldDisplay\n                  label=\"Blood Donor\"\n                  value={profile.isBloodDonor}\n                  type=\"checkbox\"\n                  isEditing={editingSection === 'bloodDonation'}\n                  fieldKey=\"isBloodDonor\"\n                  sectionData={sectionData}\n                  onFieldChange={handleSectionFieldChange}\n                />\n                <FieldDisplay\n                  label=\"Last Blood Donation Date\"\n                  value={profile.lastBloodDonationDate ? new Date(profile.lastBloodDonationDate).toLocaleDateString() : null}\n                  type=\"date\"\n                  isEditing={editingSection === 'bloodDonation'}\n                  fieldKey=\"lastBloodDonationDate\"\n                  sectionData={sectionData}\n                  onFieldChange={handleSectionFieldChange}\n                />\n                <FieldDisplay\n                  label=\"Total Blood Donations\"\n                  value={profile.totalBloodDonations}\n                  type=\"text\"\n                  isEditing={editingSection === 'bloodDonation'}\n                  fieldKey=\"totalBloodDonations\"\n                  placeholder=\"0\"\n                  sectionData={sectionData}\n                  onFieldChange={handleSectionFieldChange}\n                />\n              </div>\n            </SectionCard>\n          </div>\n        )}\n\n        {activeTab === 'documents' && (\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                Documents\n              </h3>\n            </div>\n            <div className=\"p-6\">\n              <p className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\n                No documents uploaded yet\n              </p>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'assets' && (\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                Assets\n              </h3>\n            </div>\n            <div className=\"p-6\">\n              <p className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\n                No assets assigned yet\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Mobile Bottom Navigation Spacer */}\n      <div className=\"h-16 md:hidden\"></div>\n\n      {/* Alumni Identity Card Modal */}\n      <AlumniIdentityCard\n        isOpen={showIdentityCard}\n        onClose={() => setShowIdentityCard(false)}\n        profile={profile}\n      />\n    </div>\n  )\n}\n\nexport default Profile\n"],"file":"assets/Profile-fOxEVfbL.js"}