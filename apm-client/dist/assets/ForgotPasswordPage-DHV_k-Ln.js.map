{"version":3,"file":"ForgotPasswordPage-DHV_k-Ln.js","sources":["../../src/pages/auth/ForgotPasswordPage.tsx"],"sourcesContent":["// pages/auth/ForgotPasswordPage.tsx\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { \n  EnvelopeIcon, \n  ArrowLeftIcon,\n  CheckCircleIcon\n} from '@heroicons/react/24/outline';\nimport { Link } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport { useAuth } from '@/hooks/useAuth';\nimport OrganizationLogo from '@/components/common/UI/OrganizationLogo';\n\n// Validation schema\nconst forgotPasswordSchema = yup.object().shape({\n  email: yup\n    .string()\n    .required('Email is required')\n    .email('Please enter a valid email address')\n    .lowercase(),\n});\n\ninterface ForgotPasswordFormData {\n  email: string;\n}\n\nconst ForgotPasswordPage = () => {\n  const { forgotPassword } = useAuth();\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [submittedEmail, setSubmittedEmail] = useState('');\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n    watch\n  } = useForm<ForgotPasswordFormData>({\n    resolver: yupResolver(forgotPasswordSchema),\n    mode: 'onChange'\n  });\n\n  const watchedEmail = watch('email');\n\n  const onSubmit = async (data: ForgotPasswordFormData) => {\n    try {\n      const result = await forgotPassword(data.email);\n      \n      if (result.success) {\n        setSubmittedEmail(data.email);\n        setIsSubmitted(true);\n      }\n    } catch (error) {\n      console.error('Forgot password error:', error);\n    }\n  };\n\n  const handleResendEmail = async () => {\n    if (!submittedEmail) return;\n    \n    try {\n      const result = await forgotPassword(submittedEmail);\n      if (result.success) {\n        toast.success('Password reset email sent again!');\n      }\n    } catch (error) {\n      console.error('Resend email error:', error);\n    }\n  };\n\n  if (isSubmitted) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-md mx-auto\">\n          {/* Header */}\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"text-center mb-8\"\n          >\n            <div className=\"mx-auto h-16 w-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-4\">\n              <CheckCircleIcon className=\"h-8 w-8 text-white\" />\n            </div>\n            <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n              Check Your Email\n            </h2>\n            <p className=\"mt-2 text-gray-600 dark:text-gray-300\">\n              We've sent you a password reset link\n            </p>\n          </motion.div>\n\n          {/* Success Message */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"glass-card p-8 text-center\"\n          >\n            <div className=\"mb-6\">\n              <CheckCircleIcon className=\"h-16 w-16 text-green-500 mx-auto mb-4\" />\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n                Email Sent Successfully!\n              </h3>\n              <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\n                We've sent a password reset link to:\n              </p>\n              <p className=\"font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-4 py-2 rounded-lg\">\n                {submittedEmail}\n              </p>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"text-sm text-gray-600 dark:text-gray-400 space-y-2\">\n                <p>• Click the link in your email to reset your password</p>\n                <p>• The link will expire in 1 hour for security</p>\n                <p>• Check your spam folder if you don't see it</p>\n              </div>\n\n              <button\n                onClick={handleResendEmail}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-600 transition-colors\"\n              >\n                Resend Email\n              </button>\n\n              <Link\n                to=\"/auth/login\"\n                className=\"block w-full text-center px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300\"\n              >\n                Back to Login\n              </Link>\n            </div>\n          </motion.div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md mx-auto\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"text-center mb-8\"\n        >\n          <div className=\"flex justify-center mb-4\">\n            <OrganizationLogo size=\"2xl\" className=\"flex-shrink-0\" />\n          </div>\n          <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n            Forgot Password?\n          </h2>\n          <p className=\"mt-2 text-gray-600 dark:text-gray-300\">\n            No worries! Enter your email and we'll send you a reset link.\n          </p>\n        </motion.div>\n\n        {/* Form */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"glass-card p-8\"\n        >\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            {/* Email Input */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Email Address\n              </label>\n              <div className=\"relative\">\n                <input\n                  {...register('email')}\n                  type=\"email\"\n                  placeholder=\"Enter your email address\"\n                  className={`form-input pl-12 ${errors.email ? 'border-red-500' : ''}`}\n                  disabled={isSubmitting}\n                />\n                <EnvelopeIcon className=\"absolute left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              </div>\n              {errors.email && (\n                <p className=\"mt-1 text-sm text-red-500\">{errors.email.message}</p>\n              )}\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={isSubmitting || !watchedEmail}\n              className=\"w-full btn-guild disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSubmitting ? (\n                <div className=\"flex items-center justify-center\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\n                  Sending Reset Link...\n                </div>\n              ) : (\n                'Send Reset Link'\n              )}\n            </button>\n\n            {/* Back to Login */}\n            <div className=\"text-center\">\n              <Link\n                to=\"/auth/login\"\n                className=\"inline-flex items-center text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors\"\n              >\n                <ArrowLeftIcon className=\"h-4 w-4 mr-1\" />\n                Back to Login\n              </Link>\n            </div>\n          </form>\n        </motion.div>\n\n        {/* Additional Help */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.3 }}\n          className=\"mt-6 text-center\"\n        >\n          <div className=\"glass-card p-4\">\n            <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Need Help?\n            </h4>\n            <div className=\"text-xs text-gray-600 dark:text-gray-400 space-y-1\">\n              <p>• Make sure the email you enter is associated with your GUILD account</p>\n              <p>• Reset links expire after 1 hour for security</p>\n              <p>• Contact support if you continue having issues</p>\n            </div>\n            <button className=\"mt-3 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium transition-colors\">\n              Contact Support\n            </button>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPasswordPage;"],"names":["forgotPasswordSchema","yup.object","yup.string","ForgotPasswordPage","forgotPassword","useAuth","isSubmitted","setIsSubmitted","useState","submittedEmail","setSubmittedEmail","register","handleSubmit","errors","isSubmitting","watch","useForm","yupResolver","watchedEmail","onSubmit","data","error","handleResendEmail","toast","jsxs","motion","jsx","CheckCircleIcon","Link","OrganizationLogo","EnvelopeIcon","ArrowLeftIcon"],"mappings":"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"}