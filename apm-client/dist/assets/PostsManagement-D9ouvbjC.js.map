{"version":3,"file":"PostsManagement-D9ouvbjC.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/ArchiveBoxXMarkIcon.js","../../node_modules/@heroicons/react/24/outline/esm/TagIcon.js","../../src/components/admin/PostDetailModal.tsx","../../src/pages/admin/PostsManagement.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction ArchiveBoxXMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArchiveBoxXMarkIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TagIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 6h.008v.008H6V6Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TagIcon);\nexport default ForwardRef;","import React, { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  XMarkIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ArchiveBoxIcon,\n  TrashIcon,\n  CalendarIcon,\n  UserIcon,\n  TagIcon,\n} from '@heroicons/react/24/outline';\nimport { formatDistanceToNow } from 'date-fns';\nimport { Post } from '../../types/post';\nimport { Button } from '../common/UI/Button';\nimport PostImageDisplay from '../user/PostImageDisplay';\n\ninterface PostDetailModalProps {\n  post: Post | null;\n  isOpen: boolean;\n  onClose: () => void;\n  onApprove?: (postId: string, approved: boolean) => void;\n  onArchive?: (postId: string) => void;\n  onDelete?: (postId: string) => void;\n}\n\nconst PostDetailModal: React.FC<PostDetailModalProps> = ({\n  post,\n  isOpen,\n  onClose,\n  onApprove,\n  onArchive,\n  onDelete,\n}) => {\n\n  const getStatusBadge = (post: Post) => {\n    if (post.isArchived) {\n      return (\n        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300\">\n          <ArchiveBoxIcon className=\"h-3 w-3 mr-1\" />\n          Archived\n        </span>\n      );\n    }\n    \n    if (!post.isPublished) {\n      return (\n        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300\">\n          <CalendarIcon className=\"h-3 w-3 mr-1\" />\n          Pending Review\n        </span>\n      );\n    }\n    \n    return (\n      <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300\">\n        <CheckCircleIcon className=\"h-3 w-3 mr-1\" />\n        Published\n      </span>\n    );\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && post && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          {/* Backdrop */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black bg-opacity-50\"\n            onClick={onClose}\n          />\n\n          {/* Modal */}\n          <div className=\"flex min-h-full items-center justify-center p-4\">\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.95 }}\n              className=\"relative w-full max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-xl\"\n            >\n              {/* Header */}\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700\">\n                <div className=\"flex items-center space-x-3\">\n                  <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                    Post Details\n                  </h2>\n                  {getStatusBadge(post)}\n                </div>\n                <button\n                  onClick={onClose}\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                >\n                  <XMarkIcon className=\"h-6 w-6\" />\n                </button>\n              </div>\n\n              {/* Content */}\n              <div className=\"p-6 max-h-[70vh] overflow-y-auto\">\n                <div className=\"space-y-6\">\n                  {/* Post Header */}\n                  <div>\n                    <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n                      {post.title}\n                    </h3>\n                    <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-gray-400\">\n                      <div className=\"flex items-center\">\n                        <UserIcon className=\"h-4 w-4 mr-1\" />\n                        {post.author.fullName}\n                        {post.author.batch && ` (Batch ${post.author.batch})`}\n                      </div>\n                      <div className=\"flex items-center\">\n                        <CalendarIcon className=\"h-4 w-4 mr-1\" />\n                        {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true })}\n                      </div>\n                      <div className=\"flex items-center\">\n                        <TagIcon className=\"h-4 w-4 mr-1\" />\n                        {post.category}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Post Images */}\n                  {(post.heroImage || (post.images && post.images.length > 0)) && (\n                    <PostImageDisplay\n                      postId={post.id}\n                      heroImage={post.heroImage}\n                      images={post.images || []}\n                      title={post.title}\n                    />\n                  )}\n\n                  {/* Post Body */}\n                  <div className=\"prose prose-gray dark:prose-invert max-w-none\">\n                    <div className=\"whitespace-pre-wrap text-gray-700 dark:text-gray-300\">\n                      {post.body}\n                    </div>\n                  </div>\n\n                  {/* Tags */}\n                  {post.tags && post.tags.length > 0 && (\n                    <div>\n                      <h4 className=\"text-lg font-medium text-gray-900 dark:text-white mb-3\">\n                        Tagged Users\n                      </h4>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {post.tags.map((tag, index) => (\n                          <span\n                            key={index}\n                            className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300\"\n                          >\n                            @{tag}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Stats */}\n                  <div className=\"flex items-center space-x-6 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <div className=\"flex items-center text-gray-500 dark:text-gray-400\">\n                      <span className=\"mr-2\">üëç</span>\n                      <span>{post.totalReactions || post.likeCount || 0} reactions</span>\n                    </div>\n                    <div className=\"flex items-center text-gray-500 dark:text-gray-400\">\n                      <span className=\"mr-2\">üí¨</span>\n                      <span>{post._count?.comments || 0} comments</span>\n                    </div>\n                    {post.allowComments && (\n                      <span className=\"text-green-600 dark:text-green-400 text-sm\">\n                        Comments enabled\n                      </span>\n                    )}\n                    {post.allowLikes && (\n                      <span className=\"text-green-600 dark:text-green-400 text-sm\">\n                        Reactions enabled\n                      </span>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Footer Actions */}\n              <div className=\"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700\">\n                <Button\n                  variant=\"outline\"\n                  onClick={onClose}\n                >\n                  Close\n                </Button>\n\n                {!post.isPublished && onApprove && (\n                  <>\n                    <Button\n                      variant=\"danger\"\n                      onClick={() => onApprove(post.id, false)}\n                      className=\"flex items-center space-x-2\"\n                    >\n                      <XCircleIcon className=\"h-4 w-4\" />\n                      <span>Reject</span>\n                    </Button>\n                    <Button\n                      variant=\"primary\"\n                      onClick={() => onApprove(post.id, true)}\n                      className=\"flex items-center space-x-2\"\n                    >\n                      <CheckCircleIcon className=\"h-4 w-4\" />\n                      <span>Approve</span>\n                    </Button>\n                  </>\n                )}\n\n                {!post.isArchived && post.isPublished && onArchive && (\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => onArchive(post.id)}\n                    className=\"flex items-center space-x-2\"\n                  >\n                    <ArchiveBoxIcon className=\"h-4 w-4\" />\n                    <span>Archive</span>\n                  </Button>\n                )}\n\n                {onDelete && (\n                  <Button\n                    variant=\"danger\"\n                    onClick={() => onDelete(post.id)}\n                    className=\"flex items-center space-x-2\"\n                  >\n                    <TrashIcon className=\"h-4 w-4\" />\n                    <span>Delete</span>\n                  </Button>\n                )}\n              </div>\n            </motion.div>\n          </div>\n        </div>\n      )}\n\n    </AnimatePresence>\n  );\n};\n\nexport default PostDetailModal;","import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  PlusIcon,\n  EyeIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  PencilIcon,\n  TrashIcon,\n  ArchiveBoxIcon,\n  ArchiveBoxXMarkIcon,\n  ClockIcon,\n  MagnifyingGlassIcon,\n} from '@heroicons/react/24/outline';\nimport { useSelector } from 'react-redux';\nimport type { RootState } from '../../store';\nimport {\n  useGetPostsQuery,\n  useGetPendingPostsQuery,\n  useApprovePostMutation,\n  useDeletePostMutation,\n  useArchivePostMutation,\n} from '../../store/api/postApi';\nimport { Post, PostFilters } from '../../types/post';\nimport PostCard from '../../components/user/PostCard';\nimport CreatePostModal from '../../components/user/CreatePostModal';\nimport PostDetailModal from '../../components/admin/PostDetailModal';\nimport LoadingSpinner from '../../components/common/UI/LoadingSpinner';\nimport { Button } from '../../components/common/UI/Button';\nimport toast from 'react-hot-toast';\nimport { formatDistanceToNow } from 'date-fns';\nimport { getApiUrl } from '@/utils/helpers';\n\nconst PostsManagement: React.FC = () => {\n  const { user } = useSelector((state: RootState) => state.auth);\n  const [activeTab, setActiveTab] = useState<'pending' | 'published' | 'archived'>('pending');\n  const [filters, setFilters] = useState<PostFilters>({\n    page: 1,\n    limit: 20,\n    sortBy: 'createdAt',\n    sortOrder: 'desc',\n  });\n  \n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedPost, setSelectedPost] = useState<Post | null>(null);\n\n  // API hooks\n  const [approvePost] = useApprovePostMutation();\n  const [deletePost] = useDeletePostMutation();\n  const [archivePost] = useArchivePostMutation();\n\n  // Queries based on active tab with polling\n  const postsQuery = useGetPostsQuery({\n    ...filters,\n    isPublished: activeTab === 'published' ? true : undefined,\n    isArchived: activeTab === 'archived' ? true : \n                activeTab === 'published' ? false : undefined,\n    search: searchQuery || undefined,\n  }, {\n    pollingInterval: 30000, // Poll every 30 seconds\n    refetchOnFocus: true,\n    refetchOnReconnect: true,\n  });\n\n  const pendingPostsQuery = useGetPendingPostsQuery({\n    page: filters.page,\n    limit: filters.limit,\n  }, {\n    pollingInterval: 15000, // Poll pending posts more frequently (15 seconds)\n    refetchOnFocus: true,\n    refetchOnReconnect: true,\n  });\n\n  // Select appropriate query based on tab\n  const currentQuery = activeTab === 'pending' ? pendingPostsQuery : postsQuery;\n  const posts = currentQuery.data?.posts || [];\n\n  // Handle post approval\n  const handleApprove = async (postId: string, approved: boolean) => {\n    try {\n      await approvePost({ postId, approved }).unwrap();\n      toast.success(approved ? 'Post approved successfully' : 'Post rejected successfully');\n    } catch (error: any) {\n      console.error('Failed to update post approval:', error);\n      toast.error(error?.data?.message || 'Failed to update post approval');\n    }\n  };\n\n  // Handle post deletion\n  const handleDelete = async (postId: string) => {\n    if (!window.confirm('Are you sure you want to delete this post? This action cannot be undone.')) {\n      return;\n    }\n\n    try {\n      await deletePost(postId).unwrap();\n      toast.success('Post deleted successfully');\n    } catch (error: any) {\n      console.error('Failed to delete post:', error);\n      toast.error(error?.data?.message || 'Failed to delete post');\n    }\n  };\n\n  // Handle post archiving/unarchiving\n  const handleArchive = async (postId: string, isArchived: boolean = true) => {\n    try {\n      await archivePost({ postId, isArchived }).unwrap();\n      toast.success(`Post ${isArchived ? 'archived' : 'unarchived'} successfully`);\n    } catch (error: any) {\n      console.error(`Failed to ${isArchived ? 'archive' : 'unarchive'} post:`, error);\n      toast.error(error?.data?.message || `Failed to ${isArchived ? 'archive' : 'unarchive'} post`);\n    }\n  };\n\n  // Get status badge (based on backend boolean fields)\n  const getStatusBadge = (post: Post) => {\n    if (post.isArchived) {\n      return (\n        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          <ArchiveBoxIcon className=\"h-3 w-3 mr-1\" />\n          Archived\n        </span>\n      );\n    }\n    \n    if (!post.isPublished) {\n      return (\n        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          <ClockIcon className=\"h-3 w-3 mr-1\" />\n          Pending Review\n        </span>\n      );\n    }\n    \n    return (\n      <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        <CheckCircleIcon className=\"h-3 w-3 mr-1\" />\n        Published\n      </span>\n    );\n  };\n\n  // Get published and archived counts from query data\n  const publishedQuery = useGetPostsQuery({\n    page: 1,\n    limit: 1,\n    isPublished: true,\n    isArchived: false,\n  });\n\n  const archivedQuery = useGetPostsQuery({\n    page: 1,\n    limit: 1,\n    isArchived: true,\n  });\n\n  const tabs = [\n    { key: 'pending' as const, label: 'Pending Approval', count: pendingPostsQuery.data?.pagination?.total || 0 },\n    { key: 'published' as const, label: 'Published', count: publishedQuery.data?.pagination?.total || 0 },\n    { key: 'archived' as const, label: 'Archived', count: archivedQuery.data?.pagination?.total || 0 },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Posts Management</h1>\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Manage and moderate community posts</p>\n        </div>\n\n        <Button\n          onClick={() => setShowCreateModal(true)}\n          className=\"flex items-center space-x-2\"\n        >\n          <PlusIcon className=\"h-5 w-5\" />\n          <span>Create Post</span>\n        </Button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200 dark:border-gray-700\">\n        <nav className=\"flex space-x-8\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.key}\n              onClick={() => setActiveTab(tab.key)}\n              className={`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${\n                activeTab === tab.key\n                  ? 'border-blue-500 text-blue-600 dark:text-blue-400'\n                  : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600'\n              }`}\n            >\n              <span>{tab.label}</span>\n              <span className={`inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none rounded-full ${\n                activeTab === tab.key ? 'bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300' : 'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300'\n              }`}>\n                {tab.count}\n              </span>\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"flex-1 relative\">\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            placeholder=\"Search posts...\"\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n          <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400 dark:text-gray-500 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n        </div>\n\n        <select\n          value={`${filters.sortBy}:${filters.sortOrder}`}\n          onChange={(e) => {\n            const [sortBy, sortOrder] = e.target.value.split(':') as [string, 'asc' | 'desc'];\n            setFilters(prev => ({ ...prev, sortBy, sortOrder }));\n          }}\n          className=\"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        >\n          <option value=\"createdAt:desc\">Newest First</option>\n          <option value=\"createdAt:asc\">Oldest First</option>\n          <option value=\"title:asc\">Title A-Z</option>\n          <option value=\"title:desc\">Title Z-A</option>\n          <option value=\"totalReactions:desc\">Most Reacted</option>\n          <option value=\"viewCount:desc\">Most Viewed</option>\n        </select>\n      </div>\n\n      {/* Posts Content */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n        {currentQuery.isLoading ? (\n          <div className=\"flex justify-center items-center py-12\">\n            <LoadingSpinner size=\"lg\" />\n          </div>\n        ) : currentQuery.error ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-red-600 dark:text-red-400 mb-4\">Failed to load posts</div>\n            <Button onClick={() => currentQuery.refetch()}>Retry</Button>\n          </div>\n        ) : posts.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-500 dark:text-gray-400 mb-4\">\n              {activeTab === 'pending' ? 'No posts pending approval' : \n               activeTab === 'archived' ? 'No archived posts available' :\n               'No posts found'}\n            </div>\n            {activeTab === 'published' && (\n              <Button onClick={() => setShowCreateModal(true)}>\n                Create your first post\n              </Button>\n            )}\n          </div>\n        ) : (\n          <>\n            {/* Table View for Admin */}\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                      Post\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                      Author\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                      Status\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                      Stats\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                      Date\n                    </th>\n                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                  {posts.map((post) => (\n                    <motion.tr\n                      key={post.id}\n                      initial={{ opacity: 0 }}\n                      animate={{ opacity: 1 }}\n                      className=\"hover:bg-gray-50 dark:hover:bg-gray-700\"\n                    >\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center\">\n                          {post.heroImage && (\n                            <img\n                              src={getApiUrl(`/api/posts/${post.id}/hero-image`)}\n                              alt={post.title}\n                              className=\"h-10 w-10 rounded object-cover mr-3\"\n                            />\n                          )}\n                          <div>\n                            <div className=\"text-sm font-medium text-gray-900 dark:text-white max-w-xs truncate\">\n                              {post.title}\n                            </div>\n                            <div className=\"text-sm text-gray-500 dark:text-gray-400 capitalize\">\n                              {post.category?.toLowerCase()}\n                            </div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"h-8 w-8 rounded-full mr-2 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-xs\">\n                            {post.author.profileImage ? (\n                              <img\n                                src={getApiUrl(`/api/users/profile-picture/${post.author.id}`)}\n                                alt={post.author.fullName}\n                                className=\"h-full w-full object-cover rounded-full\"\n                                onError={(e) => {\n                                  const target = e.target as HTMLImageElement;\n                                  target.style.display = 'none';\n                                  target.parentElement!.innerHTML = post.author.fullName\n                                    .split(' ')\n                                    .map(word => word.charAt(0))\n                                    .join('')\n                                    .slice(0, 2)\n                                    .toUpperCase();\n                                }}\n                              />\n                            ) : (\n                              post.author.fullName\n                                .split(' ')\n                                .map(word => word.charAt(0))\n                                .join('')\n                                .slice(0, 2)\n                                .toUpperCase()\n                            )}\n                          </div>\n                          <div>\n                            <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                              {post.author.fullName}\n                            </div>\n                            {post.author.batch && (\n                              <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                Batch {post.author.batch}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {getStatusBadge(post)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                        <div className=\"flex items-center space-x-4\">\n                          <span className=\"flex items-center space-x-1\">\n                            <span>üëç</span>\n                            <span>{post.totalReactions || post.likeCount || 0}</span>\n                          </span>\n                          <span className=\"flex items-center space-x-1\">\n                            <span>üí¨</span>\n                            <span>{post._count?.comments || 0}</span>\n                          </span>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\n                        {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true })}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex items-center justify-end space-x-1\">\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => setSelectedPost(post)}\n                            className=\"flex items-center space-x-1 px-3 py-2\"\n                          >\n                            <EyeIcon className=\"h-4 w-4\" />\n                            <span className=\"hidden sm:inline whitespace-nowrap\">View</span>\n                          </Button>\n                          \n                          {!post.isPublished && (\n                            <>\n                              <Button\n                                size=\"sm\"\n                                variant=\"primary\"\n                                onClick={() => handleApprove(post.id, true)}\n                                className=\"flex items-center space-x-1 px-3 py-2\"\n                              >\n                                <CheckCircleIcon className=\"h-4 w-4\" />\n                                <span className=\"hidden md:inline whitespace-nowrap\">Approve</span>\n                              </Button>\n                              <Button\n                                size=\"sm\"\n                                variant=\"danger\"\n                                onClick={() => handleApprove(post.id, false)}\n                                className=\"flex items-center space-x-1 px-3 py-2\"\n                              >\n                                <XCircleIcon className=\"h-4 w-4\" />\n                                <span className=\"hidden md:inline whitespace-nowrap\">Reject</span>\n                              </Button>\n                            </>\n                          )}\n                          \n                          {!post.isArchived && post.isPublished && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => handleArchive(post.id, true)}\n                              className=\"flex items-center space-x-1 px-3 py-2\"\n                            >\n                              <ArchiveBoxIcon className=\"h-4 w-4\" />\n                              <span className=\"hidden lg:inline whitespace-nowrap\">Archive</span>\n                            </Button>\n                          )}\n                          \n                          {post.isArchived && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"primary\"\n                              onClick={() => handleArchive(post.id, false)}\n                              className=\"flex items-center space-x-1 px-3 py-2\"\n                            >\n                              <ArchiveBoxXMarkIcon className=\"h-4 w-4\" />\n                              <span className=\"hidden lg:inline whitespace-nowrap\">Unarchive</span>\n                            </Button>\n                          )}\n                          \n                          <Button\n                            size=\"sm\"\n                            variant=\"danger\"\n                            onClick={() => handleDelete(post.id)}\n                            className=\"flex items-center space-x-1 px-3 py-2\"\n                          >\n                            <TrashIcon className=\"h-4 w-4\" />\n                            <span className=\"hidden lg:inline whitespace-nowrap\">Delete</span>\n                          </Button>\n                        </div>\n                      </td>\n                    </motion.tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Pagination */}\n            {currentQuery.data?.pagination && (\n              <div className=\"px-6 py-4 border-t border-gray-200 dark:border-gray-700\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-sm text-gray-500 dark:text-gray-400\">\n                    Showing {((currentQuery.data.pagination.page - 1) * currentQuery.data.pagination.limit) + 1} to{' '}\n                    {Math.min(\n                      currentQuery.data.pagination.page * currentQuery.data.pagination.limit,\n                      currentQuery.data.pagination.total\n                    )}{' '}\n                    of {currentQuery.data.pagination.total} results\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      disabled={!currentQuery.data.pagination.hasPrev}\n                      onClick={() => setFilters(prev => ({ ...prev, page: prev.page! - 1 }))}\n                    >\n                      Previous\n                    </Button>\n                    <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      Page {currentQuery.data.pagination.page} of {currentQuery.data.pagination.pages}\n                    </span>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      disabled={!currentQuery.data.pagination.hasNext}\n                      onClick={() => setFilters(prev => ({ ...prev, page: prev.page! + 1 }))}\n                    >\n                      Next\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* Create Post Modal */}\n      <CreatePostModal\n        isOpen={showCreateModal}\n        onClose={() => setShowCreateModal(false)}\n      />\n\n      {/* Post Detail Modal */}\n      <PostDetailModal\n        post={selectedPost}\n        isOpen={!!selectedPost}\n        onClose={() => setSelectedPost(null)}\n        onApprove={handleApprove}\n        onArchive={(postId) => handleArchive(postId, !selectedPost?.isArchived)}\n        onDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default PostsManagement;"],"names":["ArchiveBoxXMarkIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","TagIcon","PostDetailModal","post","isOpen","onClose","onApprove","onArchive","onDelete","getStatusBadge","jsxs","jsx","ArchiveBoxIcon","CheckCircleIcon","CalendarIcon","AnimatePresence","motion","XMarkIcon","UserIcon","formatDistanceToNow","PostImageDisplay","tag","index","Button","Fragment","XCircleIcon","TrashIcon","PostsManagement","user","useSelector","state","activeTab","setActiveTab","useState","filters","setFilters","showCreateModal","setShowCreateModal","searchQuery","setSearchQuery","selectedPost","setSelectedPost","approvePost","useApprovePostMutation","deletePost","useDeletePostMutation","archivePost","useArchivePostMutation","postsQuery","useGetPostsQuery","pendingPostsQuery","useGetPendingPostsQuery","currentQuery","posts","handleApprove","postId","approved","toast","error","handleDelete","handleArchive","isArchived","ClockIcon","publishedQuery","archivedQuery","tabs","PlusIcon","tab","e","MagnifyingGlassIcon","sortBy","sortOrder","prev","LoadingSpinner","getApiUrl","target","word","EyeIcon","CreatePostModal"],"mappings":"slCACA,SAASA,GAAoB,CAC3B,MAAAC,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,+TACP,CAAG,CAAC,CACJ,CACA,MAAMC,GAA2BC,EAAAA,WAAiBP,EAAmB,ECvBrE,SAASQ,GAAQ,CACf,MAAAP,EACA,QAAAC,EACA,GAAGC,CACL,EAAGC,EAAQ,CACT,OAAoBC,gBAAoB,MAAO,OAAO,OAAO,CAC3D,MAAO,6BACP,KAAM,OACN,QAAS,YACT,YAAa,IACb,OAAQ,eACR,cAAe,OACf,YAAa,OACb,IAAKD,EACL,kBAAmBF,CACvB,EAAKC,CAAK,EAAGF,EAAqBI,EAAAA,cAAoB,QAAS,CAC3D,GAAIH,CACR,EAAKD,CAAK,EAAI,KAAmBI,EAAAA,cAAoB,OAAQ,CACzD,cAAe,QACf,eAAgB,QAChB,EAAG,+MACP,CAAG,EAAgBA,EAAAA,cAAoB,OAAQ,CAC3C,cAAe,QACf,eAAgB,QAChB,EAAG,qBACP,CAAG,CAAC,CACJ,CACA,MAAMC,GAA2BC,EAAAA,WAAiBC,EAAO,ECFnDC,GAAkD,CAAC,CACvD,KAAAC,EACA,OAAAC,EACA,QAAAC,EACA,UAAAC,EACA,UAAAC,EACA,SAAAC,CACF,IAAM,CAEJ,MAAMC,EAAkBN,GAClBA,EAAK,WAELO,EAAAA,KAAC,OAAA,CAAK,UAAU,gIACd,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAe,UAAU,cAAA,CAAe,EAAE,UAAA,EAE7C,EAICT,EAAK,YAURO,EAAAA,KAAC,OAAA,CAAK,UAAU,wIACd,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAgB,UAAU,cAAA,CAAe,EAAE,WAAA,EAE9C,EAXEH,EAAAA,KAAC,OAAA,CAAK,UAAU,4IACd,SAAA,CAAAC,EAAAA,IAACG,EAAA,CAAa,UAAU,cAAA,CAAe,EAAE,gBAAA,EAE3C,EAYN,aACGC,EAAA,CACE,SAAAX,GAAUD,GACTO,EAAAA,KAAC,MAAA,CAAI,UAAU,qCAEb,SAAA,CAAAC,EAAAA,IAACK,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,KAAM,CAAE,QAAS,CAAA,EACjB,UAAU,uCACV,QAASX,CAAA,CAAA,EAIXM,EAAAA,IAAC,MAAA,CAAI,UAAU,kDACb,SAAAD,EAAAA,KAACM,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,MAAO,GAAA,EAC9B,QAAS,CAAE,QAAS,EAAG,MAAO,CAAA,EAC9B,KAAM,CAAE,QAAS,EAAG,MAAO,GAAA,EAC3B,UAAU,2EAGV,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,sFACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,sDAAsD,SAAA,eAEpE,EACCF,EAAeN,CAAI,CAAA,EACtB,EACAQ,EAAAA,IAAC,SAAA,CACC,QAASN,EACT,UAAU,6DAEV,SAAAM,EAAAA,IAACM,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CAAA,CACjC,EACF,QAGC,MAAA,CAAI,UAAU,mCACb,SAAAP,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wDACX,SAAAR,EAAK,MACR,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,6EACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAACO,EAAA,CAAS,UAAU,cAAA,CAAe,EAClCf,EAAK,OAAO,SACZA,EAAK,OAAO,OAAS,WAAWA,EAAK,OAAO,KAAK,GAAA,EACpD,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAACG,EAAA,CAAa,UAAU,cAAA,CAAe,EACtCK,EAAoB,IAAI,KAAKhB,EAAK,SAAS,EAAG,CAAE,UAAW,EAAA,CAAM,CAAA,EACpE,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAACV,GAAA,CAAQ,UAAU,cAAA,CAAe,EACjCE,EAAK,QAAA,CAAA,CACR,CAAA,CAAA,CACF,CAAA,EACF,GAGEA,EAAK,WAAcA,EAAK,QAAUA,EAAK,OAAO,OAAS,IACvDQ,EAAAA,IAACS,EAAA,CACC,OAAQjB,EAAK,GACb,UAAWA,EAAK,UAChB,OAAQA,EAAK,QAAU,CAAA,EACvB,MAAOA,EAAK,KAAA,CAAA,EAKhBQ,EAAAA,IAAC,MAAA,CAAI,UAAU,gDACb,SAAAA,EAAAA,IAAC,OAAI,UAAU,uDACZ,SAAAR,EAAK,IAAA,CACR,CAAA,CACF,EAGCA,EAAK,MAAQA,EAAK,KAAK,OAAS,UAC9B,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAAC,KAAA,CAAG,UAAU,yDAAyD,SAAA,eAEvE,EACAA,EAAAA,IAAC,OAAI,UAAU,uBACZ,WAAK,KAAK,IAAI,CAACU,EAAKC,IACnBZ,EAAAA,KAAC,OAAA,CAEC,UAAU,oIACX,SAAA,CAAA,IACGW,CAAA,CAAA,EAHGC,CAAA,CAKR,CAAA,CACH,CAAA,EACF,EAIFZ,EAAAA,KAAC,MAAA,CAAI,UAAU,iFACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qDACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,OAAO,SAAA,KAAE,SACxB,OAAA,CAAM,SAAA,CAAAR,EAAK,gBAAkBA,EAAK,WAAa,EAAE,YAAA,CAAA,CAAU,CAAA,EAC9D,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,qDACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,OAAO,SAAA,KAAE,SACxB,OAAA,CAAM,SAAA,CAAAR,EAAK,QAAQ,UAAY,EAAE,WAAA,CAAA,CAAS,CAAA,EAC7C,EACCA,EAAK,eACJQ,EAAAA,IAAC,OAAA,CAAK,UAAU,6CAA6C,SAAA,mBAE7D,EAEDR,EAAK,YACJQ,EAAAA,IAAC,OAAA,CAAK,UAAU,6CAA6C,SAAA,mBAAA,CAE7D,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,4FACb,SAAA,CAAAC,EAAAA,IAACY,EAAA,CACC,QAAQ,UACR,QAASlB,EACV,SAAA,OAAA,CAAA,EAIA,CAACF,EAAK,aAAeG,GACpBI,EAAAA,KAAAc,EAAAA,SAAA,CACE,SAAA,CAAAd,EAAAA,KAACa,EAAA,CACC,QAAQ,SACR,QAAS,IAAMjB,EAAUH,EAAK,GAAI,EAAK,EACvC,UAAU,8BAEV,SAAA,CAAAQ,EAAAA,IAACc,EAAA,CAAY,UAAU,SAAA,CAAU,EACjCd,EAAAA,IAAC,QAAK,SAAA,QAAA,CAAM,CAAA,CAAA,CAAA,EAEdD,EAAAA,KAACa,EAAA,CACC,QAAQ,UACR,QAAS,IAAMjB,EAAUH,EAAK,GAAI,EAAI,EACtC,UAAU,8BAEV,SAAA,CAAAQ,EAAAA,IAACE,EAAA,CAAgB,UAAU,SAAA,CAAU,EACrCF,EAAAA,IAAC,QAAK,SAAA,SAAA,CAAO,CAAA,CAAA,CAAA,CACf,EACF,EAGD,CAACR,EAAK,YAAcA,EAAK,aAAeI,GACvCG,EAAAA,KAACa,EAAA,CACC,QAAQ,UACR,QAAS,IAAMhB,EAAUJ,EAAK,EAAE,EAChC,UAAU,8BAEV,SAAA,CAAAQ,EAAAA,IAACC,EAAA,CAAe,UAAU,SAAA,CAAU,EACpCD,EAAAA,IAAC,QAAK,SAAA,SAAA,CAAO,CAAA,CAAA,CAAA,EAIhBH,GACCE,EAAAA,KAACa,EAAA,CACC,QAAQ,SACR,QAAS,IAAMf,EAASL,EAAK,EAAE,EAC/B,UAAU,8BAEV,SAAA,CAAAQ,EAAAA,IAACe,EAAA,CAAU,UAAU,SAAA,CAAU,EAC/Bf,EAAAA,IAAC,QAAK,SAAA,QAAA,CAAM,CAAA,CAAA,CAAA,CACd,CAAA,CAEJ,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,CAGJ,CAEJ,EClNMgB,GAA4B,IAAM,CACtC,KAAM,CAAE,KAAAC,CAAA,EAASC,EAAaC,GAAqBA,EAAM,IAAI,EACvD,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAA+C,SAAS,EACpF,CAACC,EAASC,CAAU,EAAIF,WAAsB,CAClD,KAAM,EACN,MAAO,GACP,OAAQ,YACR,UAAW,MAAA,CACZ,EAEK,CAACG,EAAiBC,CAAkB,EAAIJ,EAAAA,SAAS,EAAK,EACtD,CAACK,EAAaC,CAAc,EAAIN,EAAAA,SAAS,EAAE,EAC3C,CAACO,EAAcC,CAAe,EAAIR,EAAAA,SAAsB,IAAI,EAG5D,CAACS,CAAW,EAAIC,EAAA,EAChB,CAACC,CAAU,EAAIC,EAAA,EACf,CAACC,CAAW,EAAIC,EAAA,EAGhBC,EAAaC,EAAiB,CAClC,GAAGf,EACH,YAAaH,IAAc,YAAc,GAAO,OAChD,WAAYA,IAAc,WAAa,GAC3BA,IAAc,YAAc,GAAQ,OAChD,OAAQO,GAAe,MAAA,EACtB,CACD,gBAAiB,IACjB,eAAgB,GAChB,mBAAoB,EAAA,CACrB,EAEKY,EAAoBC,EAAwB,CAChD,KAAMjB,EAAQ,KACd,MAAOA,EAAQ,KAAA,EACd,CACD,gBAAiB,KACjB,eAAgB,GAChB,mBAAoB,EAAA,CACrB,EAGKkB,EAAerB,IAAc,UAAYmB,EAAoBF,EAC7DK,EAAQD,EAAa,MAAM,OAAS,CAAA,EAGpCE,EAAgB,MAAOC,EAAgBC,IAAsB,CACjE,GAAI,CACF,MAAMd,EAAY,CAAE,OAAAa,EAAQ,SAAAC,CAAA,CAAU,EAAE,OAAA,EACxCC,EAAM,QAAQD,EAAW,6BAA+B,4BAA4B,CACtF,OAASE,EAAY,CACnB,QAAQ,MAAM,kCAAmCA,CAAK,EACtDD,EAAM,MAAMC,GAAO,MAAM,SAAW,gCAAgC,CACtE,CACF,EAGMC,EAAe,MAAOJ,GAAmB,CAC7C,GAAK,OAAO,QAAQ,0EAA0E,EAI9F,GAAI,CACF,MAAMX,EAAWW,CAAM,EAAE,OAAA,EACzBE,EAAM,QAAQ,2BAA2B,CAC3C,OAASC,EAAY,CACnB,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CD,EAAM,MAAMC,GAAO,MAAM,SAAW,uBAAuB,CAC7D,CACF,EAGME,EAAgB,MAAOL,EAAgBM,EAAsB,KAAS,CAC1E,GAAI,CACF,MAAMf,EAAY,CAAE,OAAAS,EAAQ,WAAAM,CAAA,CAAY,EAAE,OAAA,EAC1CJ,EAAM,QAAQ,QAAQI,EAAa,WAAa,YAAY,eAAe,CAC7E,OAASH,EAAY,CACnB,QAAQ,MAAM,aAAaG,EAAa,UAAY,WAAW,SAAUH,CAAK,EAC9ED,EAAM,MAAMC,GAAO,MAAM,SAAW,aAAaG,EAAa,UAAY,WAAW,OAAO,CAC9F,CACF,EAGMpD,EAAkBN,GAClBA,EAAK,WAELO,EAAAA,KAAC,OAAA,CAAK,UAAU,8FACd,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAe,UAAU,cAAA,CAAe,EAAE,UAAA,EAE7C,EAICT,EAAK,YAURO,EAAAA,KAAC,OAAA,CAAK,UAAU,kGACd,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAgB,UAAU,cAAA,CAAe,EAAE,WAAA,EAE9C,EAXEH,EAAAA,KAAC,OAAA,CAAK,UAAU,oGACd,SAAA,CAAAC,EAAAA,IAACmD,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,gBAAA,EAExC,EAaAC,EAAiBd,EAAiB,CACtC,KAAM,EACN,MAAO,EACP,YAAa,GACb,WAAY,EAAA,CACb,EAEKe,EAAgBf,EAAiB,CACrC,KAAM,EACN,MAAO,EACP,WAAY,EAAA,CACb,EAEKgB,EAAO,CACX,CAAE,IAAK,UAAoB,MAAO,mBAAoB,MAAOf,EAAkB,MAAM,YAAY,OAAS,CAAA,EAC1G,CAAE,IAAK,YAAsB,MAAO,YAAa,MAAOa,EAAe,MAAM,YAAY,OAAS,CAAA,EAClG,CAAE,IAAK,WAAqB,MAAO,WAAY,MAAOC,EAAc,MAAM,YAAY,OAAS,CAAA,CAAE,EAGnG,OACEtD,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mDAAmD,SAAA,mBAAgB,EACjFA,EAAAA,IAAC,IAAA,CAAE,UAAU,wCAAwC,SAAA,qCAAA,CAAmC,CAAA,EAC1F,EAEAD,EAAAA,KAACa,EAAA,CACC,QAAS,IAAMc,EAAmB,EAAI,EACtC,UAAU,8BAEV,SAAA,CAAA1B,EAAAA,IAACuD,EAAA,CAAS,UAAU,SAAA,CAAU,EAC9BvD,EAAAA,IAAC,QAAK,SAAA,aAAA,CAAW,CAAA,CAAA,CAAA,CACnB,EACF,EAGAA,EAAAA,IAAC,MAAA,CAAI,UAAU,gDACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACZ,SAAAsD,EAAK,IAAKE,GACTzD,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAMsB,EAAamC,EAAI,GAAG,EACnC,UAAW,wEACTpC,IAAcoC,EAAI,IACd,mDACA,mJACN,GAEA,SAAA,CAAAxD,EAAAA,IAAC,OAAA,CAAM,WAAI,KAAA,CAAM,EACjBA,EAAAA,IAAC,OAAA,CAAK,UAAW,iGACfoB,IAAcoC,EAAI,IAAM,gEAAkE,+DAC5F,GACG,SAAAA,EAAI,KAAA,CACP,CAAA,CAAA,EAbKA,EAAI,GAAA,CAeZ,EACH,CAAA,CACF,EAGAzD,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAO2B,EACP,SAAW8B,GAAM7B,EAAe6B,EAAE,OAAO,KAAK,EAC9C,YAAY,kBACZ,UAAU,gPAAA,CAAA,EAEZzD,EAAAA,IAAC0D,GAAA,CAAoB,UAAU,6FAAA,CAA8F,CAAA,EAC/H,EAEA3D,EAAAA,KAAC,SAAA,CACC,MAAO,GAAGwB,EAAQ,MAAM,IAAIA,EAAQ,SAAS,GAC7C,SAAWkC,GAAM,CACf,KAAM,CAACE,EAAQC,CAAS,EAAIH,EAAE,OAAO,MAAM,MAAM,GAAG,EACpDjC,MAAoB,CAAE,GAAGqC,EAAM,OAAAF,EAAQ,UAAAC,GAAY,CACrD,EACA,UAAU,qLAEV,SAAA,CAAA5D,EAAAA,IAAC,SAAA,CAAO,MAAM,iBAAiB,SAAA,eAAY,EAC3CA,EAAAA,IAAC,SAAA,CAAO,MAAM,gBAAgB,SAAA,eAAY,EAC1CA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,YAAS,EACnCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,YAAS,EACpCA,EAAAA,IAAC,SAAA,CAAO,MAAM,sBAAsB,SAAA,eAAY,EAChDA,EAAAA,IAAC,SAAA,CAAO,MAAM,iBAAiB,SAAA,aAAA,CAAW,CAAA,CAAA,CAAA,CAC5C,EACF,EAGAA,EAAAA,IAAC,OAAI,UAAU,6FACZ,WAAa,UACZA,EAAAA,IAAC,OAAI,UAAU,yCACb,eAAC8D,EAAA,CAAe,KAAK,KAAK,CAAA,CAC5B,EACErB,EAAa,MACf1C,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,sCAAsC,SAAA,uBAAoB,QACxEY,EAAA,CAAO,QAAS,IAAM6B,EAAa,QAAA,EAAW,SAAA,OAAA,CAAK,CAAA,EACtD,EACEC,EAAM,SAAW,EACnB3C,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACZ,SAAAoB,IAAc,UAAY,4BAC1BA,IAAc,WAAa,8BAC3B,gBAAA,CACH,EACCA,IAAc,aACbpB,MAACY,EAAA,CAAO,QAAS,IAAMc,EAAmB,EAAI,EAAG,SAAA,wBAAA,CAEjD,CAAA,CAAA,CAEJ,EAEA3B,EAAAA,KAAAc,EAAAA,SAAA,CAEE,SAAA,CAAAb,EAAAA,IAAC,OAAI,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,2DACf,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,8BACf,SAAAD,EAAAA,KAAC,KAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,oGAAoG,SAAA,OAElH,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,oGAAoG,SAAA,SAElH,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,oGAAoG,SAAA,SAElH,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,oGAAoG,SAAA,QAElH,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,oGAAoG,SAAA,OAElH,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,qGAAqG,SAAA,SAAA,CAEnH,CAAA,CAAA,CACF,CAAA,CACF,QACC,QAAA,CAAM,UAAU,0EACd,SAAA0C,EAAM,IAAKlD,GACVO,EAAAA,KAACM,EAAO,GAAP,CAEC,QAAS,CAAE,QAAS,CAAA,EACpB,QAAS,CAAE,QAAS,CAAA,EACpB,UAAU,0CAEV,SAAA,CAAAL,EAAAA,IAAC,MAAG,UAAU,YACZ,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACZ,SAAA,CAAAP,EAAK,WACJQ,EAAAA,IAAC,MAAA,CACC,IAAK+D,EAAU,cAAcvE,EAAK,EAAE,aAAa,EACjD,IAAKA,EAAK,MACV,UAAU,qCAAA,CAAA,SAGb,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAAC,MAAA,CAAI,UAAU,sEACZ,SAAAR,EAAK,MACR,QACC,MAAA,CAAI,UAAU,sDACZ,SAAAA,EAAK,UAAU,aAAY,CAC9B,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,QACC,KAAA,CAAG,UAAU,8BACZ,SAAAO,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,4IACZ,SAAAR,EAAK,OAAO,aACXQ,EAAAA,IAAC,MAAA,CACC,IAAK+D,EAAU,8BAA8BvE,EAAK,OAAO,EAAE,EAAE,EAC7D,IAAKA,EAAK,OAAO,SACjB,UAAU,0CACV,QAAUiE,GAAM,CACd,MAAMO,EAASP,EAAE,OACjBO,EAAO,MAAM,QAAU,OACvBA,EAAO,cAAe,UAAYxE,EAAK,OAAO,SAC3C,MAAM,GAAG,EACT,IAAIyE,GAAQA,EAAK,OAAO,CAAC,CAAC,EAC1B,KAAK,EAAE,EACP,MAAM,EAAG,CAAC,EACV,YAAA,CACL,CAAA,CAAA,EAGFzE,EAAK,OAAO,SACT,MAAM,GAAG,EACT,IAAIyE,GAAQA,EAAK,OAAO,CAAC,CAAC,EAC1B,KAAK,EAAE,EACP,MAAM,EAAG,CAAC,EACV,YAAA,EAEP,SACC,MAAA,CACC,SAAA,CAAAjE,MAAC,MAAA,CAAI,UAAU,oDACZ,SAAAR,EAAK,OAAO,SACf,EACCA,EAAK,OAAO,OACXO,EAAAA,KAAC,MAAA,CAAI,UAAU,2CAA2C,SAAA,CAAA,SACjDP,EAAK,OAAO,KAAA,CAAA,CACrB,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,QACC,KAAA,CAAG,UAAU,8BACX,SAAAM,EAAeN,CAAI,EACtB,QACC,KAAA,CAAG,UAAU,uEACZ,SAAAO,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,8BACd,SAAA,CAAAC,EAAAA,IAAC,QAAK,SAAA,IAAA,CAAE,QACP,OAAA,CAAM,SAAAR,EAAK,gBAAkBA,EAAK,WAAa,CAAA,CAAE,CAAA,EACpD,EACAO,EAAAA,KAAC,OAAA,CAAK,UAAU,8BACd,SAAA,CAAAC,EAAAA,IAAC,QAAK,SAAA,IAAA,CAAE,EACRA,EAAAA,IAAC,OAAA,CAAM,SAAAR,EAAK,QAAQ,UAAY,CAAA,CAAE,CAAA,CAAA,CACpC,CAAA,CAAA,CACF,CAAA,CACF,EACAQ,EAAAA,IAAC,KAAA,CAAG,UAAU,uEACX,WAAoB,IAAI,KAAKR,EAAK,SAAS,EAAG,CAAE,UAAW,EAAA,CAAM,CAAA,CACpE,QACC,KAAA,CAAG,UAAU,6DACZ,SAAAO,EAAAA,KAAC,MAAA,CAAI,UAAU,0CACb,SAAA,CAAAA,EAAAA,KAACa,EAAA,CACC,KAAK,KACL,QAAQ,UACR,QAAS,IAAMkB,EAAgBtC,CAAI,EACnC,UAAU,wCAEV,SAAA,CAAAQ,EAAAA,IAACkE,GAAA,CAAQ,UAAU,SAAA,CAAU,EAC7BlE,EAAAA,IAAC,OAAA,CAAK,UAAU,qCAAqC,SAAA,MAAA,CAAI,CAAA,CAAA,CAAA,EAG1D,CAACR,EAAK,aACLO,EAAAA,KAAAc,EAAAA,SAAA,CACE,SAAA,CAAAd,EAAAA,KAACa,EAAA,CACC,KAAK,KACL,QAAQ,UACR,QAAS,IAAM+B,EAAcnD,EAAK,GAAI,EAAI,EAC1C,UAAU,wCAEV,SAAA,CAAAQ,EAAAA,IAACE,EAAA,CAAgB,UAAU,SAAA,CAAU,EACrCF,EAAAA,IAAC,OAAA,CAAK,UAAU,qCAAqC,SAAA,SAAA,CAAO,CAAA,CAAA,CAAA,EAE9DD,EAAAA,KAACa,EAAA,CACC,KAAK,KACL,QAAQ,SACR,QAAS,IAAM+B,EAAcnD,EAAK,GAAI,EAAK,EAC3C,UAAU,wCAEV,SAAA,CAAAQ,EAAAA,IAACc,EAAA,CAAY,UAAU,SAAA,CAAU,EACjCd,EAAAA,IAAC,OAAA,CAAK,UAAU,qCAAqC,SAAA,QAAA,CAAM,CAAA,CAAA,CAAA,CAC7D,EACF,EAGD,CAACR,EAAK,YAAcA,EAAK,aACxBO,EAAAA,KAACa,EAAA,CACC,KAAK,KACL,QAAQ,UACR,QAAS,IAAMqC,EAAczD,EAAK,GAAI,EAAI,EAC1C,UAAU,wCAEV,SAAA,CAAAQ,EAAAA,IAACC,EAAA,CAAe,UAAU,SAAA,CAAU,EACpCD,EAAAA,IAAC,OAAA,CAAK,UAAU,qCAAqC,SAAA,SAAA,CAAO,CAAA,CAAA,CAAA,EAI/DR,EAAK,YACJO,EAAAA,KAACa,EAAA,CACC,KAAK,KACL,QAAQ,UACR,QAAS,IAAMqC,EAAczD,EAAK,GAAI,EAAK,EAC3C,UAAU,wCAEV,SAAA,CAAAQ,EAAAA,IAAClB,GAAA,CAAoB,UAAU,SAAA,CAAU,EACzCkB,EAAAA,IAAC,OAAA,CAAK,UAAU,qCAAqC,SAAA,WAAA,CAAS,CAAA,CAAA,CAAA,EAIlED,EAAAA,KAACa,EAAA,CACC,KAAK,KACL,QAAQ,SACR,QAAS,IAAMoC,EAAaxD,EAAK,EAAE,EACnC,UAAU,wCAEV,SAAA,CAAAQ,EAAAA,IAACe,EAAA,CAAU,UAAU,SAAA,CAAU,EAC/Bf,EAAAA,IAAC,OAAA,CAAK,UAAU,qCAAqC,SAAA,QAAA,CAAM,CAAA,CAAA,CAAA,CAC7D,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EAvJKR,EAAK,EAAA,CAyJb,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,EAGCiD,EAAa,MAAM,YAClBzC,EAAAA,IAAC,MAAA,CAAI,UAAU,0DACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,2CAA2C,SAAA,CAAA,YAC7C0C,EAAa,KAAK,WAAW,KAAO,GAAKA,EAAa,KAAK,WAAW,MAAS,EAAE,MAAI,IAC/F,KAAK,IACJA,EAAa,KAAK,WAAW,KAAOA,EAAa,KAAK,WAAW,MACjEA,EAAa,KAAK,WAAW,KAAA,EAC5B,IAAI,MACHA,EAAa,KAAK,WAAW,MAAM,UAAA,EACzC,EAEA1C,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACY,EAAA,CACC,KAAK,KACL,QAAQ,UACR,SAAU,CAAC6B,EAAa,KAAK,WAAW,QACxC,QAAS,IAAMjB,EAAWqC,IAAS,CAAE,GAAGA,EAAM,KAAMA,EAAK,KAAQ,CAAA,EAAI,EACtE,SAAA,UAAA,CAAA,EAGD9D,EAAAA,KAAC,OAAA,CAAK,UAAU,2CAA2C,SAAA,CAAA,QACnD0C,EAAa,KAAK,WAAW,KAAK,OAAKA,EAAa,KAAK,WAAW,KAAA,EAC5E,EACAzC,EAAAA,IAACY,EAAA,CACC,KAAK,KACL,QAAQ,UACR,SAAU,CAAC6B,EAAa,KAAK,WAAW,QACxC,QAAS,IAAMjB,EAAWqC,IAAS,CAAE,GAAGA,EAAM,KAAMA,EAAK,KAAQ,CAAA,EAAI,EACtE,SAAA,MAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAEJ,EAGA7D,EAAAA,IAACmE,EAAA,CACC,OAAQ1C,EACR,QAAS,IAAMC,EAAmB,EAAK,CAAA,CAAA,EAIzC1B,EAAAA,IAACT,GAAA,CACC,KAAMsC,EACN,OAAQ,CAAC,CAACA,EACV,QAAS,IAAMC,EAAgB,IAAI,EACnC,UAAWa,EACX,UAAYC,GAAWK,EAAcL,EAAQ,CAACf,GAAc,UAAU,EACtE,SAAUmB,CAAA,CAAA,CACZ,EACF,CAEJ","x_google_ignoreList":[0,1]}