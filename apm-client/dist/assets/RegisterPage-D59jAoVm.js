import{j as e,A as z,m as w}from"./ui-BlmhFX_F.js";import{u as I,r as o,L as j}from"./router-DFnE1L-t.js";import{u as V}from"./index.esm-B0I9BSpA.js";import{o as E,c as O,a as N,b as Y,d as c,e as B}from"./index.esm-kU_tS0bV.js";import{s as L,g as G,q as U,z as d}from"./index-P8gjH_om.js";import{C as W}from"./redux-VN59sPcb.js";import{T as Z}from"./ThemeToggle-C6ZS02Ou.js";import{a as H}from"./api-IvBNLaH7.js";import{F as J}from"./ArrowLeftIcon-qMHYicG6.js";import{F as K}from"./BuildingOfficeIcon-2E4mAkhi.js";import{F as v}from"./EyeSlashIcon-DScm6DLE.js";import{F as k}from"./EyeIcon-Bt_hkgUK.js";import"./vendor-gH-7aFTg.js";import"./utils-CXyNmL__.js";const M=O().shape({fullName:c().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),email:c().required("Email is required").email("Please enter a valid email address").lowercase(),password:c().required("Password is required").min(8,"Password must be at least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Password must contain uppercase, lowercase, number, and special character"),confirmPassword:c().required("Please confirm your password").oneOf([B("password")],"Passwords do not match"),batch:Y().required("Batch passout year is required").min(1950,"Please enter a valid batch passout year").max(new Date().getFullYear()+10,"Batch passout year seems too far in the future"),acceptTerms:N().oneOf([!0],"You must accept the terms and conditions"),acceptPrivacy:N().oneOf([!0],"You must accept the privacy policy")}),he=()=>{const u=I(),g=W(L),[m,P]=o.useState(!1),[x,S]=o.useState(!1),[l,h]=o.useState(1),[Q,X]=o.useState([]),[b,p]=o.useState(!1),f=G(),C=()=>{U(),window.location.href="/select-organization"},{register:s,handleSubmit:$,formState:{errors:t,isValid:F},watch:D,setValue:_,trigger:q}=V({resolver:E(M),mode:"onChange"}),y=D(),A=a=>{if(!a)return{score:0,text:"",color:"bg-gray-200"};let r=0;return r=[a.length>=8,/[a-z]/.test(a),/[A-Z]/.test(a),/\d/.test(a),/[@$!%*?&]/.test(a)].filter(Boolean).length,{score:r,...{0:{text:"Very Weak",color:"bg-red-500"},1:{text:"Very Weak",color:"bg-red-500"},2:{text:"Weak",color:"bg-orange-500"},3:{text:"Fair",color:"bg-yellow-500"},4:{text:"Good",color:"bg-blue-500"},5:{text:"Strong",color:"bg-green-500"}}[r]}},R=async a=>{p(!0);try{const r={email:a.email,password:a.password,fullName:a.fullName,batch:parseInt(a.batch)},n=await H.post("/auth/register",r);if(n.data.success)d.success(n.data.message||"Registration successful! Your account is pending alumni verification."),u("/auth/verify-email",{state:{email:r.email,verificationPending:!0}});else throw new Error(n.data.message||"Registration failed")}catch(r){console.error("Registration error:",r),r.response?.data?.message?d.error(r.response.data.message):r.message?d.error(r.message):d.error("Registration failed. Please try again.")}finally{p(!1)}},T=async()=>{await q(l===1?["fullName","email"]:["password","confirmPassword","batch"])&&h(2)},i=A(y.password||"");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(j,{to:"/",className:"flex items-center h-10",children:e.jsx("img",{src:g?"/brand/guild-logo-white.png":"/brand/guild-logo.png",alt:"GUILD",className:"h-full w-auto object-contain"})}),e.jsx(Z,{})]})})}),e.jsx("div",{className:"min-h-screen flex items-center justify-center pt-16 px-4 py-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("button",{onClick:()=>u("/"),className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors group",children:[e.jsx(J,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{children:"Back to Home"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 md:p-10",children:[f&&e.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 mb-6 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 truncate max-w-[180px]",children:f})]}),e.jsx("button",{onClick:C,className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:"Change"})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:g?"/brand/guild-logo-white.png":"/brand/guild-logo.png",alt:"GUILD",className:"h-20 w-auto object-contain"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600",children:"Join GUILD"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create your alumni account"}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${l>=1?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"1"}),e.jsx("div",{className:`w-12 h-1 rounded ${l>=2?"bg-gradient-to-r from-blue-600 to-purple-600":"bg-gray-200"}`}),e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${l>=2?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"2"})]})})]}),e.jsx("form",{onSubmit:$(R),className:"space-y-6",children:e.jsxs(z,{mode:"wait",children:[l===1&&e.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),e.jsx("div",{className:"relative",children:e.jsx("input",{...s("fullName"),type:"text",placeholder:"Enter your full name",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${t.fullName?"border-red-500":""}`})}),t.fullName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.fullName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),e.jsx("div",{className:"relative",children:e.jsx("input",{...s("email"),type:"email",placeholder:"Enter your email",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${t.email?"border-red-500":""}`})}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.email.message})]}),e.jsx("button",{type:"button",onClick:T,className:"w-full py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-semibold text-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:"Continue to Academic Details"})]},"step1"),l===2&&e.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Batch Passout Year *"}),e.jsx("div",{className:"relative",children:e.jsx("input",{...s("batch"),type:"number",placeholder:"2022",min:"1950",max:new Date().getFullYear()+10,className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${t.batch?"border-red-500":""}`})}),t.batch&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.batch.message}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the year you passed out from your institution"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...s("password"),type:m?"text":"password",placeholder:"Create a strong password",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10 ${t.password?"border-red-500":""}`}),e.jsx("button",{type:"button",onClick:()=>P(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?e.jsx(v,{className:"h-5 w-5"}):e.jsx(k,{className:"h-5 w-5"})})]}),y.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Password strength"}),e.jsx("span",{className:`text-xs font-medium ${i.score>=4?"text-green-500":i.score>=3?"text-yellow-500":"text-red-500"}`,children:i.text})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i.color}`,style:{width:`${i.score/5*100}%`}})})]}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...s("confirmPassword"),type:x?"text":"password",placeholder:"Confirm your password",className:`w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-10 ${t.confirmPassword?"border-red-500":""}`}),e.jsx("button",{type:"button",onClick:()=>S(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?e.jsx(v,{className:"h-5 w-5"}):e.jsx(k,{className:"h-5 w-5"})})]}),t.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.confirmPassword.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{...s("acceptTerms"),type:"checkbox",className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300",children:["I accept the"," ",e.jsx("span",{className:"text-blue-600 hover:text-blue-800 underline cursor-pointer",children:"Terms and Conditions"})]})]}),t.acceptTerms&&e.jsx("p",{className:"text-sm text-red-500",children:t.acceptTerms.message}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{...s("acceptPrivacy"),type:"checkbox",className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300",children:["I accept the"," ",e.jsx("span",{className:"text-blue-600 hover:text-blue-800 underline cursor-pointer",children:"Privacy Policy"})]})]}),t.acceptPrivacy&&e.jsx("p",{className:"text-sm text-red-500",children:t.acceptPrivacy.message})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>h(1),className:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl shadow-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-all",children:"Back"}),e.jsx("button",{type:"submit",disabled:b||!F,className:"flex-1 py-3 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-xl hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:b?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]})]},"step2")]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(j,{to:"/auth/login",className:"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all",children:"Sign In"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Powered by"," ",e.jsx("span",{className:"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Digikite"})]})})]})})]})};export{he as default};
//# sourceMappingURL=RegisterPage-D59jAoVm.js.map
