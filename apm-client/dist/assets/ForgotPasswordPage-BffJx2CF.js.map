{"version":3,"file":"ForgotPasswordPage-BffJx2CF.js","sources":["../../src/pages/auth/ForgotPasswordPage.tsx"],"sourcesContent":["// pages/auth/ForgotPasswordPage.tsx\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport {\n  EnvelopeIcon,\n  ArrowLeftIcon,\n  CheckCircleIcon\n} from '@heroicons/react/24/outline';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { selectIsDark } from '@/store/slices/themeSlice';\nimport toast from 'react-hot-toast';\nimport { useAuth } from '@/hooks/useAuth';\nimport ThemeToggle from '@/components/common/UI/ThemeToggle';\n\n// Validation schema\nconst forgotPasswordSchema = yup.object().shape({\n  email: yup\n    .string()\n    .required('Email is required')\n    .email('Please enter a valid email address')\n    .lowercase(),\n});\n\ninterface ForgotPasswordFormData {\n  email: string;\n}\n\nconst ForgotPasswordPage = () => {\n  const { forgotPassword } = useAuth();\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [submittedEmail, setSubmittedEmail] = useState('');\n  const navigate = useNavigate();\n  const isDark = useSelector(selectIsDark);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n    watch\n  } = useForm<ForgotPasswordFormData>({\n    resolver: yupResolver(forgotPasswordSchema),\n    mode: 'onChange'\n  });\n\n  const watchedEmail = watch('email');\n\n  const onSubmit = async (data: ForgotPasswordFormData) => {\n    try {\n      const result = await forgotPassword(data.email);\n\n      if (result.success) {\n        setSubmittedEmail(data.email);\n        setIsSubmitted(true);\n      }\n    } catch (error) {\n      console.error('Forgot password error:', error);\n    }\n  };\n\n  const handleResendEmail = async () => {\n    if (!submittedEmail) return;\n\n    try {\n      const result = await forgotPassword(submittedEmail);\n      if (result.success) {\n        toast.success('Password reset email sent again!');\n      }\n    } catch (error) {\n      console.error('Resend email error:', error);\n    }\n  };\n\n  if (isSubmitted) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20\">\n        {/* Fixed Navbar */}\n        <nav className=\"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"container mx-auto px-4\">\n            <div className=\"flex items-center justify-between h-16\">\n              <Link to=\"/\" className=\"flex items-center h-10\">\n                <img\n                  src={isDark ? '/brand/guild-logo-white.png' : '/brand/guild-logo.png'}\n                  alt=\"GUILD\"\n                  className=\"h-full w-auto object-contain\"\n                />\n              </Link>\n              <ThemeToggle />\n            </div>\n          </div>\n        </nav>\n\n        {/* Success Content */}\n        <div className=\"min-h-screen flex items-center justify-center pt-16 px-4\">\n          <div className=\"max-w-md w-full\">\n            {/* Back Button */}\n            <button\n              onClick={() => navigate('/')}\n              className=\"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors group\"\n            >\n              <ArrowLeftIcon className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform\" />\n              <span>Back to Home</span>\n            </button>\n\n            <div className=\"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 md:p-10\">\n              {/* Success Header */}\n              <div className=\"text-center mb-8\">\n                <div className=\"mx-auto h-20 w-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6\">\n                  <CheckCircleIcon className=\"h-10 w-10 text-white\" />\n                </div>\n                <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">\n                  <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600\">\n                    Check Your Email\n                  </span>\n                </h1>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                  We've sent you a password reset link\n                </p>\n              </div>\n\n              {/* Success Details */}\n              <div className=\"space-y-6\">\n                <div className=\"text-center\">\n                  <p className=\"text-gray-700 dark:text-gray-300 mb-3\">\n                    Password reset link sent to:\n                  </p>\n                  <p className=\"font-semibold text-lg text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-blue-50 dark:bg-blue-900/20 px-4 py-3 rounded-xl\">\n                    {submittedEmail}\n                  </p>\n                </div>\n\n                <div className=\"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4\">\n                  <h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-3\">\n                    Next Steps:\n                  </h4>\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400 space-y-2\">\n                    <p>âœ“ Click the link in your email to reset your password</p>\n                    <p>âœ“ The link will expire in 1 hour for security</p>\n                    <p>âœ“ Check your spam folder if you don't see it</p>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"space-y-3\">\n                  <button\n                    onClick={handleResendEmail}\n                    className=\"w-full px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                  >\n                    Resend Email\n                  </button>\n\n                  <Link\n                    to=\"/auth/login\"\n                    className=\"block w-full text-center px-6 py-3 text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 font-semibold hover:opacity-80 transition-opacity\"\n                  >\n                    Back to Login\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20\">\n      {/* Fixed Navbar */}\n      <nav className=\"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex items-center justify-between h-16\">\n            <Link to=\"/\" className=\"flex items-center h-10\">\n              <img\n                src={isDark ? '/brand/guild-logo-white.png' : '/brand/guild-logo.png'}\n                alt=\"GUILD\"\n                className=\"h-full w-auto object-contain\"\n              />\n            </Link>\n            <ThemeToggle />\n          </div>\n        </div>\n      </nav>\n\n      {/* Form Content */}\n      <div className=\"min-h-screen flex items-center justify-center pt-16 px-4\">\n        <div className=\"max-w-md w-full\">\n          {/* Back Button */}\n          <button\n            onClick={() => navigate('/')}\n            className=\"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors group\"\n          >\n            <ArrowLeftIcon className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform\" />\n            <span>Back to Home</span>\n          </button>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 md:p-10\">\n            {/* Header */}\n            <div className=\"text-center mb-8\">\n              <div className=\"flex justify-center mb-6\">\n                <img\n                  src={isDark ? '/brand/guild-logo-white.png' : '/brand/guild-logo.png'}\n                  alt=\"GUILD\"\n                  className=\"h-20 w-auto object-contain\"\n                />\n              </div>\n              <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">\n                <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600\">\n                  Forgot Password?\n                </span>\n              </h1>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                No worries! Enter your email and we'll send you a reset link.\n              </p>\n            </div>\n\n            {/* Form */}\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n              {/* Email Input */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Email Address\n                </label>\n                <div className=\"relative\">\n                  <input\n                    {...register('email')}\n                    type=\"email\"\n                    placeholder=\"Enter your email address\"\n                    className={`w-full px-4 py-3 pl-12 bg-gray-50 dark:bg-gray-900/50 border ${\n                      errors.email\n                        ? 'border-red-500 focus:ring-red-500'\n                        : 'border-gray-300 dark:border-gray-600 focus:ring-blue-500'\n                    } rounded-xl focus:outline-none focus:ring-2 text-gray-900 dark:text-white transition-colors`}\n                    disabled={isSubmitting}\n                  />\n                  <EnvelopeIcon className=\"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                </div>\n                {errors.email && (\n                  <p className=\"mt-2 text-sm text-red-500\">{errors.email.message}</p>\n                )}\n              </div>\n\n              {/* Submit Button */}\n              <button\n                type=\"submit\"\n                disabled={isSubmitting || !watchedEmail}\n                className=\"w-full py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n              >\n                {isSubmitting ? (\n                  <div className=\"flex items-center justify-center\">\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" />\n                    Sending Reset Link...\n                  </div>\n                ) : (\n                  'Send Reset Link'\n                )}\n              </button>\n\n              {/* Back to Login */}\n              <div className=\"text-center pt-2\">\n                <Link\n                  to=\"/auth/login\"\n                  className=\"inline-flex items-center text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors group\"\n                >\n                  <ArrowLeftIcon className=\"h-4 w-4 mr-1 group-hover:-translate-x-1 transition-transform\" />\n                  Back to Login\n                </Link>\n              </div>\n            </form>\n\n            {/* Help Section */}\n            <div className=\"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700\">\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4\">\n                <h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-2\">\n                  ðŸ’¡ Need Help?\n                </h4>\n                <div className=\"text-xs text-gray-600 dark:text-gray-400 space-y-1\">\n                  <p>â€¢ Make sure the email is associated with your GUILD account</p>\n                  <p>â€¢ Reset links expire after 1 hour for security</p>\n                  <p>â€¢ Contact support if you continue having issues</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPasswordPage;\n"],"names":["forgotPasswordSchema","yup.object","yup.string","ForgotPasswordPage","forgotPassword","useAuth","isSubmitted","setIsSubmitted","useState","submittedEmail","setSubmittedEmail","navigate","useNavigate","isDark","useSelector","selectIsDark","register","handleSubmit","errors","isSubmitting","watch","useForm","yupResolver","watchedEmail","onSubmit","data","error","handleResendEmail","toast","jsxs","jsx","Link","ThemeToggle","ArrowLeftIcon","CheckCircleIcon","EnvelopeIcon"],"mappings":"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"}