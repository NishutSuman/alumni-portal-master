import{j as e,L as je,b as we,q as ke,a as Ne}from"./ui-o2EL3sck.js";import{r as o}from"./router-BgvBx64T.js";import{u as ve,a as Se,b as Ce,c as Ee,d as Ae,e as Pe,f as De,g as Be,h as Re,i as Ie,j as Me,k as Te,l as Fe,m as Le,n as Ke}from"./userApi-Mynrbi73.js";import{_ as Ye,u as Ue}from"./index-CR7i03R2.js";import{F as Ge}from"./XMarkIcon-B58Eb0hU.js";import{F as H}from"./UserIcon-Bm6z4MZR.js";import{F as Oe}from"./ArrowDownTrayIcon-BpYFy8xY.js";import{F as de}from"./CheckBadgeIcon-BZcHyBTc.js";import{F as J}from"./ExclamationTriangleIcon-CN3zIufB.js";import{F as Je}from"./EllipsisVerticalIcon-BBXHSY48.js";import{F as q}from"./TrashIcon-CkjDT07c.js";import{F as O}from"./LockClosedIcon-CeF28KMG.js";import{F as X}from"./EnvelopeIcon-CJwyn6tp.js";import{F as ee}from"./PhoneIcon-CvZ-dcbE.js";import{F as ae}from"./GlobeAltIcon-BVVVn2FV.js";import{F as _}from"./XCircleIcon-CK17SfJH.js";import{F as Z}from"./PencilIcon-CGtBlyj4.js";import{F as re}from"./AcademicCapIcon-XPGSWThM.js";import{F as oe}from"./PlusIcon-CFkNWmzL.js";import{F as te,a as Ve}from"./LinkIcon-VpHxqQ_m.js";import{F as se}from"./ClockIcon-53QLE2kZ.js";import"./redux-BejLzyCF.js";import"./vendor-c5ypKtDW.js";function We({title:r,titleId:g,...l},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":g},l),r?o.createElement("title",{id:g},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const $e=o.forwardRef(We);function ze({title:r,titleId:g,...l},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":g},l),r?o.createElement("title",{id:g},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const ie=o.forwardRef(ze);function He({title:r,titleId:g,...l},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":g},l),r?o.createElement("title",{id:g},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const $=o.forwardRef(He);function _e({title:r,titleId:g,...l},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":g},l),r?o.createElement("title",{id:g},r):null,o.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const ne=o.forwardRef(_e),qe=({isOpen:r,onClose:g,profile:l})=>{const{data:m}=ve(),u=o.useRef(null),w=d=>d?d.replace("_POSITIVE","+").replace("_NEGATIVE","-").replace("_",""):"Not Set",x=d=>{switch(d){case"ACTIVE":return"text-green-600 bg-green-100";case"EXPIRED":return"text-red-600 bg-red-100";case"PENDING":return"text-yellow-600 bg-yellow-100";case"SUSPENDED":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},s=l.isAlumniVerified?{text:"Verified Alumni",color:"text-green-600",icon:de,bgColor:"bg-green-50"}:l.pendingVerification?{text:"Pending Verification",color:"text-yellow-600",icon:J,bgColor:"bg-yellow-50"}:{text:"Unverified",color:"text-red-600",icon:J,bgColor:"bg-red-50"},f=s.icon,p=async()=>{if(u.current)try{const d=(await Ye(async()=>{const{default:N}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:N}},[])).default,C=await d(u.current,{backgroundColor:null,scale:3,useCORS:!0,allowTaint:!0,logging:!1,windowWidth:1920,windowHeight:1080,x:0,y:0,scrollX:0,scrollY:0,width:u.current.offsetWidth,height:u.current.offsetHeight}),k=document.createElement("a");k.download=`${l.fullName}_Alumni_ID_Card.png`,k.href=C.toDataURL("image/png"),document.body.appendChild(k),k.click(),document.body.removeChild(k)}catch(d){console.error("Error downloading card:",d),alert("Failed to download card. Please try again.")}};return e.jsxs(je,{open:r,onClose:g,className:"relative z-50",children:[e.jsx(we,{className:"fixed inset-0 bg-black/30"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(ke,{className:"mx-auto max-w-2xl w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx(Ne,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Alumni Identity Card"}),e.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(Ge,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{ref:u,className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 rounded-xl p-6 text-white shadow-xl overflow-hidden max-w-md mx-auto",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white rounded-full -translate-y-4 translate-x-4"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white rounded-full translate-y-4 -translate-x-4"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"ALUMNI ID CARD"}),e.jsx("p",{className:"text-blue-100 text-xs",children:m?.organization?.name||"Alumni Association"})]}),m?.organization?.logoUrl&&e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg p-2 flex items-center justify-center",children:e.jsx("img",{src:"/api/organization/files/logo",alt:"Organization Logo",className:"w-full h-full object-contain",onError:d=>{d.target.style.display="none"}})})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-2 border-white/50 flex items-center justify-center overflow-hidden",children:l.profileImage?e.jsx("img",{src:`http://localhost:3000/api/users/profile-picture/${l.id}?t=${Date.now()}`,alt:l.fullName,className:"w-full h-full object-cover rounded-full",onError:d=>{const C=d.target;C.style.display="none";const k=C.parentElement;if(k&&!k.querySelector(".fallback-icon")){const N=document.createElement("div");N.className="fallback-icon",N.innerHTML=`
                                <svg class="w-8 h-8 text-white/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                              `,k.appendChild(N)}}}):e.jsx(H,{className:"w-8 h-8 text-white/70"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold mb-1 truncate",children:l.fullName}),e.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold mb-2 ${s.bgColor} ${s.color}`,children:[e.jsx(f,{className:"w-3 h-3"}),s.text]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-blue-200",children:"ID:"}),e.jsx("span",{className:"font-semibold ml-1",children:l.serialId||"Not Assigned"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-center mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-blue-100 text-xs uppercase tracking-wider",children:"Blood Group"}),e.jsx("p",{className:"font-bold text-sm",children:w(l.bloodGroup)})]}),e.jsx("div",{className:"w-px h-8 bg-white/20 mx-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-blue-100 text-xs uppercase tracking-wider",children:"Membership"}),e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold ${x(l.membershipStatus)}`,children:l.membershipStatus.replace("_"," ")})]})]}),e.jsx("div",{className:"text-center pt-3 border-t border-white/20",children:e.jsxs("p",{className:"text-blue-100 text-xs",children:["Generated on ",new Date().toLocaleDateString()]})})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"Download PNG"]}),e.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Close"})]})]})})]})},z=({label:r,value:g})=>e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:r}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:g?.toString()||"Not Set"})]}),Ze=o.memo(({label:r,value:g,onChange:l,placeholder:m})=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),e.jsx("textarea",{value:g,onChange:u=>l(u.target.value),placeholder:m,rows:4,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"})]})),B=o.memo(({label:r,value:g,isEditing:l=!1,fieldKey:m="",type:u="text",options:w,placeholder:x,sectionData:v,onFieldChange:s})=>{const f=g?.toString()||"Not Set";if(l&&m){const p=v[m]??g??"";return u==="textarea"?e.jsx(Ze,{label:r,value:p||"",onChange:d=>s(m,d),placeholder:x}):u==="select"&&w?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),e.jsx("select",{value:p,onChange:d=>s(m,d.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:w.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]}):u==="checkbox"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:!!p,onChange:d=>s(m,d.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),e.jsx("input",{type:u,value:p,onChange:d=>s(m,d.target.value),placeholder:x,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"})]})}return e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:r}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:u==="checkbox"?g?"Yes":"No":f})]})}),F=o.memo(({title:r,sectionKey:g,children:l,canEdit:m=!0,editingSection:u,onEditSection:w,onSaveSection:x,onCancelEdit:v})=>{const s=u===g;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-5 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:r}),m?e.jsx("div",{className:"flex flex-wrap gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>x(g),className:"inline-flex items-center px-3 py-1.5 bg-green-600 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-green-700 transition-colors",children:[e.jsx(de,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1"}),"Save"]}),e.jsxs("button",{onClick:v,className:"inline-flex items-center px-3 py-1.5 bg-gray-500 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-gray-600 transition-colors",children:[e.jsx(_,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1"}),"Cancel"]})]}):e.jsxs("button",{onClick:()=>w(g),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Z,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1"}),"Edit"]})}):e.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 text-gray-500 dark:text-gray-400 text-xs sm:text-sm font-medium",children:[e.jsx(O,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1"}),"Locked"]})]}),l]})}),G=[{name:"Andhra Pradesh",districts:["Anantapur","Chittoor","East Godavari","Guntur","Krishna","Kurnool","Prakasam","Nellore","Srikakulam","Visakhapatnam","Vizianagaram","West Godavari","YSR Kadapa"]},{name:"Arunachal Pradesh",districts:["Tawang","West Kameng","East Kameng","Papum Pare","Kurung Kumey","Kra Daadi","Lower Subansiri","Upper Subansiri","West Siang","East Siang","Siang","Upper Siang","Lower Siang","Lower Dibang Valley","Dibang Valley","Anjaw","Lohit","Namsai","Changlang","Tirap","Longding"]},{name:"Assam",districts:["Baksa","Barpeta","Biswanath","Bongaigaon","Cachar","Charaideo","Chirang","Darrang","Dhemaji","Dhubri","Dibrugarh","Goalpara","Golaghat","Hailakandi","Hojai","Jorhat","Kamrup Metropolitan","Kamrup","Karbi Anglong","Karimganj","Kokrajhar","Lakhimpur","Majuli","Morigaon","Nagaon","Nalbari","Dima Hasao","Sivasagar","Sonitpur","South Salmara-Mankachar","Tinsukia","Udalguri","West Karbi Anglong"]},{name:"Bihar",districts:["Araria","Arwal","Aurangabad","Banka","Begusarai","Bhagalpur","Bhojpur","Buxar","Darbhanga","East Champaran","Gaya","Gopalganj","Jamui","Jehanabad","Kaimur","Katihar","Khagaria","Kishanganj","Lakhisarai","Madhepura","Madhubani","Munger","Muzaffarpur","Nalanda","Nawada","Patna","Purnia","Rohtas","Saharsa","Samastipur","Saran","Sheikhpura","Sheohar","Sitamarhi","Siwan","Supaul","Vaishali","West Champaran"]},{name:"Chhattisgarh",districts:["Balod","Baloda Bazar","Balrampur","Bastar","Bemetara","Bijapur","Bilaspur","Dantewada","Dhamtari","Durg","Gariaband","Janjgir-Champa","Jashpur","Kabirdham","Kanker","Kondagaon","Korba","Korea","Mahasamund","Mungeli","Narayanpur","Raigarh","Raipur","Rajnandgaon","Sukma","Surajpur","Surguja"]},{name:"Goa",districts:["North Goa","South Goa"]},{name:"Gujarat",districts:["Ahmedabad","Amreli","Anand","Aravalli","Banaskantha","Bharuch","Bhavnagar","Botad","Chhota Udepur","Dahod","Dang","Devbhoomi Dwarka","Gandhinagar","Gir Somnath","Jamnagar","Junagadh","Kachchh","Kheda","Mahisagar","Mehsana","Morbi","Narmada","Navsari","Panchmahal","Patan","Porbandar","Rajkot","Sabarkantha","Surat","Surendranagar","Tapi","Vadodara","Valsad"]},{name:"Haryana",districts:["Ambala","Bhiwani","Charkhi Dadri","Faridabad","Fatehabad","Gurugram","Hisar","Jhajjar","Jind","Kaithal","Karnal","Kurukshetra","Mahendragarh","Nuh","Palwal","Panchkula","Panipat","Rewari","Rohtak","Sirsa","Sonipat","Yamunanagar"]},{name:"Himachal Pradesh",districts:["Bilaspur","Chamba","Hamirpur","Kangra","Kinnaur","Kullu","Lahaul and Spiti","Mandi","Shimla","Sirmaur","Solan","Una"]},{name:"Jharkhand",districts:["Bokaro","Chatra","Deoghar","Dhanbad","Dumka","East Singhbhum","Garhwa","Giridih","Godda","Gumla","Hazaribagh","Jamtara","Khunti","Koderma","Latehar","Lohardaga","Pakur","Palamu","Ramgarh","Ranchi","Sahibganj","Seraikela-Kharsawan","Simdega","West Singhbhum"]},{name:"Karnataka",districts:["Bagalkot","Ballari","Belagavi","Bengaluru Rural","Bengaluru Urban","Bidar","Chamarajanagar","Chikballapur","Chikkamagaluru","Chitradurga","Dakshina Kannada","Davanagere","Dharwad","Gadag","Hassan","Haveri","Kalaburagi","Kodagu","Kolar","Koppal","Mandya","Mysuru","Raichur","Ramanagara","Shivamogga","Tumakuru","Udupi","Uttara Kannada","Vijayapura","Yadgir"]},{name:"Kerala",districts:["Alappuzha","Ernakulam","Idukki","Kannur","Kasaragod","Kollam","Kottayam","Kozhikode","Malappuram","Palakkad","Pathanamthitta","Thiruvananthapuram","Thrissur","Wayanad"]},{name:"Madhya Pradesh",districts:["Agar Malwa","Alirajpur","Anuppur","Ashoknagar","Balaghat","Barwani","Betul","Bhind","Bhopal","Burhanpur","Chhatarpur","Chhindwara","Damoh","Datia","Dewas","Dhar","Dindori","Guna","Gwalior","Harda","Hoshangabad","Indore","Jabalpur","Jhabua","Katni","Khandwa","Khargone","Mandla","Mandsaur","Morena","Narsinghpur","Neemuch","Panna","Raisen","Rajgarh","Ratlam","Rewa","Sagar","Satna","Sehore","Seoni","Shahdol","Shajapur","Sheopur","Shivpuri","Sidhi","Singrauli","Tikamgarh","Ujjain","Umaria","Vidisha"]},{name:"Maharashtra",districts:["Ahmednagar","Akola","Amravati","Aurangabad","Beed","Bhandara","Buldhana","Chandrapur","Dhule","Gadchiroli","Gondia","Hingoli","Jalgaon","Jalna","Kolhapur","Latur","Mumbai City","Mumbai Suburban","Nagpur","Nanded","Nandurbar","Nashik","Osmanabad","Palghar","Parbhani","Pune","Raigad","Ratnagiri","Sangli","Satara","Sindhudurg","Solapur","Thane","Wardha","Washim","Yavatmal"]},{name:"Manipur",districts:["Bishnupur","Chandel","Churachandpur","Imphal East","Imphal West","Jiribam","Kakching","Kamjong","Kangpokpi","Noney","Pherzawl","Senapati","Tamenglong","Tengnoupal","Thoubal","Ukhrul"]},{name:"Meghalaya",districts:["East Garo Hills","East Jaintia Hills","East Khasi Hills","North Garo Hills","Ri Bhoi","South Garo Hills","South West Garo Hills","South West Khasi Hills","West Garo Hills","West Jaintia Hills","West Khasi Hills"]},{name:"Mizoram",districts:["Aizawl","Champhai","Hnahthial","Kolasib","Khawzawl","Lawngtlai","Lunglei","Mamit","Saiha","Saitual","Serchhip"]},{name:"Nagaland",districts:["Dimapur","Kiphire","Kohima","Longleng","Mokokchung","Mon","Peren","Phek","Tuensang","Wokha","Zunheboto"]},{name:"Odisha",districts:["Angul","Balangir","Balasore","Bargarh","Bhadrak","Boudh","Cuttack","Debagarh","Dhenkanal","Gajapati","Ganjam","Jagatsinghpur","Jajpur","Jharsuguda","Kalahandi","Kandhamal","Kendrapara","Kendujhar","Khordha","Koraput","Malkangiri","Mayurbhanj","Nabarangpur","Nayagarh","Nuapada","Puri","Rayagada","Sambalpur","Subarnapur","Sundargarh"]},{name:"Punjab",districts:["Amritsar","Barnala","Bathinda","Faridkot","Fatehgarh Sahib","Fazilka","Ferozepur","Gurdaspur","Hoshiarpur","Jalandhar","Kapurthala","Ludhiana","Mansa","Moga","Muktsar","Nawanshahr","Pathankot","Patiala","Rupnagar","Sahibzada Ajit Singh Nagar","Sangrur","Tarn Taran"]},{name:"Rajasthan",districts:["Ajmer","Alwar","Banswara","Baran","Barmer","Bharatpur","Bhilwara","Bikaner","Bundi","Chittorgarh","Churu","Dausa","Dholpur","Dungarpur","Hanumangarh","Jaipur","Jaisalmer","Jalore","Jhalawar","Jhunjhunu","Jodhpur","Karauli","Kota","Nagaur","Pali","Pratapgarh","Rajsamand","Sawai Madhopur","Sikar","Sirohi","Sri Ganganagar","Tonk","Udaipur"]},{name:"Sikkim",districts:["East Sikkim","North Sikkim","South Sikkim","West Sikkim"]},{name:"Tamil Nadu",districts:["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Mayiladuthurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupattur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Viluppuram","Virudhunagar"]},{name:"Telangana",districts:["Adilabad","Bhadradri Kothagudem","Hyderabad","Jagtial","Jangaon","Jayashankar Bhupalpally","Jogulamba Gadwal","Kamareddy","Karimnagar","Khammam","Komaram Bheem Asifabad","Mahabubabad","Mahabubnagar","Mancherial","Medak","Medchal Malkajgiri","Mulugu","Nagarkurnool","Nalgonda","Narayanpet","Nirmal","Nizamabad","Peddapalli","Rajanna Sircilla","Ranga Reddy","Sangareddy","Siddipet","Suryapet","Vikarabad","Wanaparthy","Warangal Rural","Warangal Urban","Yadadri Bhuvanagiri"]},{name:"Tripura",districts:["Dhalai","Gomati","Khowai","North Tripura","Sepahijala","South Tripura","Unakoti","West Tripura"]},{name:"Uttar Pradesh",districts:["Agra","Aligarh","Ambedkar Nagar","Amethi","Amroha","Auraiya","Azamgarh","Baghpat","Bahraich","Ballia","Balrampur","Banda","Barabanki","Bareilly","Basti","Bhadohi","Bijnor","Budaun","Bulandshahr","Chandauli","Chitrakoot","Deoria","Etah","Etawah","Ayodhya","Farrukhabad","Fatehpur","Firozabad","Gautam Buddha Nagar","Ghaziabad","Ghazipur","Gonda","Gorakhpur","Hamirpur","Hapur","Hardoi","Hathras","Jalaun","Jaunpur","Jhansi","Kannauj","Kanpur Dehat","Kanpur Nagar","Kasganj","Kaushambi","Kushinagar","Lakhimpur Kheri","Lalitpur","Lucknow","Maharajganj","Mahoba","Mainpuri","Mathura","Mau","Meerut","Mirzapur","Moradabad","Muzaffarnagar","Pilibhit","Pratapgarh","Prayagraj","Raebareli","Rampur","Saharanpur","Sambhal","Sant Kabir Nagar","Shahjahanpur","Shamli","Shravasti","Siddharthnagar","Sitapur","Sonbhadra","Sultanpur","Unnao","Varanasi"]},{name:"Uttarakhand",districts:["Almora","Bageshwar","Chamoli","Champawat","Dehradun","Haridwar","Nainital","Pauri Garhwal","Pithoragarh","Rudraprayag","Tehri Garhwal","Udham Singh Nagar","Uttarkashi"]},{name:"West Bengal",districts:["Alipurduar","Bankura","Birbhum","Cooch Behar","Dakshin Dinajpur","Darjeeling","Hooghly","Howrah","Jalpaiguri","Jhargram","Kalimpong","Kolkata","Malda","Murshidabad","Nadia","North 24 Parganas","Paschim Bardhaman","Paschim Medinipur","Purba Bardhaman","Purba Medinipur","Purulia","South 24 Parganas","Uttar Dinajpur"]}],le=["India","United States","Canada","United Kingdom","Australia","Germany","France","Singapore","United Arab Emirates","Japan","Other"],Qe=o.memo(({addressData:r,editingSection:g,sectionData:l,setSectionData:m})=>{const[u,w]=o.useState(!1),[x,v]=o.useState("India"),[s,f]=o.useState("India"),p=r?.find(a=>a.addressType==="CURRENT")||{},d=r?.find(a=>a.addressType==="PERMANENT")||{},C=o.useCallback(async(a,y)=>{if(a.length===6&&/^\d{6}$/.test(a))try{const K=await(await fetch(`https://api.postalpincode.in/pincode/${a}`)).json();if(K[0].Status==="Success"){const P=K[0].PostOffice[0],V={[`${y}City`]:P.Block,[`${y}District`]:P.District,[`${y}State`]:P.State};m(Y=>({...Y,...V,...u&&y==="current"?{permanentCity:P.Block,permanentDistrict:P.District,permanentState:P.State}:{}}))}}catch{console.log("Could not fetch pincode data")}},[m,u]),k=g==="address",N=()=>{if(x==="India"){const a=G.find(y=>y.name===l.currentState);return a?a.districts:[]}return[]},A=()=>{if(s==="India"){const a=G.find(y=>y.name===l.permanentState);return a?a.districts:[]}return[]},b=o.useCallback(a=>{if(w(a),a&&k){const y={permanentAddressLine1:l.currentAddressLine1||"",permanentAddressLine2:l.currentAddressLine2||"",permanentCity:l.currentCity||"",permanentDistrict:l.currentDistrict||"",permanentState:l.currentState||"",permanentPincode:l.currentPincode||"",permanentCountry:x};m(S=>({...S,...y})),f(x)}},[l,k,m,x]);o.useCallback((a,y)=>{y==="current"?(v(a),m(S=>({...S,currentCountry:a,...a!=="India"?{currentState:"",currentDistrict:""}:{},...u?{permanentCountry:a,...a!=="India"?{permanentState:"",permanentDistrict:""}:{}}:{}})),u&&f(a)):(f(a),m(S=>({...S,permanentCountry:a,...a!=="India"?{permanentState:"",permanentDistrict:""}:{}})))},[m,u]);const i=o.useCallback((a,y)=>{m(S=>({...S,[a]:y,...u?{[a.replace("current","permanent")]:y}:{}}))},[m,u]),t=o.useCallback((a,y)=>{m(S=>({...S,[a]:y}))},[m]);return k?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"sameAddress",checked:u,onChange:a=>b(a.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"sameAddress",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Permanent address is same as current address"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Current Address"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Country *"}),e.jsx("select",{value:x,onChange:a=>{v(a.target.value),m(y=>({...y,currentCountry:a.target.value}))},className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:le.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pincode *"}),e.jsx("input",{type:"text",value:l.currentPincode||p.postalCode||"",onChange:a=>{const y=a.target.value.replace(/\D/g,"").slice(0,6);i("currentPincode",y),x==="India"&&C(y,"current")},maxLength:6,pattern:"[0-9]{6}",placeholder:x==="India"?"Enter 6-digit pincode":"Enter postal code",className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"State *"}),x==="India"?e.jsxs("select",{value:l.currentState||p.state||"",onChange:a=>{i("currentState",a.target.value),i("currentDistrict","")},className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"",children:"Select State"}),G.map(a=>e.jsx("option",{value:a.name,children:a.name},a.name))]}):e.jsx("input",{type:"text",value:l.currentState||p.state||"",onChange:a=>i("currentState",a.target.value),placeholder:"Enter state",className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"District"}),x==="India"?e.jsxs("select",{value:l.currentDistrict||p.district||"",onChange:a=>i("currentDistrict",a.target.value),className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"",children:"Select District"}),N().map(a=>e.jsx("option",{value:a,children:a},a))]}):e.jsx("input",{type:"text",value:l.currentDistrict||p.district||"",onChange:a=>i("currentDistrict",a.target.value),placeholder:"Enter district",className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"City *"}),e.jsx("input",{type:"text",value:l.currentCity||p.city||"",onChange:a=>i("currentCity",a.target.value),placeholder:"Enter city (auto-filled from pincode but can be changed)",className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address Line 1 *"}),e.jsx("input",{type:"text",value:l.currentAddressLine1||p.addressLine1||"",onChange:a=>i("currentAddressLine1",a.target.value),placeholder:"Enter address line 1",className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address Line 2"}),e.jsx("input",{type:"text",value:l.currentAddressLine2||p.addressLine2||"",onChange:a=>i("currentAddressLine2",a.target.value),placeholder:"Enter address line 2 (optional)",className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Permanent Address"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Country *"}),e.jsx("select",{value:s,onChange:a=>{f(a.target.value),m(y=>({...y,permanentCountry:a.target.value}))},disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500",children:le.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pincode *"}),e.jsx("input",{type:"text",value:l.permanentPincode||d.postalCode||"",onChange:a=>{const y=a.target.value.replace(/\D/g,"").slice(0,6);t("permanentPincode",y),s==="India"&&!u&&C(y,"permanent")},maxLength:6,pattern:"[0-9]{6}",placeholder:s==="India"?"Enter 6-digit pincode":"Enter postal code",disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"State *"}),s==="India"?e.jsxs("select",{value:l.permanentState||d.state||"",onChange:a=>{t("permanentState",a.target.value),t("permanentDistrict","")},disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500",children:[e.jsx("option",{value:"",children:"Select State"}),G.map(a=>e.jsx("option",{value:a.name,children:a.name},a.name))]}):e.jsx("input",{type:"text",value:l.permanentState||d.state||"",onChange:a=>t("permanentState",a.target.value),placeholder:"Enter state",disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"District"}),s==="India"?e.jsxs("select",{value:l.permanentDistrict||d.district||"",onChange:a=>t("permanentDistrict",a.target.value),disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500",children:[e.jsx("option",{value:"",children:"Select District"}),A().map(a=>e.jsx("option",{value:a,children:a},a))]}):e.jsx("input",{type:"text",value:l.permanentDistrict||d.district||"",onChange:a=>t("permanentDistrict",a.target.value),placeholder:"Enter district",disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"City *"}),e.jsx("input",{type:"text",value:l.permanentCity||d.city||"",onChange:a=>t("permanentCity",a.target.value),placeholder:"Enter city (auto-filled from pincode but can be changed)",disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address Line 1 *"}),e.jsx("input",{type:"text",value:l.permanentAddressLine1||d.addressLine1||"",onChange:a=>t("permanentAddressLine1",a.target.value),placeholder:"Enter address line 1",disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address Line 2"}),e.jsx("input",{type:"text",value:l.permanentAddressLine2||d.addressLine2||"",onChange:a=>t("permanentAddressLine2",a.target.value),placeholder:"Enter address line 2 (optional)",disabled:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:bg-gray-100 disabled:text-gray-500"})]})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:"Current Address"}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-white space-y-1",children:p.addressLine1?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",p.addressLine1]}),p.addressLine2&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address 2:"})," ",p.addressLine2]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"City:"})," ",p.city]}),p.district&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"District:"})," ",p.district]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"State:"})," ",p.state," - ",e.jsx("span",{className:"font-medium",children:"Pincode:"})," ",p.postalCode]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Country:"})," ",p.country]})]}):e.jsx("span",{className:"text-gray-500",children:"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:"Permanent Address"}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-white space-y-1",children:d.addressLine1?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",d.addressLine1]}),d.addressLine2&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address 2:"})," ",d.addressLine2]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"City:"})," ",d.city]}),d.district&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"District:"})," ",d.district]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"State:"})," ",d.state," - ",e.jsx("span",{className:"font-medium",children:"Pincode:"})," ",d.postalCode]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Country:"})," ",d.country]})]}):e.jsx("span",{className:"text-gray-500",children:"Not provided"})})]})]})}),Xe=o.memo(({educationData:r})=>{const[g]=Ie(),[l]=Me(),[m]=Te(),[u,w]=o.useState(!1),[x,v]=o.useState(null),[s,f]=o.useState({course:"",stream:"",institution:"",fromYear:"",toYear:"",isOngoing:!1,description:""}),p=()=>{f({course:"",stream:"",institution:"",fromYear:"",toYear:"",isOngoing:!1,description:""}),w(!1),v(null)},d=async i=>{if(i.preventDefault(),!(!s.course||!s.institution||!s.fromYear))try{await g({course:s.course,stream:s.stream||"",institution:s.institution,fromYear:parseInt(s.fromYear),toYear:s.isOngoing?void 0:parseInt(s.toYear),isOngoing:s.isOngoing,description:s.description||""}).unwrap(),p()}catch(t){console.error("Failed to add education:",t)}},C=i=>{f({course:i.course,stream:i.stream||"",institution:i.institution,fromYear:i.fromYear.toString(),toYear:i.toYear?i.toYear.toString():"",isOngoing:i.isOngoing,description:i.description||""}),v(i.id),w(!0)},k=async i=>{if(i.preventDefault(),!(!x||!s.course||!s.institution||!s.fromYear))try{await l({educationId:x,data:{course:s.course,stream:s.stream,institution:s.institution,fromYear:parseInt(s.fromYear),toYear:s.isOngoing?void 0:parseInt(s.toYear),isOngoing:s.isOngoing,description:s.description}}).unwrap(),p()}catch(t){console.error("Failed to update education:",t)}},N=async i=>{if(confirm("Are you sure you want to delete this education record?"))try{await m(i).unwrap()}catch(t){console.error("Failed to delete education:",t)}},A=[...r||[]].sort((i,t)=>t.fromYear-i.fromYear),b=A.length>=3;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(re,{className:"h-5 w-5 mr-2"}),"Education"]}),e.jsxs("button",{onClick:()=>w(!u),disabled:b&&!x,className:`inline-flex items-center px-3 py-2 text-sm font-medium ${b&&!x?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:text-blue-700 dark:text-blue-400"}`,children:[e.jsx(oe,{className:"h-4 w-4 mr-1"}),b&&!x?"Maximum 3 Education Entries":"Add Education"]})]}),u&&e.jsxs("form",{onSubmit:x?k:d,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-4",children:x?"Edit Education":"Add Education"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course/Degree *"}),e.jsx("input",{type:"text",required:!0,value:s.course,onChange:i=>f(t=>({...t,course:i.target.value})),placeholder:"e.g., Bachelor of Technology, MBA, XII",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Field of Study"}),e.jsx("input",{type:"text",value:s.stream,onChange:i=>f(t=>({...t,stream:i.target.value})),placeholder:"e.g., Computer Science, Finance",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Institution *"}),e.jsx("input",{type:"text",required:!0,value:s.institution,onChange:i=>f(t=>({...t,institution:i.target.value})),placeholder:"School/College/University name",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Year *"}),e.jsx("input",{type:"number",required:!0,min:"1950",max:new Date().getFullYear()+10,value:s.fromYear,onChange:i=>f(t=>({...t,fromYear:i.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Year"}),e.jsx("input",{type:"number",min:"1950",max:new Date().getFullYear()+10,value:s.toYear,onChange:i=>f(t=>({...t,toYear:i.target.value})),disabled:s.isOngoing,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800"})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"education-ongoing",checked:s.isOngoing,onChange:i=>f(t=>({...t,isOngoing:i.target.checked,toYear:i.target.checked?"":t.toYear})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"education-ongoing",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"I am currently studying here"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{rows:3,value:s.description,onChange:i=>f(t=>({...t,description:i.target.value})),placeholder:"Describe your studies, achievements, activities...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[e.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x?"Update":"Add"," Education"]})]})]}),e.jsx("div",{className:"space-y-4",children:A.length>0?A.map(i=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[i.course,i.stream&&e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[" â€¢ ",i.stream]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:i.institution}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i.fromYear," - ",i.isOngoing?"Present":i.toYear]}),i.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:i.description})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>C(i),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 p-1",title:"Edit",children:e.jsx(Z,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(i.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 p-1",title:"Delete",children:e.jsx(q,{className:"h-4 w-4"})})]})]})},i.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(re,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No education history added yet"}),e.jsx("p",{className:"text-sm",children:"Add your educational background to showcase your qualifications"})]})})]})}),ea=o.memo(({workData:r})=>{const[g]=Fe(),[l]=Le(),[m]=Ke(),[u,w]=o.useState(!1),[x,v]=o.useState(null),[s,f]=o.useState({jobRole:"",companyName:"",companyType:"",workAddress:"",fromYear:"",toYear:"",isCurrentJob:!1,description:""}),p=["GOVERNMENT","PRIVATE","STARTUP","NGO","FREELANCE","SELF_EMPLOYED"],d=()=>{f({jobRole:"",companyName:"",companyType:"",workAddress:"",fromYear:"",toYear:"",isCurrentJob:!1,description:""}),w(!1),v(null)},C=async t=>{if(t.preventDefault(),!(!s.jobRole||!s.companyName||!s.fromYear))try{await g({jobRole:s.jobRole,companyName:s.companyName,companyType:s.companyType||void 0,workAddress:s.workAddress||void 0,fromYear:parseInt(s.fromYear),toYear:s.isCurrentJob?void 0:parseInt(s.toYear),isCurrentJob:s.isCurrentJob,description:s.description||void 0}).unwrap(),d()}catch(a){console.error("Failed to add work experience:",a)}},k=t=>{f({jobRole:t.jobRole,companyName:t.companyName,companyType:t.companyType||"",workAddress:t.workAddress||"",fromYear:t.fromYear.toString(),toYear:t.toYear?t.toYear.toString():"",isCurrentJob:t.isCurrentJob,description:t.description||""}),v(t.id),w(!0)},N=async t=>{if(t.preventDefault(),!(!x||!s.jobRole||!s.companyName||!s.fromYear))try{await l({workId:x,data:{jobRole:s.jobRole,companyName:s.companyName,companyType:s.companyType||void 0,workAddress:s.workAddress||void 0,fromYear:parseInt(s.fromYear),toYear:s.isCurrentJob?void 0:parseInt(s.toYear),isCurrentJob:s.isCurrentJob,description:s.description||void 0}}).unwrap(),d()}catch(a){console.error("Failed to update work experience:",a)}},A=async t=>{if(confirm("Are you sure you want to delete this work experience?"))try{await m(t).unwrap()}catch(a){console.error("Failed to delete work experience:",a)}},b=[...r||[]].sort((t,a)=>a.fromYear-t.fromYear),i=b.length>=3;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(te,{className:"h-5 w-5 mr-2"}),"Work Experience"]}),e.jsxs("button",{onClick:()=>w(!u),disabled:i&&!x,className:`inline-flex items-center px-3 py-2 text-sm font-medium ${i&&!x?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:text-blue-700 dark:text-blue-400"}`,children:[e.jsx(oe,{className:"h-4 w-4 mr-1"}),i&&!x?"Maximum 3 Work Experiences":"Add Experience"]})]}),u&&e.jsxs("form",{onSubmit:x?N:C,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-4",children:x?"Edit Experience":"Add Experience"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Title *"}),e.jsx("input",{type:"text",required:!0,value:s.jobRole,onChange:t=>f(a=>({...a,jobRole:t.target.value})),placeholder:"e.g., Software Developer, Marketing Manager",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company *"}),e.jsx("input",{type:"text",required:!0,value:s.companyName,onChange:t=>f(a=>({...a,companyName:t.target.value})),placeholder:"Company name",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Type"}),e.jsxs("select",{value:s.companyType,onChange:t=>f(a=>({...a,companyType:t.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",children:[e.jsx("option",{value:"",children:"Select type"}),p.map(t=>e.jsx("option",{value:t,children:t.replace("_"," ")},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:s.workAddress,onChange:t=>f(a=>({...a,workAddress:t.target.value})),placeholder:"City, State, Country",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Year *"}),e.jsx("input",{type:"number",required:!0,min:"1950",max:new Date().getFullYear(),value:s.fromYear,onChange:t=>f(a=>({...a,fromYear:t.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Year"}),e.jsx("input",{type:"number",min:"1950",max:new Date().getFullYear(),value:s.toYear,onChange:t=>f(a=>({...a,toYear:t.target.value})),disabled:s.isCurrentJob,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800"})]}),e.jsxs("div",{className:"md:col-span-2 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"work-current",checked:s.isCurrentJob,onChange:t=>f(a=>({...a,isCurrentJob:t.target.checked,toYear:t.target.checked?"":a.toYear})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"work-current",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"I currently work here"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{rows:4,value:s.description,onChange:t=>f(a=>({...a,description:t.target.value})),placeholder:"Describe your role, responsibilities, achievements...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[x?"Update":"Add"," Experience"]})]})]}),e.jsx("div",{className:"space-y-4",children:b.length>0?b.map(t=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.jobRole}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:t.companyName}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1 space-x-2",children:[e.jsxs("span",{children:[t.fromYear," - ",t.isCurrentJob?"Present":t.toYear]}),t.workAddress&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:t.workAddress})]}),t.companyType&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:t.companyType.replace("_"," ")})]})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:t.description})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>k(t),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 p-1",title:"Edit",children:e.jsx(Z,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>A(t.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 p-1",title:"Delete",children:e.jsx(q,{className:"h-4 w-4"})})]})]})},t.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(te,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No work experience added yet"}),e.jsx("p",{className:"text-sm",children:"Add your professional experience to showcase your career journey"})]})})]})}),Sa=()=>{const{data:r,isLoading:g,error:l,refetch:m}=Se(void 0,{refetchOnFocus:!1,refetchOnReconnect:!1,refetchOnMountOrArgChange:!1}),{auth:u}=Ue(),[w]=Ce(),[x]=Ee(),{data:v,error:s,isLoading:f,refetch:p}=Ae(),[d]=Pe(),{data:C}=De(),{data:k}=Be(),[N,A]=o.useState("about"),[b,i]=o.useState(null),[t,a]=o.useState({}),[y,S]=o.useState(!1),[K,P]=o.useState(Date.now()),[V,Y]=o.useState(!1),R=o.useRef(null),W=o.useRef(null),D=o.useCallback((n,c)=>{a(h=>({...h,[n]:c}))},[]);if(o.useEffect(()=>{const n=c=>{W.current&&!W.current.contains(c.target)&&S(!1)};return y&&document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[y]),g)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(l||!r)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(J,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load profile"})]})});const I=n=>{switch(i(n),n){case"personal":a({bio:r.bio||"",dateOfBirth:r.dateOfBirth?r.dateOfBirth.split("T")[0]:"",employmentStatus:r.employmentStatus||"OPEN_TO_WORK",bloodGroup:r.bloodGroup||""});break;case"contact":a({whatsappNumber:r.whatsappNumber||"",alternateNumber:r.alternateNumber||"",showEmail:r.showEmail??!0,showPhone:r.showPhone??!1});break;case"social":a({linkedinUrl:r.linkedinUrl||"",instagramUrl:r.instagramUrl||"",facebookUrl:r.facebookUrl||"",twitterUrl:r.twitterUrl||"",portfolioUrl:r.portfolioUrl||""});break;case"privacy":a({isProfilePublic:r.isProfilePublic??!0,showEmail:r.showEmail??!0,showPhone:r.showPhone??!1});break;case"address":const c=v?.find(j=>j.addressType==="CURRENT")||{addressLine1:"",addressLine2:"",city:"",district:"",state:"",postalCode:"",country:"India"},h=v?.find(j=>j.addressType==="PERMANENT")||{addressLine1:"",addressLine2:"",city:"",district:"",state:"",postalCode:"",country:"India"};a({currentAddressLine1:c.addressLine1||"",currentAddressLine2:c.addressLine2||"",currentCity:c.city||"",currentDistrict:c.district||"",currentState:c.state||"",currentPincode:c.postalCode||"",currentCountry:c.country||"India",permanentAddressLine1:h.addressLine1||"",permanentAddressLine2:h.addressLine2||"",permanentCity:h.city||"",permanentDistrict:h.district||"",permanentState:h.state||"",permanentPincode:h.postalCode||"",permanentCountry:h.country||"India"});break;default:a({})}},M=async n=>{try{if(n==="address"){const c={addressLine1:t.currentAddressLine1||"",addressLine2:t.currentAddressLine2||"",city:t.currentCity||"",district:t.currentDistrict||"",state:t.currentState||"",postalCode:t.currentPincode||"",country:t.currentCountry||"India"},h={addressLine1:t.permanentAddressLine1||"",addressLine2:t.permanentAddressLine2||"",city:t.permanentCity||"",district:t.permanentDistrict||"",state:t.permanentState||"",postalCode:t.permanentPincode||"",country:t.permanentCountry||"India"};await Promise.all([d({addressType:"CURRENT",data:c}).unwrap(),d({addressType:"PERMANENT",data:h}).unwrap()]),await p()}else n==="career"||await w(t).unwrap();i(null),a({}),alert("Section updated successfully!"),await m()}catch(c){console.error("Failed to update section:",c),alert("Failed to update section. Please try again.")}},T=()=>{i(null),a({})},ce=()=>{S(!y)},me=()=>{R.current&&(R.current.value=""),R.current?.click(),S(!1)},ue=async()=>{if(r.profileImage)try{confirm("Are you sure you want to delete your profile picture?")&&(await x().unwrap(),alert("Profile picture deleted successfully!"),P(Date.now()),await m())}catch(n){console.error("âŒ Failed to delete profile picture:",n),alert(n.message||"Failed to delete profile picture. Please try again.")}finally{S(!1)}},he=async n=>{const c=n.target.files?.[0];if(c){if(!c.type.startsWith("image/")){alert("Please select an image file");return}if(c.size>5*1024*1024){alert("File size must be less than 5MB");return}try{const h=new FormData;h.append("profileImage",c),console.log("ðŸ” Uploading file:",c.name,c.type,c.size),console.log("ðŸ” Using plain fetch (like organization logo upload)"),console.log("ðŸ” Making fetch request with FormData"),console.log("ðŸ” Auth token exists:",!!u?.token);const j=await fetch("http://localhost:3000/api/users/profile-picture",{method:"PUT",headers:{Authorization:`Bearer ${u?.token}`},body:h});console.log("ðŸ” Response status:",j.status),console.log("ðŸ” Response headers:",[...j.headers.entries()]);const E=await j.json();if(!j.ok)throw new Error(E.message||"Upload failed");console.log("âœ… Profile picture uploaded successfully:",E),alert(r.profileImage?"Profile picture replaced successfully!":"Profile picture uploaded successfully!"),P(Date.now()),await m(),R.current&&(R.current.value="")}catch(h){console.error("âŒ Failed to upload profile picture:",h),alert(h.message||"Failed to upload profile picture. Please try again.")}}},L=(()=>{const n=[{value:r.fullName,weight:10},{value:r.email,weight:10},{value:r.batch,weight:10},{value:r.bio,weight:10},{value:r.dateOfBirth,weight:5},{value:r.employmentStatus,weight:10},{value:r.bloodGroup,weight:5},{value:r.whatsappNumber,weight:10},{value:r.profileImage,weight:10},{value:r.admissionYear,weight:5},{value:r.passoutYear,weight:5},{value:r.linkedinUrl||r.facebookUrl||r.instagramUrl||r.twitterUrl||r.portfolioUrl,weight:5}],c=n.reduce((j,E)=>j+E.weight,0),h=n.reduce((j,E)=>j+(E.value?E.weight:0),0);return Math.round(h/c*100)})(),xe=()=>r.verificationContext?.isBlacklisted?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Blacklisted"}):r.isRejected?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Rejected"}):r.pendingVerification?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",children:"Pending"}):r.isAlumniVerified?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 mx-auto sm:mx-0",children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),"Verified Alumni"]}):null,ge=()=>{const{data:n}=Re(),c=n?.status||r.membershipStatus,j=(U=>{switch(U){case"ACTIVE":return{color:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",label:"Active Member",icon:ne};case"EXPIRED":return{color:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",label:"Expired",icon:se};case"PENDING":return{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",label:"Pending",icon:se};case"SUSPENDED":return{color:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",label:"Suspended",icon:_};default:return{color:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",label:"Inactive",icon:_}}})(c),E=j.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.color}`,children:[e.jsx(E,{className:"h-3 w-3 mr-1"}),j.label]})},pe=()=>{const[n,c]=o.useState({isProfilePublic:r.isProfilePublic,showEmail:r.showEmail,showPhone:r.showPhone}),[h,j]=o.useState(!1),E=async(U,Q)=>{const ye={...n,[U]:Q};c(ye);try{j(!0),await w({[U]:Q}).unwrap(),await m()}catch(fe){console.error("Failed to update privacy setting:",fe),c(n)}finally{j(!1)}};return e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 md:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>E("isProfilePublic",!n.isProfilePublic),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.isProfilePublic?"bg-green-500":"bg-gray-400"} ${h?"opacity-50":""}`,disabled:h,children:[e.jsx("span",{className:"sr-only",children:"Toggle public profile"}),e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.isProfilePublic?"translate-x-6":"translate-x-1"}`})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ae,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-300"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-300 whitespace-nowrap",children:"Public Profile"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>E("showEmail",!n.showEmail),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.showEmail?"bg-green-500":"bg-gray-400"} ${h?"opacity-50":""}`,disabled:h,children:[e.jsx("span",{className:"sr-only",children:"Toggle show email"}),e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.showEmail?"translate-x-6":"translate-x-1"}`})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(X,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-300"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-300 whitespace-nowrap",children:"Show Email"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>E("showPhone",!n.showPhone),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.showPhone?"bg-green-500":"bg-gray-400"} ${h?"opacity-50":""}`,disabled:h,children:[e.jsx("span",{className:"sr-only",children:"Toggle show phone"}),e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.showPhone?"translate-x-6":"translate-x-1"}`})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ee,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-300"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-300 whitespace-nowrap",children:"Show Phone"})]})]})]})},be=()=>{const n=[{url:r.linkedinUrl,icon:"linkedin",name:"LinkedIn"},{url:r.facebookUrl,icon:"facebook",name:"Facebook"},{url:r.instagramUrl,icon:"instagram",name:"Instagram"},{url:r.twitterUrl,icon:"twitter",name:"Twitter"},{url:r.portfolioUrl,icon:"portfolio",name:"Portfolio"}].filter(h=>h.url);if(n.length===0)return null;const c=h=>{switch(h){case"linkedin":return e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})});case"facebook":return e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})});case"instagram":return e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.618 5.367 11.986 11.988 11.986 6.618 0 11.986-5.368 11.986-11.986C24.003 5.367 18.635.001 12.017.001zM8.449 2.678c3.549 0 6.42 2.87 6.42 6.42 0 3.548-2.871 6.419-6.42 6.419-3.548 0-6.419-2.871-6.419-6.419 0-3.55 2.871-6.42 6.419-6.42zm7.064 16.646h-1.905v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H7.715V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286z"})});case"twitter":return e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})});case"portfolio":return e.jsx(ae,{className:"h-5 w-5"});default:return e.jsx(Ve,{className:"h-5 w-5"})}};return e.jsx("div",{className:"flex items-center justify-center sm:justify-start space-x-3",children:n.map((h,j)=>e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10",title:h.name,children:c(h.icon)},j))})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"min-h-[400px] sm:min-h-0 sm:h-56 md:h-64 bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 relative flex items-end justify-center sm:justify-start",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),e.jsxs("div",{className:"relative w-full pb-6 px-4 sm:px-6 md:px-8 flex flex-col sm:flex-row items-center sm:items-end space-y-4 sm:space-y-0 sm:space-x-6 md:space-x-8 z-10",children:[e.jsxs("div",{className:"relative flex-shrink-0 self-center sm:self-auto",children:[e.jsxs("div",{className:"w-24 h-24 sm:w-32 sm:h-32 md:w-36 md:h-36 rounded-full overflow-hidden bg-white shadow-xl border-4 border-white",children:[r.profileImage?e.jsx("img",{src:`http://localhost:3000/api/users/profile-picture/${r.id}?t=${K}`,alt:r.fullName,className:"w-full h-full object-cover",onError:n=>{n.currentTarget.style.display="none",n.currentTarget.nextElementSibling?.setAttribute("style","display: flex")}}):null,e.jsx("div",{className:`w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-700 ${r.profileImage?"hidden":""}`,children:e.jsx(H,{className:"h-20 w-20 text-gray-400"})})]}),e.jsx("button",{onClick:ce,className:"absolute bottom-0 right-0 w-8 h-8 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-105 border-2 border-white dark:border-gray-800",title:"Photo options",children:e.jsx(Je,{className:"h-4 w-4 text-white"})}),y&&e.jsxs("div",{ref:W,className:"absolute top-full mt-2 right-0 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 py-1 z-50 animate-in slide-in-from-top-2 duration-200",children:[e.jsxs("button",{onClick:me,className:"w-full px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center space-x-3 transition-colors duration-150 first:rounded-t-lg",children:[e.jsx($e,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r.profileImage?"Replace Photo":"Upload Photo"})]}),r.profileImage&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 dark:border-gray-600 my-1"}),e.jsxs("button",{onClick:ue,className:"w-full px-4 py-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center space-x-3 transition-colors duration-150 last:rounded-b-lg",children:[e.jsx(q,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:"Delete Photo"})]})]})]}),e.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:he,className:"hidden"})]}),e.jsxs("div",{className:"text-white pb-2 flex-1 min-w-0 text-center sm:text-left w-full sm:w-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-center sm:justify-start space-y-2 sm:space-y-0 sm:space-x-4 mb-3",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold",children:r.fullName}),e.jsx(xe,{})]}),r.serialId&&e.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 mb-2",children:[e.jsx(ie,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white/80 flex-shrink-0"}),e.jsxs("span",{className:"text-sm sm:text-base md:text-lg font-medium text-white/90",children:["Serial ID: ",e.jsx("span",{className:"font-bold",children:r.serialId})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-2 sm:gap-3 md:gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 px-3 py-1 rounded-full",children:[e.jsx(H,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium whitespace-nowrap",children:r.role.replace("_"," ")})]}),e.jsx(ge,{})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-center sm:justify-start gap-2 sm:gap-4 md:gap-6 text-xs sm:text-sm text-white/90 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-1 flex-shrink-0",children:[r.isProfilePublic?e.jsx($,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-400",title:"Profile is public"}):e.jsx(O,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-400",title:"Profile is private"}),e.jsx("span",{className:"text-xs whitespace-nowrap",children:"Profile"})]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 min-w-0",children:[e.jsx(X,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:r.email}),r.showEmail?e.jsx($,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-400 flex-shrink-0",title:"Email visible to others"}):e.jsx(O,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-400 flex-shrink-0",title:"Email hidden from others"})]}),(r.whatsappNumber||r.alternateNumber)&&e.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 min-w-0",children:[e.jsx(ee,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 flex-shrink-0"}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[r.whatsappNumber&&e.jsx("span",{title:"WhatsApp",className:"whitespace-nowrap",children:r.whatsappNumber}),r.whatsappNumber&&r.alternateNumber&&e.jsx("span",{className:"text-white/50",children:"|"}),r.alternateNumber&&e.jsx("span",{title:"Alternate",className:"whitespace-nowrap",children:r.alternateNumber})]}),r.showPhone?e.jsx($,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-green-400 flex-shrink-0",title:"Phone numbers visible to others"}):e.jsx(O,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-yellow-400 flex-shrink-0",title:"Phone numbers hidden from others"})]})]}),e.jsx(be,{})]})]})]}),e.jsx("div",{className:"bg-gray-800 text-white px-4 sm:px-6 md:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Batch"}),e.jsx("div",{className:"text-sm font-medium",children:r.batch})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Admission Year"}),e.jsx("div",{className:"text-sm font-medium",children:r.admissionYear||"Not Set"})]}),e.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[e.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Passout Year"}),e.jsx("div",{className:"text-sm font-medium",children:r.passoutYear||"Not Set"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[e.jsxs("button",{onClick:()=>Y(!0),className:"inline-flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors duration-200",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"ID Card"}),e.jsx("span",{className:"sm:hidden",children:"ID"})]}),e.jsx(pe,{})]})]})})]}),L<100&&e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:"Profile Completion"}),e.jsxs("span",{className:"text-xs sm:text-sm font-bold text-gray-900 dark:text-white",children:[L,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${L>=80?"bg-green-500":L>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${L}%`}})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:e.jsx("div",{className:"px-4 sm:px-6 md:px-8",children:e.jsx("nav",{className:"flex space-x-4 sm:space-x-6 md:space-x-8 min-w-max sm:min-w-0",children:[{key:"about",label:"ABOUT"},{key:"address",label:"ADDRESS"},{key:"career",label:"CAREER"},{key:"social",label:"SOCIAL SERVICE"}].map(n=>e.jsx("button",{onClick:()=>A(n.key),className:`py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap ${N===n.key?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:n.label},n.key))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 py-4 sm:py-6 md:py-8",children:[N==="about"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6 md:space-y-8",children:[e.jsx(F,{title:"Personal Information",sectionKey:"personal",editingSection:b,onEditSection:I,onSaveSection:M,onCancelEdit:T,children:e.jsxs("div",{className:"space-y-4",children:[b==="personal"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"About Me"}),e.jsx("textarea",{defaultValue:r.bio||"",onChange:n=>{a(c=>({...c,bio:n.target.value}))},placeholder:"Tell us about yourself.",rows:4,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"About Me"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.bio||"Not Set"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[b==="personal"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Admission Year"}),e.jsx("input",{type:"number",min:"1950",max:new Date().getFullYear(),value:t.admissionYear||r.admissionYear||"",onChange:n=>{a(c=>({...c,admissionYear:parseInt(n.target.value)||null}))},placeholder:"e.g., 2010",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Admission Year"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.admissionYear||"Not Set"})]}),b==="personal"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passout Year"}),e.jsx("input",{type:"number",min:"1950",max:new Date().getFullYear()+10,value:t.passoutYear||r.passoutYear||"",onChange:n=>{a(c=>({...c,passoutYear:parseInt(n.target.value)||null}))},placeholder:"e.g., 2016",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Passout Year"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.passoutYear||"Not Set"})]}),b==="personal"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Birth"}),e.jsx("input",{type:"date",value:t.dateOfBirth||r.dateOfBirth?.split("T")[0]||"",onChange:n=>{a(c=>({...c,dateOfBirth:n.target.value}))},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Date of Birth"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.dateOfBirth?.split("T")[0]||"Not Set"})]}),b==="personal"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Employment Status"}),e.jsxs("select",{value:t.employmentStatus||r.employmentStatus||"",onChange:n=>{a(c=>({...c,employmentStatus:n.target.value}))},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"WORKING",children:"Working"}),e.jsx("option",{value:"STUDYING",children:"Studying"}),e.jsx("option",{value:"OPEN_TO_WORK",children:"Open to Work"}),e.jsx("option",{value:"ENTREPRENEUR",children:"Entrepreneur"}),e.jsx("option",{value:"RETIRED",children:"Retired"})]})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Employment Status"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.employmentStatus?.replace("_"," ")||"Not Set"})]}),b==="personal"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Blood Group"}),e.jsxs("select",{value:t.bloodGroup||r.bloodGroup||"",onChange:n=>{a(c=>({...c,bloodGroup:n.target.value}))},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Blood Group"}),e.jsx("option",{value:"A_POSITIVE",children:"A+"}),e.jsx("option",{value:"A_NEGATIVE",children:"A-"}),e.jsx("option",{value:"B_POSITIVE",children:"B+"}),e.jsx("option",{value:"B_NEGATIVE",children:"B-"}),e.jsx("option",{value:"AB_POSITIVE",children:"AB+"}),e.jsx("option",{value:"AB_NEGATIVE",children:"AB-"}),e.jsx("option",{value:"O_POSITIVE",children:"O+"}),e.jsx("option",{value:"O_NEGATIVE",children:"O-"})]})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Blood Group"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.bloodGroup?r.bloodGroup.replace("_POSITIVE","+").replace("_NEGATIVE","-").replace("_",""):"Not Set"})]})]})]})}),e.jsxs(F,{title:"Basic Details",sectionKey:"basic",canEdit:!1,editingSection:b,onEditSection:I,onSaveSection:M,onCancelEdit:T,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(z,{label:"Full Name",value:r.fullName}),e.jsx(z,{label:"Email",value:r.email}),e.jsx(z,{label:"Batch",value:r.batch})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"These are verified details and cannot be changed. Contact admin if corrections are needed."})]})})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[e.jsx(F,{title:"Contact Information",sectionKey:"contact",canEdit:!0,editingSection:b,onEditSection:I,onSaveSection:M,onCancelEdit:T,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b==="contact"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",value:t.whatsappNumber||r.whatsappNumber||"",onChange:n=>{const c=n.target.value.replace(/\D/g,"").slice(0,10);a(h=>({...h,whatsappNumber:c}))},maxLength:10,pattern:"[0-9]{10}",placeholder:"Enter WhatsApp number",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"WhatsApp Number"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.whatsappNumber||"Not Set"})]}),b==="contact"?e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Alternate Number"}),e.jsx("input",{type:"tel",value:t.alternateNumber||r.alternateNumber||"",onChange:n=>{const c=n.target.value.replace(/\D/g,"").slice(0,10);a(h=>({...h,alternateNumber:c}))},maxLength:10,pattern:"[0-9]{10}",placeholder:"Enter alternate number",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"})]}):e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Alternate Number"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-medium",children:r.alternateNumber||"Not Set"})]})]})}),e.jsx(F,{title:"Social Links",sectionKey:"social",editingSection:b,onEditSection:I,onSaveSection:M,onCancelEdit:T,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{label:"LinkedIn URL",value:r.linkedinUrl,isEditing:b==="social",fieldKey:"linkedinUrl",placeholder:"https://linkedin.com/in/username",sectionData:t,onFieldChange:D}),e.jsx(B,{label:"Instagram URL",value:r.instagramUrl,isEditing:b==="social",fieldKey:"instagramUrl",placeholder:"https://instagram.com/username",sectionData:t,onFieldChange:D}),e.jsx(B,{label:"Facebook URL",value:r.facebookUrl,isEditing:b==="social",fieldKey:"facebookUrl",placeholder:"https://facebook.com/username",sectionData:t,onFieldChange:D}),e.jsx(B,{label:"Twitter URL",value:r.twitterUrl,isEditing:b==="social",fieldKey:"twitterUrl",placeholder:"https://twitter.com/username",sectionData:t,onFieldChange:D}),e.jsx(B,{label:"Portfolio URL",value:r.portfolioUrl,isEditing:b==="social",fieldKey:"portfolioUrl",placeholder:"https://yourportfolio.com",sectionData:t,onFieldChange:D})]})})]})]}),N==="address"&&e.jsx("div",{className:"space-y-8",children:e.jsx(F,{title:"Address Information",sectionKey:"address",editingSection:b,onEditSection:I,onSaveSection:M,onCancelEdit:T,children:e.jsx(Qe,{addressData:v,editingSection:b,sectionData:t,setSectionData:a})})}),N==="career"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsx(Xe,{educationData:C})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsx(ea,{workData:k})})]}),N==="social"&&e.jsx("div",{className:"space-y-8",children:e.jsx(F,{title:"Blood Donation Record",sectionKey:"bloodDonation",editingSection:b,onEditSection:I,onSaveSection:M,onCancelEdit:T,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(B,{label:"Blood Donor",value:r.isBloodDonor,type:"checkbox",isEditing:b==="bloodDonation",fieldKey:"isBloodDonor",sectionData:t,onFieldChange:D}),e.jsx(B,{label:"Last Blood Donation Date",value:r.lastBloodDonationDate?new Date(r.lastBloodDonationDate).toLocaleDateString():null,type:"date",isEditing:b==="bloodDonation",fieldKey:"lastBloodDonationDate",sectionData:t,onFieldChange:D}),e.jsx(B,{label:"Total Blood Donations",value:r.totalBloodDonations,type:"text",isEditing:b==="bloodDonation",fieldKey:"totalBloodDonations",placeholder:"0",sectionData:t,onFieldChange:D})]})})}),N==="documents"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Documents"})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No documents uploaded yet"})})]}),N==="assets"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Assets"})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No assets assigned yet"})})]})]}),e.jsx("div",{className:"h-16 md:hidden"}),e.jsx(qe,{isOpen:V,onClose:()=>Y(!1),profile:r})]})};export{Sa as default};
//# sourceMappingURL=Profile-DA1tT3zQ.js.map
