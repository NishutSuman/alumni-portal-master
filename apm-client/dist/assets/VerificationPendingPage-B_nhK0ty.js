import{j as e,m as l}from"./ui-DhYQrQWF.js";import{r as m}from"./router-BgvBx64T.js";import{u as F,z as x,o as R}from"./index-CZ6-uofb.js";import{D as C}from"./redux-CfKcOgfB.js";import{b as B}from"./api-CtsDlLFZ.js";import{F as f}from"./ClockIcon-53QLE2kZ.js";import{F as g}from"./XMarkIcon-B58Eb0hU.js";import{F as $}from"./EnvelopeIcon-CJwyn6tp.js";import{F as Y}from"./UserGroupIcon-DpuBUa9P.js";import{F as E}from"./PencilIcon-CGtBlyj4.js";import{F as S}from"./CheckIcon-B_tjaMlt.js";import{F as I}from"./ExclamationTriangleIcon-CN3zIufB.js";import{F as P}from"./ArrowRightOnRectangleIcon-DXwFpGP6.js";import"./vendor-c5ypKtDW.js";import"./utils-CXyNmL__.js";const Q=()=>{const{user:r,logout:y}=F(),p=C(),[u,d]=m.useState(!1),[i,n]=m.useState(r?.batch||""),[o,h]=m.useState(!1),t=r?.isRejected;r?.pendingVerification;const j=r?.verificationContext?.isBlacklisted,k=r?.verificationContext?.blacklistInfo,w=async()=>{await y()},N=()=>{n(r?.batch||""),d(!0)},b=()=>{d(!1),n(r?.batch||"")},v=async()=>{if(!i||i===r?.batch){b();return}const s=parseInt(i.toString());if(isNaN(s)||s<1980||s>2030){x.error("Please enter a valid batch year between 1980 and 2030");return}h(!0);try{const a=await B.put("/users/profile",{batch:s,resetVerificationStatus:t});if(a.data.success){a.data.data&&p(R(a.data.data));const c=t?"Batch year updated and verification status reset! Your application will be reviewed again by the correct batch admin.":"Batch year updated successfully! Your verification will be reassigned to the correct batch admin.";x.success(c),d(!1)}else throw new Error(a.data.message||"Update failed")}catch(a){console.error("Batch update error:",a);const c=a?.response?.data?.message||a?.message||"Failed to update batch year";x.error(c)}finally{h(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto h-20 w-20 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mb-6",children:e.jsx(f,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:t?"Verification Status":"Verification Pending"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:t?"Your verification request requires attention":"Your alumni status is being reviewed by our administrators"})]}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-8 mb-6",children:j?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-6",children:e.jsx(g,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-2xl font-semibold text-red-900 dark:text-red-100 mb-4",children:"Application Rejected"}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 mb-6",children:[e.jsx("p",{className:"text-red-800 dark:text-red-200 text-lg mb-4",children:"Your application has been rejected to create an account with our organisation."}),e.jsx("p",{className:"text-red-700 dark:text-red-300 mb-4",children:k?.reason||"Your registration could not be verified with our alumni records."}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"Please reach out to our admin team for further assistance."})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Contact Administration"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["For questions or appeals, contact:"," ",e.jsx("a",{href:"mailto:admin@alumni-portal.com",className:"text-blue-600 hover:text-blue-800 underline font-medium",children:"admin@alumni-portal.com"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:["Hello, ",r?.fullName,"! ðŸ‘‹"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Thank you for registering with Alumni Portal. Your account has been created successfully, but we need to verify your alumni status before you can access all features."})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"flex items-center p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Email Verified âœ…"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:r?.email})]})]}),e.jsxs("div",{className:`p-4 ${t?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800"} rounded-lg`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Y,{className:`h-6 w-6 ${t?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400"}`})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("h3",{className:`text-sm font-medium ${t?"text-red-800 dark:text-red-200":"text-yellow-800 dark:text-yellow-200"}`,children:["Alumni Status: ",t?"Not Approved âŒ":"Pending Review â³"]}),e.jsx("div",{className:"mt-1",children:u?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Batch:"}),e.jsx("input",{type:"number",value:i,onChange:s=>n(s.target.value),className:"w-20 px-2 py-1 text-sm border  border-yellow-300 rounded bg-black focus:outline-none focus:border-yellow-500",min:"1980",max:"2030",disabled:o}),e.jsx("button",{onClick:v,disabled:o,className:"p-1 text-green-600 hover:text-green-800 transition-colors disabled:opacity-50",title:"Save changes",children:e.jsx(S,{className:"h-4 w-4"})}),e.jsx("button",{onClick:b,disabled:o,className:"p-1 text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",title:"Cancel editing",children:e.jsx(g,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:`text-sm ${t?"text-red-700 dark:text-red-300":"text-yellow-700 dark:text-yellow-300"}`,children:["Batch: ",r?.batch," | ",t?"Verification rejected":"Claimed as alumni"]}),e.jsxs("button",{onClick:N,className:`flex items-center px-3 py-1 text-xs ${t?"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200 bg-red-100 dark:bg-red-800/20 hover:bg-red-200 dark:hover:bg-red-800/30 border border-red-300 dark:border-red-600":"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-200 bg-yellow-100 dark:bg-yellow-800/20 hover:bg-yellow-200 dark:hover:bg-yellow-800/30 border border-yellow-300 dark:border-yellow-600"} rounded transition-colors`,title:t?"Change batch to retry verification":"Edit batch year",children:[e.jsx(E,{className:"h-3 w-3 mr-1"}),t?"Change Batch":"Edit"]})]})})]})]}),t&&r?.rejectionReason&&e.jsxs("div",{className:"mt-3 p-3 bg-red-100 dark:bg-red-800/30 border border-red-200 dark:border-red-700 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-1",children:"Rejection Reason:"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:r.rejectionReason}),e.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:"ðŸ’¡ You can change your batch year above to retry verification with the correct batch admin."})]}),u&&e.jsx("div",{className:`mt-3 p-3 ${t?"bg-red-100 dark:bg-red-800/30":"bg-yellow-100 dark:bg-yellow-800/30"} rounded-md`,children:e.jsxs("p",{className:`text-xs ${t?"text-red-700 dark:text-red-300":"text-yellow-700 dark:text-yellow-300"}`,children:["ðŸ’¡ ",e.jsx("strong",{children:"Note:"})," ",t?"Changing your batch year will reset your rejection status and submit a new verification request to the correct batch admin.":"Changing your batch year will update which admin reviews your verification. Make sure to enter the correct passout year for proper assignment to batch admins."]})})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-4",children:t?"What can you do now?":"What happens next?"}),e.jsx("ul",{className:"space-y-3 text-blue-800 dark:text-blue-200",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"1"}),e.jsx("span",{children:"Review the rejection reason above to understand why your verification was not approved"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"2"}),e.jsx("span",{children:'If you believe your batch year was incorrect, use the "Change Batch" button above to update it'})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"3"}),e.jsx("span",{children:"Changing your batch will reset your rejection status and submit a new verification request"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"4"}),e.jsx("span",{children:"Contact support if you need additional help or have questions about the rejection"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"1"}),e.jsx("span",{children:"Our administrators will review your registration details and claimed batch information"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"2"}),e.jsx("span",{children:"We may cross-reference with existing alumni records and batch information"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"3"}),e.jsx("span",{children:"You'll receive an email notification once your alumni status is verified"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"4"}),e.jsx("span",{children:"After verification, you'll have full access to all alumni portal features"})]})]})})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Estimated Review Time"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Typically 1-3 business days. You'll be notified by email once completed."})]})]})}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(I,{className:"h-5 w-5 text-red-500 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Need to Update Information?"}),e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:["If you need to correct any information or have questions about the verification process, please contact our administrators at"," ",e.jsx("a",{href:"mailto:admin@alumni-portal.com",className:"underline font-medium",children:"admin@alumni-portal.com"})]})]})]})})]})}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center",children:e.jsxs("button",{onClick:w,className:"bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-medium transition-colors flex items-center justify-center",children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"Sign Out"]})}),e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"You'll remain logged in during the verification process. Feel free to close this page and check back later."})})]})})};export{Q as default};
//# sourceMappingURL=VerificationPendingPage-B_nhK0ty.js.map
