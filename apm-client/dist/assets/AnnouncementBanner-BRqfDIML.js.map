{"version":3,"file":"AnnouncementBanner-BRqfDIML.js","sources":["../../node_modules/@heroicons/react/24/outline/esm/BookOpenIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CakeIcon.js","../../src/store/api/celebrationsApi.ts","../../src/components/user/celebrations/BirthdaysCard.tsx","../../src/components/user/celebrations/FestivalsCard.tsx","../../src/components/user/SocialSection.tsx","../../src/components/user/AlumniStorySection.tsx","../../src/components/user/EventsComingSoon.tsx","../../src/components/common/UI/AnnouncementBanner.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction BookOpenIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BookOpenIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CakeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CakeIcon);\nexport default ForwardRef;","// src/store/api/celebrationsApi.ts\nimport { apiSlice } from './apiSlice'\n\n// Types for celebration API responses\nexport interface Birthday {\n  id: string\n  fullName: string\n  profileImage?: string\n  batch: number\n  dateOfBirth: string\n  age: number\n  isToday: boolean\n  daysUntil?: number\n  monthDay: string // Format: \"MM-DD\"\n}\n\nexport interface Festival {\n  id: string\n  name: string\n  date?: {\n    iso: string\n    formatted?: string\n  } | string\n  type?: string[]\n  description?: string\n  festivalType: 'NATIONAL_HOLIDAY' | 'HINDU' | 'MUSLIM' | 'CHRISTIAN' | 'SIKH' | 'BUDDHIST' | 'CULTURAL' | 'REGIONAL'\n  priority: 'MAJOR' | 'MEDIUM' | 'MINOR'\n  // Support both database structure and API styling wrapper\n  vectorImage?: string\n  backgroundColor?: string\n  textColor?: string\n  styling?: {\n    backgroundColor: string\n    textColor: string\n    vectorImage?: string\n  }\n  greetingMessage?: string\n  religion?: string | null\n  isToday?: boolean\n  daysUntil?: number\n  dayName?: string\n}\n\nexport interface TodaysBirthdays {\n  birthdays: Birthday[]\n  count: number\n  date: string\n}\n\nexport interface UpcomingBirthdays {\n  upcomingBirthdays: Array<{\n    date: string\n    birthdays: Birthday[]\n    dayName: string\n    daysFromToday: number\n  }>\n  totalDays: number\n  lookAheadDays: number\n}\n\nexport interface TodaysFestivals {\n  festivals: Festival[]\n  count: number\n  date: string\n}\n\nexport interface UpcomingFestivals {\n  upcomingFestivals: Array<{\n    date: string\n    festivals: Festival[]\n    dayName: string\n    daysUntil: number\n  }>\n  lookAheadDays: number\n}\n\nexport interface TodaysCelebrations {\n  birthdays: Birthday[]\n  festivals: Festival[]\n  date: string\n  summary: {\n    totalBirthdays: number\n    totalFestivals: number\n    totalCelebrations: number\n  }\n}\n\nexport interface BirthdayStats {\n  totalUsers: number\n  usersWithBirthdays: number\n  birthdaysThisMonth: number\n  birthdaysNextMonth: number\n  upcomingInWeek: number\n  monthlyDistribution: Array<{\n    month: number\n    monthName: string\n    count: number\n  }>\n}\n\nexport interface FestivalStats {\n  totalFestivals: number\n  festivalsThisMonth: number\n  festivalsNextMonth: number\n  upcomingInWeek: number\n  byType: Array<{\n    type: string\n    count: number\n  }>\n  byPriority: Array<{\n    priority: string\n    count: number\n  }>\n}\n\n// Inject celebration endpoints into the main API slice\nexport const celebrationsApi = apiSlice.injectEndpoints({\n  endpoints: (builder) => ({\n    // Birthday Endpoints\n    getTodaysBirthdays: builder.query<TodaysBirthdays, void>({\n      query: () => '/celebrations/birthdays/today',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Celebrations', 'Birthdays'],\n    }),\n\n    getUpcomingBirthdays: builder.query<UpcomingBirthdays, { days?: number }>({\n      query: (params = {}) => ({\n        url: '/celebrations/birthdays/upcoming',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Celebrations', 'Birthdays'],\n    }),\n\n    // Festival Endpoints (Public)\n    getTodaysFestivals: builder.query<TodaysFestivals, void>({\n      query: () => '/celebrations/festivals/today',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Celebrations', 'Festivals'],\n    }),\n\n    getUpcomingFestivals: builder.query<UpcomingFestivals, { days?: number }>({\n      query: (params = {}) => ({\n        url: '/celebrations/festivals/upcoming',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Celebrations', 'Festivals'],\n    }),\n\n    // Combined Celebrations\n    getTodaysCelebrations: builder.query<TodaysCelebrations, void>({\n      query: () => '/celebrations/today',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Celebrations', 'Birthdays', 'Festivals'],\n    }),\n\n    // Festival Search and Calendar\n    searchFestivals: builder.query<{\n      festivals: Festival[]\n      pagination: {\n        page: number\n        limit: number\n        total: number\n        totalPages: number\n      }\n    }, {\n      q?: string\n      festivalType?: string\n      religion?: string\n      priority?: string\n      year?: number\n      limit?: number\n      page?: number\n    }>({\n      query: (params = {}) => ({\n        url: '/celebrations/festivals/search',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Celebrations', 'Festivals'],\n    }),\n\n    getFestivalCalendar: builder.query<{\n      calendar: Array<{\n        month: number\n        monthName: string\n        festivals: Festival[]\n      }>\n      year: number\n      totalFestivals: number\n    }, { year?: number }>({\n      query: (params = {}) => ({\n        url: '/celebrations/festivals/calendar',\n        params,\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Celebrations', 'Festivals'],\n    }),\n\n    // Admin Statistics (for admin users)\n    getBirthdayStats: builder.query<BirthdayStats, void>({\n      query: () => '/celebrations/admin/birthdays/stats',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Admin', 'Celebrations', 'Birthdays'],\n    }),\n\n    getFestivalStats: builder.query<FestivalStats, void>({\n      query: () => '/celebrations/admin/festivals/stats',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Admin', 'Celebrations', 'Festivals'],\n    }),\n\n    getCelebrationSummary: builder.query<{\n      birthdays: BirthdayStats\n      festivals: FestivalStats\n      today: TodaysCelebrations\n      systemHealth: {\n        lastSyncAt?: string\n        cacheStatus: string\n        apiStatus: string\n      }\n    }, void>({\n      query: () => '/celebrations/admin/summary',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Admin', 'Celebrations'],\n    }),\n\n    // Birthday Distribution by Month\n    getBirthdayDistribution: builder.query<Array<{\n      month: number\n      monthName: string\n      count: number\n      birthdays: Birthday[]\n    }>, void>({\n      query: () => '/celebrations/admin/birthdays/distribution',\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Admin', 'Celebrations', 'Birthdays'],\n    }),\n\n    getBirthdaysInMonth: builder.query<{\n      month: number\n      monthName: string\n      year: number\n      birthdays: Birthday[]\n      count: number\n    }, { month: number; year?: number }>({\n      query: ({ month, year }) => ({\n        url: `/celebrations/admin/birthdays/month/${month}`,\n        params: year ? { year } : {},\n      }),\n      transformResponse: (response: any) => response.data,\n      providesTags: ['Admin', 'Celebrations', 'Birthdays'],\n    }),\n\n    // Admin Actions\n    triggerFestivalSync: builder.mutation<{\n      message: string\n      syncedCount: number\n      syncId: string\n    }, void>({\n      query: () => ({\n        url: '/celebrations/admin/festivals/sync',\n        method: 'POST',\n      }),\n      invalidatesTags: ['Celebrations', 'Festivals'],\n    }),\n\n    triggerBirthdayNotifications: builder.mutation<{\n      message: string\n      notificationsSent: number\n      recipients: string[]\n    }, void>({\n      query: () => ({\n        url: '/celebrations/admin/birthdays/trigger',\n        method: 'POST',\n      }),\n      invalidatesTags: ['Celebrations', 'Birthdays'],\n    }),\n\n    toggleFestivalNotifications: builder.mutation<{\n      message: string\n      festival: {\n        name: string\n        notificationsEnabled: boolean\n      }\n    }, { festivalId: string; enabled: boolean }>({\n      query: ({ festivalId, enabled }) => ({\n        url: `/celebrations/admin/festivals/${festivalId}/notifications`,\n        method: 'PUT',\n        body: { enabled },\n      }),\n      invalidatesTags: ['Celebrations', 'Festivals'],\n    }),\n  }),\n  overrideExisting: false,\n})\n\n// Export hooks for use in components\nexport const {\n  // Birthday hooks\n  useGetTodaysBirthdaysQuery,\n  useGetUpcomingBirthdaysQuery,\n  useGetBirthdayStatsQuery,\n  useGetBirthdayDistributionQuery,\n  useGetBirthdaysInMonthQuery,\n  \n  // Festival hooks\n  useGetTodaysFestivalsQuery,\n  useGetUpcomingFestivalsQuery,\n  useSearchFestivalsQuery,\n  useGetFestivalCalendarQuery,\n  useGetFestivalStatsQuery,\n  \n  // Combined celebrations\n  useGetTodaysCelebrationsQuery,\n  useGetCelebrationSummaryQuery,\n  \n  // Admin mutations\n  useTriggerFestivalSyncMutation,\n  useTriggerBirthdayNotificationsMutation,\n  useToggleFestivalNotificationsMutation,\n} = celebrationsApi\n\nexport default celebrationsApi","// src/components/user/celebrations/BirthdaysCard.tsx\nimport React from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { CakeIcon, ChevronUpIcon, ChevronDownIcon } from '@heroicons/react/24/outline'\nimport { useGetTodaysBirthdaysQuery, useGetUpcomingBirthdaysQuery, Birthday } from '../../../store/api/celebrationsApi'\nimport { getApiUrl } from '@/utils/helpers'\n\n// Static celebration particles component\nconst StaticParticles: React.FC = () => {\n  const particles = [\n    { emoji: 'üéâ', top: '10%', right: '15%', opacity: 0.6 },\n    { emoji: '‚ú®', top: '5%', right: '25%', opacity: 0.4 },\n    { emoji: 'üéä', top: '15%', right: '8%', opacity: 0.5 },\n    { emoji: '‚≠ê', top: '20%', right: '20%', opacity: 0.3 },\n    { emoji: 'üéà', top: '8%', right: '30%', opacity: 0.4 },\n    { emoji: 'üåü', top: '25%', right: '12%', opacity: 0.3 },\n  ]\n\n  return (\n    <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n      {particles.map((particle, index) => (\n        <div\n          key={index}\n          className=\"absolute text-lg\"\n          style={{\n            top: particle.top,\n            right: particle.right,\n            opacity: particle.opacity,\n            transform: `rotate(${Math.random() * 30 - 15}deg)`,\n          }}\n        >\n          {particle.emoji}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nconst BirthdaysCard: React.FC = () => {\n  const { data: todaysBirthdays, isLoading: todaysLoading, refetch: refetchTodays } = useGetTodaysBirthdaysQuery(undefined, {\n    refetchOnMountOrArgChange: true\n  })\n  const { data: upcomingBirthdays, isLoading: upcomingLoading, refetch: refetchUpcoming } = useGetUpcomingBirthdaysQuery({ days: 7 }, {\n    refetchOnMountOrArgChange: true\n  })\n\n  const [showAccordion, setShowAccordion] = React.useState(true) // Open by default\n\n  // Force refresh on mount to bypass cache\n  React.useEffect(() => {\n    refetchTodays()\n    refetchUpcoming()\n  }, [refetchTodays, refetchUpcoming])\n\n  const todayCount = todaysBirthdays?.birthdays?.length || 0\n  const upcomingCount = upcomingBirthdays?.upcomingBirthdays?.reduce((total, day) => total + day.birthdays.length, 0) || 0\n\n  const upcomingList = React.useMemo(() => {\n    if (!upcomingBirthdays?.upcomingBirthdays) return []\n    \n    const list: (Birthday & { dayName: string; daysFromToday: number })[] = []\n    upcomingBirthdays.upcomingBirthdays.forEach(day => {\n      day.birthdays.forEach(birthday => {\n        list.push({\n          ...birthday,\n          dayName: day.dayName,\n          daysFromToday: day.daysFromToday,\n        })\n      })\n    })\n    return list.slice(0, 12) // Limit to 12 for UI\n  }, [upcomingBirthdays])\n\n  if (todaysLoading && upcomingLoading) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n      >\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32\"></div>\n          <div className=\"flex space-x-4\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"flex items-center space-x-2\">\n                <div className=\"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-8\"></div>\n              </div>\n            ))}\n          </div>\n          <div className=\"space-y-3\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full\"></div>\n                <div className=\"space-y-1\">\n                  <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24\"></div>\n                  <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-16\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </motion.div>\n    )\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden\"\n    >\n      {/* Accordion Header - Clean without counts */}\n      <button\n        onClick={() => setShowAccordion(!showAccordion)}\n        className=\"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n      >\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center space-x-2\">\n            <CakeIcon className=\"h-5 w-5 text-pink-500\" />\n            <span className=\"text-sm font-medium text-gray-900 dark:text-white\">Birthdays</span>\n          </div>\n        </div>\n        <motion.div\n          animate={{ rotate: showAccordion ? 180 : 0 }}\n          transition={{ duration: 0.2 }}\n        >\n          <ChevronUpIcon className=\"h-5 w-5 text-gray-400\" />\n        </motion.div>\n      </button>\n\n      {/* Accordion Content */}\n      <AnimatePresence initial={false}>\n        {showAccordion && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 relative overflow-hidden\"\n          >\n            {/* Static celebration particles - only show if there are birthdays today */}\n            {todayCount > 0 && <StaticParticles />}\n            \n            <div className=\"p-6 space-y-6 relative z-10\">\n              \n              {/* Today's Birthdays Section */}\n              <div>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Birthdays today\n                  </h4>\n                  <span className=\"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300 px-2 py-1 rounded-full text-xs font-medium\">\n                    {todayCount}\n                  </span>\n                </div>\n                \n                {todayCount === 0 ? (\n                  <div className=\"flex flex-col items-center justify-center py-8 text-center\">\n                    <div className=\"w-16 h-16 mx-auto mb-3 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center\">\n                      <CakeIcon className=\"h-8 w-8 text-gray-400\" />\n                    </div>\n                    <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-1\">\n                      No birthdays today.\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n                    {todaysBirthdays?.birthdays?.map((birthday) => (\n                      <motion.div\n                        key={birthday.id}\n                        initial={{ opacity: 0, scale: 0.95 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"text-center group\"\n                      >\n                        <div className=\"w-16 h-16 mx-auto mb-3 relative\">\n                          <motion.div\n                            animate={{ \n                              scale: [1, 1.1, 1],\n                              rotate: [0, 5, -5, 0]\n                            }}\n                            transition={{ \n                              duration: 2,\n                              repeat: Infinity,\n                              repeatDelay: Math.random() * 3 + 2\n                            }}\n                          >\n                            {birthday.profileImage ? (\n                              <img\n                                src={getApiUrl(`/api/users/profile-picture/${birthday.id}`)}\n                                alt={birthday.fullName}\n                                className=\"w-16 h-16 rounded-full object-cover border-2 border-pink-400 shadow-lg\"\n                                onError={(e) => {\n                                  const target = e.target as HTMLImageElement\n                                  target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(birthday.fullName)}&background=EC4899&color=fff&size=64`\n                                }}\n                              />\n                            ) : (\n                              <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center text-white text-sm font-bold border-2 border-pink-300 shadow-lg\">\n                                {birthday.fullName.split(' ').map(n => n[0]).join('').slice(0, 2).toUpperCase()}\n                              </div>\n                            )}\n                          </motion.div>\n                          {/* Birthday hat emoji */}\n                          <div className=\"absolute -top-2 -right-1 text-xl animate-bounce\">\n                            üéÇ\n                          </div>\n                        </div>\n                        <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate mb-1\">\n                          {birthday.fullName.split(' ')[0]}\n                        </p>\n                        <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                          Batch {birthday.batch}\n                        </p>\n                      </motion.div>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Upcoming Birthdays Section */}\n              <div>\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Upcoming Birthdays (7 days)\n                  </h4>\n                  <span className=\"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-2 py-1 rounded-full text-xs font-medium\">\n                    {upcomingCount}\n                  </span>\n                </div>\n                \n                {upcomingList.length === 0 ? (\n                  <p className=\"text-gray-500 dark:text-gray-400 text-sm text-center py-4\">\n                    No upcoming birthdays this week.\n                  </p>\n                ) : (\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n                    {upcomingList.map((birthday) => (\n                      <motion.div\n                        key={`${birthday.id}-${birthday.daysFromToday}`}\n                        initial={{ opacity: 0, scale: 0.95 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"text-center\"\n                      >\n                        <div className=\"w-14 h-14 mx-auto mb-2 relative\">\n                          {birthday.profileImage ? (\n                            <img\n                              src={getApiUrl(`/api/users/profile-picture/${birthday.id}`)}\n                              alt={birthday.fullName}\n                              className=\"w-14 h-14 rounded-full object-cover border border-blue-300 dark:border-blue-600\"\n                              onError={(e) => {\n                                const target = e.target as HTMLImageElement\n                                target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(birthday.fullName)}&background=3B82F6&color=fff&size=56`\n                              }}\n                            />\n                          ) : (\n                            <div className=\"w-14 h-14 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-sm font-bold border border-blue-300\">\n                              {birthday.fullName.split(' ').map(n => n[0]).join('').slice(0, 2).toUpperCase()}\n                            </div>\n                          )}\n                        </div>\n                        <p className=\"text-xs font-medium text-gray-900 dark:text-white truncate mb-1\">\n                          {birthday.fullName.split(' ')[0]}\n                        </p>\n                        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-1\">\n                          Batch {birthday.batch}\n                        </p>\n                        <p className=\"text-xs text-blue-600 dark:text-blue-400 font-medium\">\n                          {birthday.daysFromToday === 1 ? 'Tomorrow' : \n                           birthday.daysFromToday < 7 ? new Date(Date.now() + birthday.daysFromToday * 24 * 60 * 60 * 1000).toLocaleDateString('en-US', { day: '2-digit', month: 'short' }) :\n                           `${birthday.daysFromToday} days`}\n                        </p>\n                      </motion.div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  )\n}\n\nexport default BirthdaysCard","// src/components/user/celebrations/FestivalsCard.tsx\nimport React from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { \n  CalendarIcon, \n  SparklesIcon,\n  ChevronRightIcon,\n  ChevronUpIcon,\n  XMarkIcon\n} from '@heroicons/react/24/outline'\nimport { useGetTodaysFestivalsQuery, useGetUpcomingFestivalsQuery, useGetFestivalCalendarQuery, Festival } from '../../../store/api/celebrationsApi'\n\nconst FestivalsCard: React.FC = () => {\n  const { data: todaysFestivals, isLoading: todaysLoading } = useGetTodaysFestivalsQuery()\n  const { data: upcomingFestivals, isLoading: upcomingLoading } = useGetUpcomingFestivalsQuery({ days: 90 })\n  const { data: festivalCalendar, isLoading: calendarLoading, error: calendarError } = useGetFestivalCalendarQuery({ year: new Date().getFullYear() })\n\n  const [showCalendarModal, setShowCalendarModal] = React.useState(false)\n  const [selectedMonth, setSelectedMonth] = React.useState<number>(new Date().getMonth())\n  const [showAccordion, setShowAccordion] = React.useState(true) // Open by default\n  const [openMonthAccordions, setOpenMonthAccordions] = React.useState<Set<number>>(new Set([new Date().getMonth()]))\n\n  const todayCount = todaysFestivals?.festivals?.length || 0\n  const upcomingCount = upcomingFestivals?.upcomingFestivals?.reduce((total, day) => total + day.festivals.length, 0) || 0\n\n  // Get next upcoming festival with date info\n  const nextFestival = React.useMemo(() => {\n    if (!upcomingFestivals?.upcomingFestivals?.length) return null\n    const firstDay = upcomingFestivals.upcomingFestivals[0]\n    const firstFestival = firstDay?.festivals[0]\n    if (!firstFestival) return null\n    \n    return {\n      ...firstFestival,\n      date: firstDay.date,\n      daysUntil: firstDay.daysUntil,\n      dayName: firstDay.dayName\n    }\n  }, [upcomingFestivals])\n\n  // Month names for calendar\n  const monthNames = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ]\n\n  // Get festivals for a specific month from calendar (handle both new and cached structure)\n  const getFestivalsForMonth = React.useCallback((monthIndex: number) => {\n    if (!festivalCalendar) return []\n    \n    // New structure uses 'calendar' array\n    if (festivalCalendar.calendar) {\n      const monthData = festivalCalendar.calendar.find(m => m.month === monthIndex + 1)\n      return monthData?.festivals || []\n    }\n    \n    // Legacy/cached structure uses 'months' array\n    if ((festivalCalendar as any).months) {\n      const monthData = (festivalCalendar as any).months.find((m: any) => m.monthNumber === monthIndex + 1)\n      return monthData?.festivals || []\n    }\n    \n    return []\n  }, [festivalCalendar])\n\n  // Toggle month accordion\n  const toggleMonthAccordion = (monthIndex: number) => {\n    const newSet = new Set(openMonthAccordions)\n    if (newSet.has(monthIndex)) {\n      newSet.delete(monthIndex)\n    } else {\n      newSet.add(monthIndex)\n    }\n    setOpenMonthAccordions(newSet)\n  }\n\n  if (todaysLoading && upcomingLoading) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6\"\n      >\n        <div className=\"animate-pulse\">\n          <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mb-4\"></div>\n          <div className=\"space-y-3\">\n            <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\"></div>\n            <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"></div>\n          </div>\n        </div>\n      </motion.div>\n    )\n  }\n\n  return (\n    <>\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden\"\n      >\n        {/* Accordion Header */}\n        <button\n          onClick={() => setShowAccordion(!showAccordion)}\n          className=\"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n        >\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <SparklesIcon className=\"h-5 w-5 text-orange-500\" />\n              <span className=\"text-sm font-medium text-gray-900 dark:text-white\">Festivals & Holidays</span>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-3\">\n            <button\n              onClick={(e) => {\n                e.stopPropagation()\n                setShowCalendarModal(true)\n              }}\n              className=\"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-orange-700 dark:text-orange-300 bg-orange-100 dark:bg-orange-900/30 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors\"\n            >\n              <CalendarIcon className=\"h-4 w-4\" />\n              <span>View Calendar</span>\n              <ChevronRightIcon className=\"h-3 w-3\" />\n            </button>\n            <motion.div\n              animate={{ rotate: showAccordion ? 180 : 0 }}\n              transition={{ duration: 0.2 }}\n            >\n              <ChevronUpIcon className=\"h-5 w-5 text-gray-400\" />\n            </motion.div>\n          </div>\n        </button>\n\n        {/* Accordion Content */}\n        <AnimatePresence initial={false}>\n          {showAccordion && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: 'auto' }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900\"\n            >\n              <div className=\"p-6\">\n          {/* Today's Festivals */}\n          {todayCount > 0 && (\n            <div className=\"mb-6\">\n              <h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center\">\n                <span className=\"text-lg mr-2\">üéä</span>\n                Celebrating Today\n              </h4>\n              <div className=\"space-y-3\">\n                {todaysFestivals?.festivals?.slice(0, 2).map((festival) => (\n                  <motion.div\n                    key={festival.id}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    className=\"flex items-center p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors bg-white dark:bg-gray-800\"\n                  >\n                    {/* Festival Image - Keka Style */}\n                    <div className=\"flex-shrink-0 mr-4\">\n                      <div \n                        className=\"w-14 h-14 rounded-xl flex items-center justify-center shadow-sm\"\n                        style={{ backgroundColor: festival.styling?.backgroundColor || '#f8f9fa' }}\n                      >\n                        {festival.styling?.vectorImage ? (\n                          <img \n                            src={festival.styling.vectorImage} \n                            alt={festival.name}\n                            className=\"w-8 h-8 object-contain\"\n                            onError={(e) => {\n                              const target = e.target as HTMLImageElement\n                              target.style.display = 'none'\n                              const parent = target.parentElement\n                              if (parent) {\n                                parent.innerHTML = `<span style=\"color: ${festival.styling?.textColor || '#333'}; font-size: 20px; font-weight: bold;\">${festival.name.charAt(0)}</span>`\n                              }\n                            }}\n                          />\n                        ) : (\n                          <span \n                            className=\"text-xl font-bold\"\n                            style={{ color: festival.styling?.textColor || '#333' }}\n                          >\n                            {festival.name.charAt(0)}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    \n                    {/* Festival Info - Keka Style */}\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate\">\n                        {festival.name}\n                      </h3>\n                      <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-400\">\n                        <CalendarIcon className=\"h-4 w-4 mr-1.5 flex-shrink-0\" />\n                        <span>Today, {new Date().toLocaleDateString('en-US', { \n                          weekday: 'short', \n                          day: '2-digit', \n                          month: 'short', \n                          year: 'numeric' \n                        })}</span>\n                      </div>\n                    </div>\n                    \n                    {/* View All Link */}\n                    <div className=\"flex-shrink-0 ml-4\">\n                      <button className=\"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm font-medium\">\n                        View All\n                      </button>\n                    </div>\n                  </motion.div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Next Upcoming Festival */}\n          {nextFestival && (\n            <div className=\"mb-6\">\n              <h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center\">\n                <span className=\"text-lg mr-2\">üìÖ</span>\n                Coming Next\n              </h4>\n              <motion.div\n                initial={{ opacity: 0, y: 10 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"flex items-center p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors bg-white dark:bg-gray-800\"\n              >\n                {/* Festival Image - Keka Style */}\n                <div className=\"flex-shrink-0 mr-4\">\n                  <div \n                    className=\"w-16 h-16 rounded-xl flex items-center justify-center shadow-sm\"\n                    style={{ backgroundColor: nextFestival.styling?.backgroundColor || nextFestival.backgroundColor || '#f8f9fa' }}\n                  >\n                    {(nextFestival.styling?.vectorImage || nextFestival.vectorImage) ? (\n                      <img \n                        src={nextFestival.name === 'Gandhi Jayanti' ? '/icons/festivals/Archie-Mahatma-Gandhi.svg' : (nextFestival.styling?.vectorImage || nextFestival.vectorImage)} \n                        alt={nextFestival.name}\n                        className=\"w-12 h-12 object-contain\"\n                        onError={(e) => {\n                          const target = e.target as HTMLImageElement\n                          target.style.display = 'none'\n                          const parent = target.parentElement\n                          if (parent) {\n                            parent.innerHTML = `<span style=\"color: ${nextFestival.styling?.textColor || nextFestival.textColor || '#333'}; font-size: 24px; font-weight: bold;\">${nextFestival.name.charAt(0)}</span>`\n                          }\n                        }}\n                      />\n                    ) : (\n                      <span \n                        className=\"text-2xl font-bold\"\n                        style={{ color: nextFestival.styling?.textColor || nextFestival.textColor || '#333' }}\n                      >\n                        {nextFestival.name.charAt(0)}\n                      </span>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Festival Info - Keka Style */}\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate\">\n                    {nextFestival.name}\n                  </h3>\n                  <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-400\">\n                    <CalendarIcon className=\"h-4 w-4 mr-1.5 flex-shrink-0\" />\n                    <span>{new Date(nextFestival.date?.iso || nextFestival.date).toLocaleDateString('en-US', {\n                      weekday: 'short',\n                      day: '2-digit', \n                      month: 'short',\n                      year: 'numeric'\n                    })}</span>\n                  </div>\n                </div>\n                \n                {/* Days remaining */}\n                <div className=\"flex-shrink-0 ml-4 text-right\">\n                  <div className=\"text-lg font-bold text-blue-600 dark:text-blue-400\">\n                    {nextFestival.daysUntil || 'Soon'}\n                  </div>\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    days to go\n                  </div>\n                </div>\n              </motion.div>\n            </div>\n          )}\n\n          {/* Statistics */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"text-center p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50\">\n              <div className=\"text-lg font-bold text-orange-600 dark:text-orange-400\">{upcomingCount}</div>\n              <div className=\"text-xs text-gray-600 dark:text-gray-400\">Upcoming Festivals</div>\n            </div>\n            <div className=\"text-center p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50\">\n              <div className=\"text-lg font-bold text-purple-600 dark:text-purple-400\">\n                {festivalCalendar?.totalFestivals || 0}\n              </div>\n              <div className=\"text-xs text-gray-600 dark:text-gray-400\">This Year</div>\n            </div>\n          </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n\n      {/* Calendar Modal - Inspired by Keka */}\n      <AnimatePresence>\n        {showCalendarModal && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n            onClick={() => setShowCalendarModal(false)}\n          >\n            <motion.div\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.9 }}\n              className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              {/* Modal Header */}\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20\">\n                <div>\n                  <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                    Festivals & Holidays {new Date().getFullYear()}\n                  </h2>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                    Celebrate traditions throughout the year\n                  </p>\n                </div>\n                <button\n                  onClick={() => setShowCalendarModal(false)}\n                  className=\"p-2 hover:bg-white/50 dark:hover:bg-gray-700/50 rounded-lg transition-colors\"\n                >\n                  <XMarkIcon className=\"h-5 w-5 text-gray-500\" />\n                </button>\n              </div>\n\n              {/* 2-Column Month Accordions Layout */}\n              <div className=\"p-6 max-h-96 overflow-y-auto\">\n                {calendarLoading ? (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    {[...Array(12)].map((_, i) => (\n                      <div key={i} className=\"animate-pulse\">\n                        <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mb-3\"></div>\n                        <div className=\"space-y-2\">\n                          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\"></div>\n                          <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"></div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {/* Left Column: January - June */}\n                    <div className=\"space-y-3\">\n                      {monthNames.slice(0, 6).map((month, index) => {\n                        const monthFestivals = getFestivalsForMonth(index)\n                        const isOpen = openMonthAccordions.has(index)\n                        \n                        return (\n                          <div key={month} className=\"border border-gray-200 dark:border-gray-600 rounded-lg\">\n                            {/* Month Header */}\n                            <button\n                              onClick={() => toggleMonthAccordion(index)}\n                              className=\"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n                            >\n                              <div className=\"flex items-center space-x-3\">\n                                <span className=\"font-semibold text-gray-900 dark:text-white\">\n                                  {month}\n                                </span>\n                                {monthFestivals.length > 0 && (\n                                  <span className=\"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs font-medium px-2 py-1 rounded-full\">\n                                    {monthFestivals.length}\n                                  </span>\n                                )}\n                              </div>\n                              <motion.div\n                                animate={{ rotate: isOpen ? 180 : 0 }}\n                                transition={{ duration: 0.2 }}\n                              >\n                                <ChevronUpIcon className=\"h-4 w-4 text-gray-400\" />\n                              </motion.div>\n                            </button>\n\n                            {/* Month Content */}\n                            <AnimatePresence initial={false}>\n                              {isOpen && (\n                                <motion.div\n                                  initial={{ opacity: 0, height: 0 }}\n                                  animate={{ opacity: 1, height: 'auto' }}\n                                  exit={{ opacity: 0, height: 0 }}\n                                  className=\"border-t border-gray-200 dark:border-gray-600\"\n                                >\n                                  <div className=\"p-4 bg-gray-50 dark:bg-gray-800/50\">\n                                    {monthFestivals.length === 0 ? (\n                                      <p className=\"text-sm text-gray-500 dark:text-gray-400 text-center py-2\">\n                                        No festivals this month\n                                      </p>\n                                    ) : (\n                                      <div className=\"space-y-3\">\n                                        {monthFestivals.map((festival) => (\n                                          <div\n                                            key={festival.id}\n                                            className=\"flex items-center space-x-3 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600\"\n                                          >\n                                            {/* Festival Icon */}\n                                            <div \n                                              className=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center shadow-sm\"\n                                              style={{ backgroundColor: festival.styling?.backgroundColor || festival.backgroundColor || '#f8f9fa' }}\n                                            >\n                                              {(festival.styling?.vectorImage || festival.vectorImage) ? (\n                                                <img \n                                                  src={festival.styling?.vectorImage || festival.vectorImage} \n                                                  alt={festival.name}\n                                                  className=\"w-6 h-6 object-contain\"\n                                                  onError={(e) => {\n                                                    const target = e.target as HTMLImageElement\n                                                    target.style.display = 'none'\n                                                    const parent = target.parentElement\n                                                    if (parent) {\n                                                      parent.innerHTML = `<span style=\"color: ${festival.styling?.textColor || festival.textColor || '#333'}; font-size: 14px; font-weight: bold;\">${festival.name.charAt(0)}</span>`\n                                                    }\n                                                  }}\n                                                />\n                                              ) : (\n                                                <span \n                                                  className=\"text-sm font-bold\"\n                                                  style={{ color: festival.styling?.textColor || festival.textColor || '#333' }}\n                                                >\n                                                  {festival.name.charAt(0)}\n                                                </span>\n                                              )}\n                                            </div>\n\n                                            {/* Festival Info */}\n                                            <div className=\"flex-1 min-w-0\">\n                                              <h4 className=\"font-medium text-gray-900 dark:text-white text-sm truncate\">\n                                                {festival.name}\n                                              </h4>\n                                              <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                                                {new Date(festival.date).toLocaleDateString('en-US', {\n                                                  day: 'numeric',\n                                                  month: 'short'\n                                                })}\n                                              </p>\n                                              {festival.description && (\n                                                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2\">\n                                                  {festival.description}\n                                                </p>\n                                              )}\n                                            </div>\n                                          </div>\n                                        ))}\n                                      </div>\n                                    )}\n                                  </div>\n                                </motion.div>\n                              )}\n                            </AnimatePresence>\n                          </div>\n                        )\n                      })}\n                    </div>\n\n                    {/* Right Column: July - December */}\n                    <div className=\"space-y-3\">\n                      {monthNames.slice(6).map((month, index) => {\n                        const monthIndex = index + 6 // Adjust for second half of year\n                        const monthFestivals = getFestivalsForMonth(monthIndex)\n                        const isOpen = openMonthAccordions.has(monthIndex)\n                        \n                        return (\n                          <div key={month} className=\"border border-gray-200 dark:border-gray-600 rounded-lg\">\n                            {/* Month Header */}\n                            <button\n                              onClick={() => toggleMonthAccordion(monthIndex)}\n                              className=\"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n                            >\n                              <div className=\"flex items-center space-x-3\">\n                                <span className=\"font-semibold text-gray-900 dark:text-white\">\n                                  {month}\n                                </span>\n                                {monthFestivals.length > 0 && (\n                                  <span className=\"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 text-xs font-medium px-2 py-1 rounded-full\">\n                                    {monthFestivals.length}\n                                  </span>\n                                )}\n                              </div>\n                              <motion.div\n                                animate={{ rotate: isOpen ? 180 : 0 }}\n                                transition={{ duration: 0.2 }}\n                              >\n                                <ChevronUpIcon className=\"h-4 w-4 text-gray-400\" />\n                              </motion.div>\n                            </button>\n\n                            {/* Month Content */}\n                            <AnimatePresence initial={false}>\n                              {isOpen && (\n                                <motion.div\n                                  initial={{ opacity: 0, height: 0 }}\n                                  animate={{ opacity: 1, height: 'auto' }}\n                                  exit={{ opacity: 0, height: 0 }}\n                                  className=\"border-t border-gray-200 dark:border-gray-600\"\n                                >\n                                  <div className=\"p-4 bg-gray-50 dark:bg-gray-800/50\">\n                                    {monthFestivals.length === 0 ? (\n                                      <p className=\"text-sm text-gray-500 dark:text-gray-400 text-center py-2\">\n                                        No festivals this month\n                                      </p>\n                                    ) : (\n                                      <div className=\"space-y-3\">\n                                        {monthFestivals.map((festival) => (\n                                          <div\n                                            key={festival.id}\n                                            className=\"flex items-center space-x-3 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600\"\n                                          >\n                                            {/* Festival Icon */}\n                                            <div \n                                              className=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center shadow-sm\"\n                                              style={{ backgroundColor: festival.styling?.backgroundColor || festival.backgroundColor || '#f8f9fa' }}\n                                            >\n                                              {(festival.styling?.vectorImage || festival.vectorImage) ? (\n                                                <img \n                                                  src={festival.styling?.vectorImage || festival.vectorImage} \n                                                  alt={festival.name}\n                                                  className=\"w-6 h-6 object-contain\"\n                                                  onError={(e) => {\n                                                    const target = e.target as HTMLImageElement\n                                                    target.style.display = 'none'\n                                                    const parent = target.parentElement\n                                                    if (parent) {\n                                                      parent.innerHTML = `<span style=\"color: ${festival.styling?.textColor || festival.textColor || '#333'}; font-size: 14px; font-weight: bold;\">${festival.name.charAt(0)}</span>`\n                                                    }\n                                                  }}\n                                                />\n                                              ) : (\n                                                <span \n                                                  className=\"text-sm font-bold\"\n                                                  style={{ color: festival.styling?.textColor || festival.textColor || '#333' }}\n                                                >\n                                                  {festival.name.charAt(0)}\n                                                </span>\n                                              )}\n                                            </div>\n\n                                            {/* Festival Info */}\n                                            <div className=\"flex-1 min-w-0\">\n                                              <h4 className=\"font-medium text-gray-900 dark:text-white text-sm truncate\">\n                                                {festival.name}\n                                              </h4>\n                                              <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                                                {new Date(festival.date).toLocaleDateString('en-US', {\n                                                  day: 'numeric',\n                                                  month: 'short'\n                                                })}\n                                              </p>\n                                              {festival.description && (\n                                                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2\">\n                                                  {festival.description}\n                                                </p>\n                                              )}\n                                            </div>\n                                          </div>\n                                        ))}\n                                      </div>\n                                    )}\n                                  </div>\n                                </motion.div>\n                              )}\n                            </AnimatePresence>\n                          </div>\n                        )\n                      })}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  )\n}\n\nexport default FestivalsCard","// src/components/user/SocialSection.tsx\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  ChevronDownIcon,\n  ChevronUpIcon,\n  DocumentTextIcon,\n  ChartBarIcon,\n  ClockIcon,\n  UserGroupIcon,\n  CheckCircleIcon,\n  EyeIcon,\n  SparklesIcon,\n} from '@heroicons/react/24/outline';\nimport { useSelector } from 'react-redux';\nimport type { RootState } from '../../store';\nimport { useGetPostsQuery } from '../../store/api/postApi';\nimport { useGetActivePollsQuery, useGetPollStatsQuery } from '../../store/api/pollApi';\nimport PostCard from './PostCard';\nimport { formatDistanceToNow } from 'date-fns';\nimport type { Poll } from '../../store/api/pollApi';\nimport { useVotePollMutation } from '../../store/api/pollApi';\nimport toast from 'react-hot-toast';\n\nconst SocialSection: React.FC = () => {\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [activeTab, setActiveTab] = useState<'post' | 'poll'>('post');\n  const { user } = useSelector((state: RootState) => state.auth);\n\n  // Fetch latest post\n  const { data: postsData } = useGetPostsQuery({\n    page: 1,\n    limit: 1,\n    isPublished: true,\n    isArchived: false,\n    sortBy: 'createdAt',\n    sortOrder: 'desc',\n  });\n\n  // Fetch active poll\n  const { data: pollsData } = useGetActivePollsQuery();\n\n  const [votePoll] = useVotePollMutation();\n\n  const latestPost = postsData?.posts?.[0];\n  const activePoll = pollsData?.activePolls?.[0];\n\n  // Poll voting handler\n  const handleInstantVote = async (pollId: string, optionId: string, allowMultiple: boolean, currentUserVotes: string[]) => {\n    let newVotes: string[];\n\n    if (allowMultiple) {\n      if (currentUserVotes.includes(optionId)) {\n        newVotes = currentUserVotes.filter(id => id !== optionId);\n      } else {\n        newVotes = [...currentUserVotes, optionId];\n      }\n    } else {\n      if (currentUserVotes.includes(optionId)) {\n        newVotes = [];\n      } else {\n        newVotes = [optionId];\n      }\n    }\n\n    try {\n      await votePoll({\n        pollId,\n        data: { optionIds: newVotes }\n      }).unwrap();\n      \n      if (newVotes.length === 0) {\n        toast.success('All votes removed successfully!');\n      } else {\n        toast.success('Vote updated successfully!');\n      }\n    } catch (error) {\n      console.error('Vote error:', error);\n      toast.error('Failed to update vote');\n    }\n  };\n\n  // Enhanced Poll Card component with stats\n  const CompactPollCard: React.FC<{ poll: Poll }> = ({ poll }) => {\n    const [expandedStats, setExpandedStats] = useState(false);\n    const [expandedVoters, setExpandedVoters] = useState<string | null>(null);\n    const isExpired = poll.expiresAt && new Date() > new Date(poll.expiresAt);\n    const canVote = poll.isActive && !isExpired && user;\n\n    const { data: statsData, isLoading: statsLoading } = useGetPollStatsQuery(poll.id, {\n      skip: !expandedStats\n    });\n\n    // Helper function to get color based on percentage\n    const getColorForPercentage = (percentage: number) => {\n      if (percentage >= 60) return 'bg-green-200 border-green-400 text-green-900';\n      if (percentage >= 40) return 'bg-yellow-200 border-yellow-400 text-yellow-900';\n      if (percentage >= 20) return 'bg-orange-200 border-orange-400 text-orange-900';\n      return 'bg-red-200 border-red-400 text-red-900';\n    };\n\n    const toggleVoters = (optionId: string) => {\n      setExpandedVoters(expandedVoters === optionId ? null : optionId);\n    };\n\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4\">\n        {/* Poll Header */}\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n            {poll.title}\n          </h3>\n          {poll.description && (\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm mb-3\">\n              {poll.description}\n            </p>\n          )}\n          <div className=\"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-1\">\n                <UserGroupIcon className=\"h-4 w-4\" />\n                <span>{poll.totalVotes} votes</span>\n              </div>\n              {poll.expiresAt && (\n                <div className=\"flex items-center space-x-1\">\n                  <ClockIcon className=\"h-4 w-4\" />\n                  <span>\n                    {isExpired ? 'Expired' : `Expires ${formatDistanceToNow(new Date(poll.expiresAt))} from now`}\n                  </span>\n                </div>\n              )}\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              {poll.hasVoted && (\n                <div className=\"flex items-center space-x-1 text-green-600\">\n                  <CheckCircleIcon className=\"h-4 w-4\" />\n                  <span>Voted</span>\n                </div>\n              )}\n              <button\n                onClick={() => setExpandedStats(!expandedStats)}\n                className=\"flex items-center space-x-1 px-2 py-1 text-blue-600 hover:bg-blue-50 rounded transition-colors\"\n              >\n                <ChartBarIcon className=\"h-4 w-4\" />\n                <span>Stats</span>\n                {expandedStats ? (\n                  <ChevronUpIcon className=\"h-3 w-3\" />\n                ) : (\n                  <ChevronDownIcon className=\"h-3 w-3\" />\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Poll Options with colored percentages */}\n        <div className=\"space-y-3 mb-4\">\n          {poll.options.map((option) => {\n            const isUserVote = poll.userVote?.includes(option.id);\n            const showResults = poll.hasVoted || !poll.isActive || isExpired;\n            const optionColorClass = showResults ? getColorForPercentage(option.percentage) : '';\n            \n            return (\n              <div key={option.id} className=\"relative\">\n                <button\n                  onClick={() => canVote && handleInstantVote(poll.id, option.id, poll.allowMultiple, poll.userVote || [])}\n                  disabled={!canVote}\n                  className={`w-full p-3 rounded-lg border text-left transition-all relative overflow-hidden ${\n                    isUserVote\n                      ? 'border-green-300 bg-green-50 text-green-800'\n                      : canVote\n                      ? 'border-gray-300 hover:border-blue-400 hover:bg-blue-50'\n                      : showResults\n                      ? optionColorClass\n                      : 'border-gray-200'\n                  }`}\n                >\n                  {/* Progress bar background with color based on percentage */}\n                  {showResults && (\n                    <div \n                      className=\"absolute inset-0 opacity-20\"\n                      style={{ \n                        background: `linear-gradient(to right, currentColor ${option.percentage}%, transparent ${option.percentage}%)` \n                      }}\n                    />\n                  )}\n                  \n                  <div className=\"relative flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"font-medium\">{option.text}</span>\n                      {isUserVote && (\n                        <CheckCircleIcon className=\"h-4 w-4 text-green-600\" />\n                      )}\n                    </div>\n                    {showResults && (\n                      <div className=\"flex items-center space-x-2 text-sm\">\n                        <span>{option.voteCount} votes</span>\n                        <span className=\"font-semibold\">{option.percentage}%</span>\n                      </div>\n                    )}\n                  </div>\n                </button>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Stats Accordion */}\n        <AnimatePresence>\n          {expandedStats && (\n            <motion.div\n              initial={{ height: 0, opacity: 0 }}\n              animate={{ height: 'auto', opacity: 1 }}\n              exit={{ height: 0, opacity: 0 }}\n              transition={{ duration: 0.3 }}\n              className=\"border-t border-gray-200 dark:border-gray-700 pt-4 overflow-hidden\"\n            >\n              {statsLoading ? (\n                <div className=\"text-center py-4\">\n                  <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"></div>\n                </div>\n              ) : statsData ? (\n                <div className=\"space-y-4\">\n                  {/* Summary Stats */}\n                  <div className=\"grid grid-cols-2 gap-4 text-center\">\n                    <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                      <div className=\"text-2xl font-bold text-blue-600\">{statsData.totalVotes}</div>\n                      <div className=\"text-sm text-gray-600 dark:text-gray-400\">Total Votes</div>\n                    </div>\n                    <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                      <div className=\"text-2xl font-bold text-green-600\">{statsData.totalVoters}</div>\n                      <div className=\"text-sm text-gray-600 dark:text-gray-400\">Total Voters</div>\n                    </div>\n                  </div>\n\n                  {/* Option Details with Dropdown Voters */}\n                  <div className=\"space-y-3\">\n                    <h4 className=\"font-semibold text-gray-900 dark:text-white flex items-center\">\n                      <ChartBarIcon className=\"h-4 w-4 mr-2\" />\n                      Vote Breakdown\n                    </h4>\n                    {statsData.options.map((option) => (\n                      <div key={option.id} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                        <div>\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <span className=\"font-medium\">{option.text}</span>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-sm\">{option.voteCount} votes</span>\n                              <span className=\"font-bold\">{option.percentage}%</span>\n                            </div>\n                          </div>\n                          \n                          {/* Voters Dropdown */}\n                          {!statsData.poll.isAnonymous && option.voters.length > 0 && (\n                            <div className=\"mt-2\">\n                              <button\n                                onClick={() => toggleVoters(option.id)}\n                                className=\"flex items-center justify-between w-full text-sm p-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:hover:bg-gray-500 rounded border border-gray-300 dark:border-gray-500 transition-colors\"\n                              >\n                                <span className=\"font-medium text-gray-700 dark:text-gray-200\">\n                                  Voted by ({option.voters.length})\n                                </span>\n                                {expandedVoters === option.id ? (\n                                  <ChevronUpIcon className=\"h-4 w-4 text-gray-600 dark:text-gray-300\" />\n                                ) : (\n                                  <ChevronDownIcon className=\"h-4 w-4 text-gray-600 dark:text-gray-300\" />\n                                )}\n                              </button>\n                              \n                              <AnimatePresence>\n                                {expandedVoters === option.id && (\n                                  <motion.div\n                                    initial={{ height: 0, opacity: 0 }}\n                                    animate={{ height: 'auto', opacity: 1 }}\n                                    exit={{ height: 0, opacity: 0 }}\n                                    transition={{ duration: 0.2 }}\n                                    className=\"mt-2 overflow-hidden\"\n                                  >\n                                    <div className=\"space-y-1 max-h-32 overflow-y-auto\">\n                                      {option.voters.map((voter) => (\n                                        <div\n                                          key={voter.id}\n                                          className=\"flex items-center justify-between text-xs p-2 bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded\"\n                                        >\n                                          <div className=\"flex items-center space-x-2\">\n                                            <div className=\"h-6 w-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-xs\">\n                                              {voter.fullName.split(' ').map(word => word.charAt(0)).join('').slice(0, 2).toUpperCase()}\n                                            </div>\n                                            <span className=\"font-medium\">{voter.fullName}</span>\n                                            {voter.batch && (\n                                              <span className=\"text-gray-500\">({voter.batch})</span>\n                                            )}\n                                          </div>\n                                          <span className=\"text-gray-400\">{formatDistanceToNow(new Date(voter.votedAt))} ago</span>\n                                        </div>\n                                      ))}\n                                    </div>\n                                  </motion.div>\n                                )}\n                              </AnimatePresence>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center py-4 text-gray-500\">Failed to load stats</div>\n              )}\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    );\n  };\n\n  // Don't render if no content\n  if (!latestPost && !activePoll) {\n    return null;\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: 0.2 }}\n      className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\"\n    >\n      {/* Accordion Header */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"w-full px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n      >\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500\">\n            <SparklesIcon className=\"h-5 w-5 text-white\" />\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Social</h3>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n            {isExpanded ? 'Collapse' : 'Expand'}\n          </span>\n          {isExpanded ? (\n            <ChevronUpIcon className=\"h-5 w-5 text-gray-400\" />\n          ) : (\n            <ChevronDownIcon className=\"h-5 w-5 text-gray-400\" />\n          )}\n        </div>\n      </button>\n\n      {/* Accordion Content */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"p-6\">\n              {/* Tab Navigation */}\n              <div className=\"flex space-x-1 mb-6 bg-gray-100 dark:bg-gray-700 rounded-lg p-1\">\n                {latestPost && (\n                  <button\n                    onClick={() => setActiveTab('post')}\n                    className={`flex-1 flex items-center justify-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      activeTab === 'post'\n                        ? 'bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm'\n                        : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white'\n                    }`}\n                  >\n                    <DocumentTextIcon className=\"h-4 w-4\" />\n                    <span>Post</span>\n                    <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\">\n                      Latest\n                    </span>\n                  </button>\n                )}\n                {activePoll && (\n                  <button\n                    onClick={() => setActiveTab('poll')}\n                    className={`flex-1 flex items-center justify-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      activeTab === 'poll'\n                        ? 'bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm'\n                        : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white'\n                    }`}\n                  >\n                    <ChartBarIcon className=\"h-4 w-4\" />\n                    <span>Poll</span>\n                    <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200\">\n                      Active\n                    </span>\n                  </button>\n                )}\n              </div>\n\n              {/* Tab Content */}\n              <div className=\"min-h-[200px]\">\n                {activeTab === 'post' && latestPost && (\n                  <motion.div\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    <PostCard \n                      post={latestPost} \n                      showActions={false}\n                    />\n                  </motion.div>\n                )}\n\n                {activeTab === 'poll' && activePoll && (\n                  <motion.div\n                    initial={{ opacity: 0, x: 20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    <CompactPollCard poll={activePoll} />\n                  </motion.div>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n};\n\nexport default SocialSection;","// src/components/user/AlumniStorySection.tsx\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  ChevronDownIcon,\n  ChevronUpIcon,\n  BookOpenIcon,\n  SparklesIcon,\n} from '@heroicons/react/24/outline';\nimport { useGetPostsQuery } from '../../store/api/postApi';\nimport PostCard from './PostCard';\n\nconst AlumniStorySection: React.FC = () => {\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  // Fetch latest Alumni Story post (category = STORY)\n  const { data: storyData, isLoading } = useGetPostsQuery({\n    page: 1,\n    limit: 1,\n    category: 'STORY',\n    isPublished: true,\n    isArchived: false,\n    sortBy: 'createdAt',\n    sortOrder: 'desc',\n  });\n\n  const alumniStory = storyData?.posts?.[0];\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: 0.3 }}\n      className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\"\n    >\n      {/* Accordion Header */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"w-full px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n      >\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-500\">\n            <BookOpenIcon className=\"h-5 w-5 text-white\" />\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Alumni Story of the Month</h3>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n            {isExpanded ? 'Collapse' : 'Expand'}\n          </span>\n          {isExpanded ? (\n            <ChevronUpIcon className=\"h-5 w-5 text-gray-400\" />\n          ) : (\n            <ChevronDownIcon className=\"h-5 w-5 text-gray-400\" />\n          )}\n        </div>\n      </button>\n\n      {/* Accordion Content */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"p-6\">\n              {isLoading ? (\n                <div className=\"flex justify-center py-8\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600\"></div>\n                </div>\n              ) : alumniStory ? (\n                <motion.div\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ duration: 0.2 }}\n                >\n                  <PostCard\n                    post={alumniStory}\n                    showActions={false}\n                  />\n                </motion.div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <div className=\"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-amber-50 dark:bg-amber-900/20\">\n                    <SparklesIcon className=\"h-8 w-8 text-amber-500\" />\n                  </div>\n                  <h4 className=\"text-gray-900 dark:text-white font-medium mb-2\">No Alumni Story Yet</h4>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto\">\n                    Stay tuned! We'll feature inspiring stories from our alumni community here.\n                  </p>\n                </div>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n};\n\nexport default AlumniStorySection;\n","// src/components/user/EventsComingSoon.tsx\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  ChevronDownIcon,\n  ChevronUpIcon,\n  CalendarDaysIcon,\n  SparklesIcon,\n} from '@heroicons/react/24/outline';\n\nconst EventsComingSoon: React.FC = () => {\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: 0.4 }}\n      className=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\"\n    >\n      {/* Accordion Header */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"w-full px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n      >\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-500\">\n            <CalendarDaysIcon className=\"h-5 w-5 text-white\" />\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Events</h3>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n            {isExpanded ? 'Collapse' : 'Expand'}\n          </span>\n          {isExpanded ? (\n            <ChevronUpIcon className=\"h-5 w-5 text-gray-400\" />\n          ) : (\n            <ChevronDownIcon className=\"h-5 w-5 text-gray-400\" />\n          )}\n        </div>\n      </button>\n\n      {/* Accordion Content */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"p-6\">\n              <div className=\"text-center py-8\">\n                <div className=\"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-100 to-indigo-100 dark:from-purple-900/30 dark:to-indigo-900/30\">\n                  <SparklesIcon className=\"h-8 w-8 text-purple-500\" />\n                </div>\n                <h4 className=\"text-gray-900 dark:text-white font-medium mb-2\">Coming Soon</h4>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto\">\n                  Exciting events and reunions are being planned! Stay tuned for upcoming alumni gatherings, workshops, and networking opportunities.\n                </p>\n                <div className=\"mt-4 inline-flex items-center px-3 py-1.5 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-medium\">\n                  <CalendarDaysIcon className=\"h-3.5 w-3.5 mr-1.5\" />\n                  Feature launching soon\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n};\n\nexport default EventsComingSoon;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useNavigate } from 'react-router-dom';\nimport { MegaphoneIcon, XMarkIcon, ChevronLeftIcon, ChevronRightIcon } from '@heroicons/react/24/outline';\nimport { useGetActiveAnnouncementsQuery } from '../../../store/api/announcementApi';\n\nconst SCROLL_SPEED = 50; // pixels per second\nconst PAUSE_BEFORE_SCROLL = 1500; // ms to wait before starting scroll\nconst PAUSE_AFTER_SCROLL = 2000; // ms to pause after scroll completes\nconst SHORT_TEXT_DURATION = 5000; // ms to show short text before advancing\n\nconst AnnouncementBanner: React.FC = () => {\n  const navigate = useNavigate();\n  const { data, isLoading } = useGetActiveAnnouncementsQuery();\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [dismissed, setDismissed] = useState(false); // Temporary dismiss for current session only\n  const [scrollState, setScrollState] = useState<'idle' | 'waiting' | 'scrolling' | 'done'>('idle');\n  const [textOverflows, setTextOverflows] = useState(false);\n  const [scrollDistance, setScrollDistance] = useState(0);\n  const textRef = useRef<HTMLSpanElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const announcements = data?.announcements || [];\n\n  // Check if text overflows container\n  const checkOverflow = useCallback(() => {\n    if (textRef.current && containerRef.current) {\n      const textWidth = textRef.current.scrollWidth;\n      const containerWidth = containerRef.current.clientWidth;\n      const overflows = textWidth > containerWidth;\n      const distance = textWidth - containerWidth + 30;\n      setTextOverflows(overflows);\n      setScrollDistance(distance);\n      return overflows;\n    }\n    return false;\n  }, []);\n\n  // Reset and check overflow when announcement changes\n  useEffect(() => {\n    setScrollState('idle');\n    // Small delay to let the DOM update\n    const timer = setTimeout(() => {\n      checkOverflow();\n    }, 100);\n    return () => clearTimeout(timer);\n  }, [currentIndex, checkOverflow]);\n\n  // Handle the scroll cycle\n  useEffect(() => {\n    if (announcements.length === 0) return;\n\n    let timer: NodeJS.Timeout;\n\n    switch (scrollState) {\n      case 'idle':\n        // Start the cycle - wait before scrolling or advancing\n        timer = setTimeout(() => {\n          if (textOverflows) {\n            setScrollState('scrolling');\n          } else {\n            setScrollState('done');\n          }\n        }, textOverflows ? PAUSE_BEFORE_SCROLL : SHORT_TEXT_DURATION);\n        break;\n\n      case 'scrolling':\n        // Scrolling is handled by framer-motion animation\n        // onAnimationComplete will set state to 'done'\n        break;\n\n      case 'done':\n        // Wait then advance to next announcement\n        timer = setTimeout(() => {\n          if (announcements.length > 1) {\n            setCurrentIndex((prev) => (prev + 1) % announcements.length);\n          } else {\n            // Single announcement - restart the cycle\n            setScrollState('idle');\n          }\n        }, textOverflows ? PAUSE_AFTER_SCROLL : 0);\n        break;\n    }\n\n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, [scrollState, textOverflows, announcements.length]);\n\n  // Calculate scroll duration based on distance\n  const getScrollDuration = () => {\n    return Math.max(scrollDistance / SCROLL_SPEED, 3);\n  };\n\n  // Reset index if it goes out of bounds\n  useEffect(() => {\n    if (currentIndex >= announcements.length && announcements.length > 0) {\n      setCurrentIndex(0);\n    }\n  }, [announcements.length, currentIndex]);\n\n  // Temporary dismiss - only hides banner until page refresh\n  const handleDismiss = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setDismissed(true);\n  };\n\n  const handlePrev = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setCurrentIndex((prev) => (prev - 1 + announcements.length) % announcements.length);\n  };\n\n  const handleNext = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setCurrentIndex((prev) => (prev + 1) % announcements.length);\n  };\n\n  const handleBannerClick = () => {\n    navigate('/user/social', { state: { tab: 'announcements' } });\n  };\n\n\n  // Hide if dismissed or no announcements\n  if (isLoading || announcements.length === 0 || dismissed) {\n    return null;\n  }\n\n  const currentAnnouncement = announcements[currentIndex];\n  if (!currentAnnouncement) return null;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -20 }}\n      animate={{ opacity: 1, y: 0 }}\n      onClick={handleBannerClick}\n      className=\"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-700 cursor-pointer hover:from-blue-700 hover:to-indigo-700 dark:hover:from-blue-800 dark:hover:to-indigo-800 transition-all\"\n    >\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"py-3 flex items-center justify-between\">\n          {/* Left side - Icon and Navigation */}\n          <div className=\"flex items-center space-x-3 flex-shrink-0\">\n            <div className=\"flex-shrink-0\">\n              <MegaphoneIcon className=\"h-5 w-5 text-white\" />\n            </div>\n\n            {announcements.length > 1 && (\n              <div className=\"flex items-center space-x-1\">\n                <button\n                  onClick={handlePrev}\n                  className=\"p-1 rounded hover:bg-white/20 transition-colors\"\n                  aria-label=\"Previous announcement\"\n                >\n                  <ChevronLeftIcon className=\"h-4 w-4 text-white\" />\n                </button>\n                <span className=\"text-xs text-white/80 min-w-[40px] text-center\">\n                  {currentIndex + 1}/{announcements.length}\n                </span>\n                <button\n                  onClick={handleNext}\n                  className=\"p-1 rounded hover:bg-white/20 transition-colors\"\n                  aria-label=\"Next announcement\"\n                >\n                  <ChevronRightIcon className=\"h-4 w-4 text-white\" />\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Center - Message with horizontal scroll */}\n          <div\n            ref={containerRef}\n            className=\"flex-1 mx-4 overflow-hidden relative\"\n          >\n            <AnimatePresence mode=\"wait\">\n              <motion.div\n                key={currentAnnouncement.id}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{ duration: 0.3 }}\n                className=\"whitespace-nowrap\"\n              >\n                <motion.span\n                  ref={textRef}\n                  className=\"text-sm text-white inline-block\"\n                  initial={{ x: 0 }}\n                  animate={{\n                    x: scrollState === 'scrolling' && textOverflows ? -scrollDistance : 0\n                  }}\n                  transition={scrollState === 'scrolling' ? {\n                    duration: getScrollDuration(),\n                    ease: 'linear',\n                  } : { duration: 0 }}\n                  onAnimationComplete={() => {\n                    if (scrollState === 'scrolling') {\n                      setScrollState('done');\n                    }\n                  }}\n                >\n                  {currentAnnouncement.message}\n                </motion.span>\n              </motion.div>\n            </AnimatePresence>\n          </div>\n\n          {/* Right side - Dismiss (temporary until refresh) */}\n          <button\n            onClick={handleDismiss}\n            className=\"flex-shrink-0 p-1 rounded hover:bg-white/20 transition-colors\"\n            aria-label=\"Dismiss announcement\"\n          >\n            <XMarkIcon className=\"h-5 w-5 text-white\" />\n          </button>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default AnnouncementBanner;\n"],"names":["BookOpenIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","CakeIcon","celebrationsApi","apiSlice","builder","response","params","month","year","festivalId","enabled","useGetTodaysBirthdaysQuery","useGetUpcomingBirthdaysQuery","useGetTodaysFestivalsQuery","useGetUpcomingFestivalsQuery","useGetFestivalCalendarQuery","StaticParticles","particles","jsx","particle","index","BirthdaysCard","todaysBirthdays","todaysLoading","refetchTodays","upcomingBirthdays","upcomingLoading","refetchUpcoming","showAccordion","setShowAccordion","React","todayCount","upcomingCount","total","day","upcomingList","list","birthday","motion","jsxs","_","i","ChevronUpIcon","AnimatePresence","getApiUrl","e","target","n","FestivalsCard","todaysFestivals","upcomingFestivals","festivalCalendar","calendarLoading","calendarError","showCalendarModal","setShowCalendarModal","selectedMonth","setSelectedMonth","openMonthAccordions","setOpenMonthAccordions","nextFestival","firstDay","firstFestival","monthNames","getFestivalsForMonth","monthIndex","m","toggleMonthAccordion","newSet","Fragment","SparklesIcon","CalendarIcon","ChevronRightIcon","festival","parent","XMarkIcon","monthFestivals","isOpen","SocialSection","isExpanded","setIsExpanded","useState","activeTab","setActiveTab","user","useSelector","state","postsData","useGetPostsQuery","pollsData","useGetActivePollsQuery","votePoll","useVotePollMutation","latestPost","activePoll","handleInstantVote","pollId","optionId","allowMultiple","currentUserVotes","newVotes","id","toast","error","CompactPollCard","poll","expandedStats","setExpandedStats","expandedVoters","setExpandedVoters","isExpired","canVote","statsData","statsLoading","useGetPollStatsQuery","getColorForPercentage","percentage","toggleVoters","UserGroupIcon","ClockIcon","formatDistanceToNow","CheckCircleIcon","ChartBarIcon","ChevronDownIcon","option","isUserVote","showResults","optionColorClass","voter","word","DocumentTextIcon","PostCard","AlumniStorySection","storyData","isLoading","alumniStory","EventsComingSoon","CalendarDaysIcon","SCROLL_SPEED","PAUSE_BEFORE_SCROLL","PAUSE_AFTER_SCROLL","SHORT_TEXT_DURATION","AnnouncementBanner","navigate","useNavigate","data","useGetActiveAnnouncementsQuery","currentIndex","setCurrentIndex","dismissed","setDismissed","scrollState","setScrollState","textOverflows","setTextOverflows","scrollDistance","setScrollDistance","textRef","useRef","containerRef","announcements","checkOverflow","useCallback","textWidth","containerWidth","overflows","distance","useEffect","timer","prev","getScrollDuration","handleDismiss","handlePrev","handleNext","handleBannerClick","currentAnnouncement","MegaphoneIcon","ChevronLeftIcon"],"mappings":"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","x_google_ignoreList":[0,1]}