import{j as e,A as H,m as F,z as Z,L as _}from"./ui-DhYQrQWF.js";import{r as a,u as U,L as D,b as K,O as W}from"./router-BgvBx64T.js";import{u as X,a as ee,s as re,b as me,c as ue}from"./index-CZ6-uofb.js";import{C as $}from"./redux-CfKcOgfB.js";import{u as he,a as xe,b as fe,c as ge,d as pe,e as be}from"./notificationApi-BtHj9JJF.js";import{L as ye}from"./LoadingSpinner-r4aotE8K.js";import{F as T}from"./BellIcon-mqZjlE4W.js";import{F as z}from"./XMarkIcon-B58Eb0hU.js";import{F as ve}from"./CheckIcon-B_tjaMlt.js";import{F as we}from"./TrashIcon-CkjDT07c.js";import{u as je,T as ke}from"./ThemeToggle-B28KeV3D.js";import{F as b}from"./UserCircleIcon-DqwP03CJ.js";import{F as Ne}from"./SunIcon-U8s0AJyx.js";import{F as Ee}from"./CogIcon-DhR3XAxf.js";import{F as V}from"./ArrowRightOnRectangleIcon-DXwFpGP6.js";import{O as ae}from"./OrganizationLogo-MvRZbxAm.js";import{F as Me}from"./EllipsisHorizontalIcon-D05md_Ps.js";import{F as m}from"./ChatBubbleLeftRightIcon-zEq44rCU.js";import{F as q}from"./CalendarIcon-D1CEt3gK.js";import{F as Re}from"./AcademicCapIcon-XPGSWThM.js";import{F as y}from"./UsersIcon-B-AjT4um.js";import{F as Ae}from"./BuildingOfficeIcon-CBTzfCjr.js";import{F as Fe}from"./ChartBarIcon-xItc45cH.js";import{F as j}from"./UserGroupIcon-DpuBUa9P.js";import{F as g}from"./CalendarDaysIcon-ft5KN93A.js";import{F as C}from"./HeartIcon-DSbpAwJl.js";import{F as S}from"./BanknotesIcon-C7tYgXVY.js";import{F as L}from"./PhotoIcon-DMrbcBnP.js";import{F as O}from"./LifebuoyIcon-B7DpLzIg.js";import{F as B}from"./CheckBadgeIcon-BZcHyBTc.js";import{F as te}from"./DocumentTextIcon-CP6_YxxS.js";import"./vendor-c5ypKtDW.js";function Ce({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Se=a.forwardRef(Ce);function Le({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const k=a.forwardRef(Le);function Oe({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const ne=a.forwardRef(Oe);function De({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const v=a.forwardRef(De);function $e({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const ze=a.forwardRef($e);function Be({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const se=a.forwardRef(Be);function Ue({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const oe=a.forwardRef(Ue);function Ie({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),a.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),a.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))}const Ze=a.forwardRef(Ie);function Pe({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const He=a.forwardRef(Pe);function Te({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{fillRule:"evenodd",d:"M4.5 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5h-.75V3.75a.75.75 0 0 0 0-1.5h-15ZM9 6a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm-.75 3.75A.75.75 0 0 1 9 9h1.5a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM9 12a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H9Zm3.75-5.25A.75.75 0 0 1 13.5 6H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM13.5 9a.75.75 0 0 0 0 1.5H15A.75.75 0 0 0 15 9h-1.5Zm-.75 3.75a.75.75 0 0 1 .75-.75H15a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM9 19.5v-2.25a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 9 19.5Z",clipRule:"evenodd"}))}const Ve=a.forwardRef(Te);function Ge({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const J=a.forwardRef(Ge);function _e({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const We=a.forwardRef(_e);function qe({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),a.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const Q=a.forwardRef(qe);function Je({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),a.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const P=a.forwardRef(Je);function Qe({title:r,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),r?a.createElement("title",{id:t},r):null,a.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))}const Y=a.forwardRef(Qe),Ye=()=>{const r=U(),[t,n]=a.useState(!1),[s,u]=a.useState("all"),{data:h,isLoading:o,error:d}=he({page:1,limit:20,unreadOnly:s==="unread"}),{data:x}=xe(),[E]=fe(),[M]=ge(),[N]=pe(),[w,{isLoading:R}]=be(),p=h?.notifications||[],c=x?.count||0,A=async i=>{try{const f=await E(i).unwrap();console.log("Mark as read success:",f)}catch(f){console.error("Failed to mark notification as read:",f),f?.data?.message,console.log("Detailed error:",JSON.stringify(f,null,2))}},l=async()=>{try{await M().unwrap()}catch(i){console.error("Failed to mark all notifications as read:",i)}},I=async()=>{if(confirm("Are you sure you want to delete all notifications? This action cannot be undone."))try{const i=await w().unwrap();console.log(`Successfully cleared ${i.deletedCount} notifications`)}catch(i){console.error("Failed to clear all notifications:",i),i?.data?.message,console.log("Detailed error:",JSON.stringify(i,null,2))}},ie=async i=>{try{const f=await N(i).unwrap();console.log("Delete notification success:",f)}catch(f){console.error("Failed to delete notification:",f),f?.data?.message,console.log("Detailed error:",JSON.stringify(f,null,2))}},le=i=>{switch(i){case"ALUMNI_VERIFIED":return"âœ…";case"ALUMNI_REJECTED":return"âŒ";case"ROLE_UPDATED":return"ðŸ‘‘";default:return"ðŸ“¢"}},ce=i=>{switch(i){case"EMERGENCY":return"text-red-600 dark:text-red-400";case"HIGH":return"text-orange-600 dark:text-orange-400";case"NORMAL":return"text-blue-600 dark:text-blue-400";case"LOW":return"text-gray-600 dark:text-gray-400";default:return"text-gray-600 dark:text-gray-400"}},G=window.innerWidth<768,de=()=>{G?r("/notifications"):n(!t)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:de,className:"relative p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200","aria-label":"Notifications",children:[c>0?e.jsx(He,{className:"h-6 w-6 text-orange-500"}):e.jsx(T,{className:"h-6 w-6"}),c>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-white bg-red-500 rounded-full min-w-[1.25rem] h-5",children:c>99?"99+":c})]}),e.jsx(H,{children:t&&!G&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 sm:hidden",onClick:()=>n(!1)}),e.jsxs(F.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-80 sm:w-96 lg:w-[28rem] bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 max-h-[32rem] sm:max-h-[40rem] flex flex-col",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),e.jsx("button",{onClick:()=>n(!1),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:e.jsx(z,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>u("all"),className:`px-3 py-1 text-sm rounded-full transition-colors ${s==="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"All"}),e.jsxs("button",{onClick:()=>u("unread"),className:`px-3 py-1 text-sm rounded-full transition-colors ${s==="unread"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}`,children:["Unread (",c,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c>0&&e.jsx("button",{onClick:l,className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Mark all read"}),p.length>0&&e.jsx("button",{onClick:I,disabled:R,className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors disabled:opacity-50",children:R?"Clearing...":"Clear all"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:o?e.jsx("div",{className:"p-4 flex justify-center",children:e.jsx(ye,{size:"sm"})}):d?e.jsx("div",{className:"p-4 text-center text-red-600 dark:text-red-400",children:"Failed to load notifications"}):p.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:s==="unread"?"No unread notifications":"No notifications"}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.map(i=>e.jsx(F.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:`p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${i.isRead?"":"bg-blue-50 dark:bg-blue-900/10"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:le(i.type)})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm font-medium ${i.isRead?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`,children:i.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:i.message}),e.jsx("p",{className:`mt-1 text-xs ${i.priority?ce(i.priority):"text-gray-500 dark:text-gray-400"}`,children:new Date(i.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!i.isRead&&e.jsx("button",{onClick:()=>A(i.id),className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Mark as read",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ie(i.id),className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Delete notification",children:e.jsx(we,{className:"h-4 w-4"})})]})]})})]})},i.id))})}),p.length>0&&e.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"View all notifications"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[p.length," notification",p.length!==1?"s":""]})]})})]})]})})]})},Ke=({className:r=""})=>{const[t,n]=a.useState(!1),[s,u]=a.useState(!1),h=a.useRef(null),{user:o,logout:d}=X(),{theme:x,toggleTheme:E}=je();a.useEffect(()=>{const w=R=>{h.current&&!h.current.contains(R.target)&&n(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const M=()=>{E()},N=()=>{d(),n(!1)};return e.jsxs("div",{className:`relative ${r}`,ref:h,children:[e.jsxs("button",{onClick:()=>n(!t),className:"flex items-center space-x-2 p-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors duration-200","aria-label":"User menu",children:[!s&&o?.id?e.jsx("img",{src:`/api/users/profile-picture/${o.id}`,alt:o.fullName||"User",className:"h-8 w-8 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600",onError:()=>u(!0)}):e.jsx(b,{className:"h-8 w-8"}),e.jsxs("div",{className:"hidden sm:block text-left",children:[e.jsx("p",{className:"text-sm font-medium",children:o?.fullName||"Admin User"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:o?.role?.toLowerCase().replace("_"," ")||"Admin"})]})]}),e.jsx(H,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>n(!1)}),e.jsxs(F.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[!s&&o?.id?e.jsx("img",{src:`/api/users/profile-picture/${o.id}`,alt:o.fullName||"User",className:"h-10 w-10 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600",onError:()=>u(!0)}):e.jsx(b,{className:"h-10 w-10 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o?.fullName||"Admin User"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o?.email||"admin@alumni.portal"}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 capitalize",children:o?.role?.toLowerCase().replace("_"," ")||"Admin"})]})]})}),e.jsxs("div",{className:"py-2",children:[e.jsxs(D,{to:"/profile",onClick:()=>n(!1),className:"w-full flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[e.jsx(b,{className:"h-5 w-5 mr-3"}),e.jsx("span",{children:"My Profile"})]}),e.jsxs("button",{onClick:M,className:"w-full flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[x.isDark?e.jsx(Ne,{className:"h-5 w-5 mr-3"}):e.jsx(ze,{className:"h-5 w-5 mr-3"}),e.jsx("span",{children:x.isDark?"Light Mode":"Dark Mode"})]}),e.jsxs("button",{className:"w-full flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[e.jsx(Ee,{className:"h-5 w-5 mr-3"}),e.jsx("span",{children:"Settings"})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),e.jsxs("button",{onClick:N,className:"w-full flex items-center px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200",children:[e.jsx(V,{className:"h-5 w-5 mr-3"}),e.jsx("span",{children:"Logout"})]})]})]})]})})]})},Xe=({unreadNotifications:r=0})=>{U();const t=$(ee),[n,s]=a.useState(!1);return e.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 lg:hidden",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[e.jsx(D,{to:"/profile",className:"relative flex-shrink-0",children:!n&&t?.id?e.jsx("img",{src:`/api/users/profile-picture/${t.id}`,alt:t.name||"User",className:"w-10 h-10 rounded-full object-cover border-2 border-purple-500 dark:border-purple-400",onError:()=>s(!0)}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-lg border-2 border-purple-500 dark:border-purple-400",children:t?.name?.charAt(0)||t?.fullName?.charAt(0)||"U"})}),e.jsxs(D,{to:"/notifications",className:"relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Notifications",children:[e.jsx(T,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"}),r>0&&e.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:r>9?"9+":r})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ae,{size:"lg"})})]})})})},er=({userRole:r,onMoreClick:t})=>{const n=K(),u=(()=>{switch(r){case"SUPER_ADMIN":return[{name:"Users",path:"/admin/users",icon:y,iconSolid:Y},{name:"Dashboard",path:"/admin/dashboard",icon:v,iconSolid:P},{name:"Organization",path:"/admin/organization",icon:Ae,iconSolid:Ve},{name:"Analytics",path:"/admin/dashboard",icon:Fe,iconSolid:We}];case"BATCH_ADMIN":return[{name:"Users",path:"/admin/users",icon:y,iconSolid:Y},{name:"Dashboard",path:"/admin/dashboard",icon:v,iconSolid:P},{name:"Events",path:"/admin/events",icon:q,iconSolid:J},{name:"Social",path:"/user/social",icon:m,iconSolid:Q}];case"USER":default:return[{name:"Social",path:"/user/social",icon:m,iconSolid:Q},{name:"Dashboard",path:"/user/dashboard",icon:v,iconSolid:P},{name:"Events",path:"/user/events",icon:q,iconSolid:J},{name:"Directory",path:"/user/alumni",icon:Re,iconSolid:Ze}]}})(),h=o=>n.pathname===o||n.pathname.startsWith(o+"/");return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 lg:hidden",children:e.jsxs("div",{className:"grid grid-cols-5 h-16",children:[e.jsxs("button",{onClick:t,className:"flex flex-col items-center justify-center space-y-1 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-colors",children:[e.jsx(Me,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs font-medium",children:"More"})]}),u.map(o=>{const d=h(o.path),x=d?o.iconSolid:o.icon;return e.jsxs(D,{to:o.path,className:`flex flex-col items-center justify-center space-y-1 transition-colors ${d?"text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[e.jsx(x,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs font-medium",children:o.name})]},o.name)})]})})},rr=({isOpen:r,onClose:t,userRole:n,userName:s,userEmail:u,onLogout:h})=>{const o=U(),d=$(re),x=$(ee),[E,M]=a.useState(!1),N=()=>{t(),h()},w=c=>{o(c),t()},p=(()=>{switch(n){case"SUPER_ADMIN":return[{name:"Dashboard",path:"/admin/dashboard",icon:v},{name:"User Management",path:"/admin/users",icon:B},{name:"Alumni Directory",path:"/user/alumni",icon:y},{name:"Groups",path:"/admin/groups",icon:j},{name:"Organization",path:"/admin/organization",icon:k},{name:"Social",path:"/admin/social",icon:m},{name:"Posts Management",path:"/admin/posts",icon:se},{name:"Poll Management",path:"/admin/polls",icon:ne},{name:"Events",path:"/admin/events",icon:g},{name:"Event Management",path:"/admin/events-management",icon:g},{name:"Treasury",path:"/admin/treasury",icon:S},{name:"Merchandise",path:"/admin/merchandise",icon:oe},{name:"Communications",path:"/admin/communications",icon:m},{name:"Support",path:"/admin/support",icon:O},{name:"LifeLink",path:"/user/lifelink",icon:C},{name:"Gallery",path:"/user/gallery",icon:L},{name:"Reports",path:"/admin/reports",icon:te}];case"BATCH_ADMIN":return[{name:"Dashboard",path:"/admin/dashboard",icon:v},{name:"User Verification",path:"/admin/users",icon:B},{name:"Alumni Directory",path:"/user/alumni",icon:y},{name:"Groups",path:"/user/groups",icon:j},{name:"Organization",path:"/organization",icon:k},{name:"My Profile",path:"/user/profile",icon:b},{name:"Social",path:"/user/social",icon:m},{name:"Events",path:"/admin/events",icon:g},{name:"LifeLink",path:"/user/lifelink",icon:C},{name:"Treasury",path:"/admin/treasury",icon:S},{name:"Gallery",path:"/user/gallery",icon:L},{name:"Support",path:"/user/support",icon:O}];case"USER":default:return[{name:"Dashboard",path:"/user/dashboard",icon:v},{name:"My Profile",path:"/user/profile",icon:b},{name:"Alumni Directory",path:"/user/alumni",icon:y},{name:"Groups",path:"/user/groups",icon:j},{name:"Organization",path:"/organization",icon:k},{name:"Events",path:"/user/events",icon:g},{name:"Social",path:"/user/social",icon:m},{name:"LifeLink",path:"/user/lifelink",icon:C},{name:"Treasury",path:"/admin/treasury",icon:S},{name:"Gallery",path:"/user/gallery",icon:L},{name:"Support",path:"/user/support",icon:O}]}})();return e.jsx(Z,{show:r,as:a.Fragment,children:e.jsxs(_,{onClose:t,className:"relative z-50 lg:hidden",children:[e.jsx(Z.Child,{as:a.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),e.jsx(Z.Child,{as:a.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:e.jsxs(_.Panel,{className:"fixed left-0 top-0 bottom-0 w-80 bg-white dark:bg-gray-900 shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0",children:!E&&x?.id?e.jsx("img",{src:`/api/users/profile-picture/${x.id}`,alt:s,className:"w-10 h-10 rounded-full object-cover border-2 border-purple-500 dark:border-purple-400",onError:()=>M(!0)}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-base border-2 border-purple-500 dark:border-purple-400",children:s?.charAt(0)?.toUpperCase()||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:s}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:u})]})]}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex-shrink-0",children:e.jsx(z,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:e.jsx("div",{className:"space-y-1 px-2",children:p.map(c=>{const A=c.icon;return e.jsxs("button",{onClick:()=>w(c.path),className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx(A,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:c.name})]},c.path)})})}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dark Mode"}),e.jsx(ke,{})]}),e.jsx("button",{onClick:()=>w("/notifications"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Notifications",children:e.jsx(T,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]}),e.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-semibold",children:"Logout"})]}),e.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-semibold",children:"Close Menu"})]}),e.jsx("div",{className:"flex justify-center pt-2",children:e.jsx("img",{src:d?"/brand/guild-logo-white.png":"/brand/guild-logo.png",alt:"GUILD",className:"h-12 w-auto object-contain opacity-60"})})]})]})})]})})},ar=r=>{const t=[{name:"Dashboard",href:r==="USER"?"/user/dashboard":"/admin/dashboard",icon:v,current:!1,description:"Overview and analytics"}];return r==="USER"?[...t,{name:"My Profile",href:"/user/profile",icon:b,current:!1,description:"View and edit your profile"},{name:"Alumni Directory",href:"/user/alumni",icon:y,current:!1,description:"Browse and connect with alumni"},{name:"Groups",href:"/user/groups",icon:j,current:!1,description:"Organization groups and committees"},{name:"Organization",href:"/organization",icon:k,current:!1,description:"View organization details"},{name:"Events",href:"/user/events",icon:g,current:!1,description:"Browse upcoming events"},{name:"Social",href:"/user/social",icon:m,current:!1,description:"Social feed and interactions"},{name:"LifeLink",href:"/user/lifelink",icon:C,current:!1,description:"Blood donation network and emergency requests"},{name:"Treasury",href:"/admin/treasury",icon:S,current:!1,description:"View financial information"},{name:"Gallery",href:"/user/gallery",icon:L,current:!1,description:"Photo albums and memories"},{name:"Support",href:"/user/support",icon:O,current:!1,description:"Get help and support"}]:r==="BATCH_ADMIN"?[...t,{name:"User Verification",href:"/admin/users",icon:B,current:!1,description:"Verify alumni from your batch"},{name:"Alumni Directory",href:"/user/alumni",icon:y,current:!1,description:"Browse and connect with alumni"},{name:"Groups",href:"/user/groups",icon:j,current:!1,description:"Organization groups and committees"},{name:"Organization",href:"/organization",icon:k,current:!1,description:"View organization details"},{name:"My Profile",href:"/user/profile",icon:b,current:!1,description:"View and edit your profile"},{name:"Social",href:"/user/social",icon:m,current:!1,description:"Social feed and interactions"},{name:"Events",href:"/admin/events",icon:g,current:!1,description:"Browse and manage events"},{name:"LifeLink",href:"/user/lifelink",icon:C,current:!1,description:"Blood donation network and emergency requests"},{name:"Treasury",href:"/admin/treasury",icon:S,current:!1,description:"View financial information"},{name:"Gallery",href:"/user/gallery",icon:L,current:!1,description:"Photo albums and memories"},{name:"Support",href:"/user/support",icon:O,current:!1,description:"Get help and support"}]:[...t,{name:"User Management",href:"/admin/users",icon:B,current:!1,description:"Approve and manage users"},{name:"Alumni Directory",href:"/user/alumni",icon:y,current:!1,description:"Browse and connect with alumni"},{name:"Groups",href:"/admin/groups",icon:j,current:!1,description:"Manage organization groups and committees"},{name:"Organization",href:"/admin/organization",icon:k,current:!1,description:"Organization settings"},{name:"Social",href:"/admin/social",icon:m,current:!1,description:"Social feed and interactions"},{name:"Posts Management",href:"/admin/posts",icon:se,current:!1,description:"Manage and moderate posts"},{name:"Poll Management",href:"/admin/polls",icon:ne,current:!1,description:"Create and manage polls"},{name:"Events",href:"/admin/events",icon:g,current:!1,description:"Browse and view all events"},{name:"Event Management",href:"/admin/events-management",icon:g,current:!1,description:"Create, edit, and manage events"},{name:"Treasury",href:"/admin/treasury",icon:S,current:!1,description:"Financial management and treasury"},{name:"Merchandise",href:"/admin/merchandise",icon:oe,current:!1,description:"Merchandise store"},{name:"Communications",href:"/admin/communications",icon:m,current:!1,description:"Messages and notifications"},{name:"Support",href:"/admin/support",icon:O,current:!1,description:"Support ticket management"},{name:"LifeLink",href:"/user/lifelink",icon:C,current:!1,description:"Blood donation network and emergency requests"},{name:"Gallery",href:"/user/gallery",icon:L,current:!1,description:"Photo albums and memories"},{name:"Reports",href:"/admin/reports",icon:te,current:!1,description:"Generate reports"}]},tr=r=>r==="USER"?[{name:"Dashboard",href:"/user/dashboard",icon:v},{name:"Groups",href:"/user/groups",icon:j},{name:"Organization",href:"/organization",icon:k},{name:"Events",href:"/user/events",icon:g},{name:"Social",href:"/user/social",icon:m},{name:"Profile",href:"/profile",icon:b}]:r==="BATCH_ADMIN"?[{name:"Dashboard",href:"/admin/dashboard",icon:v},{name:"Users",href:"/admin/users",icon:y},{name:"Groups",href:"/user/groups",icon:j},{name:"Organization",href:"/organization",icon:k},{name:"Social",href:"/user/social",icon:m},{name:"Events",href:"/admin/events",icon:g},{name:"Profile",href:"/profile",icon:b}]:[{name:"Dashboard",href:"/admin/dashboard",icon:v},{name:"Users",href:"/admin/users",icon:y},{name:"Groups",href:"/admin/groups",icon:j},{name:"Social",href:"/admin/social",icon:m},{name:"Events",href:"/admin/events",icon:g},{name:"Organization",href:"/admin/organization",icon:k},{name:"Profile",href:"/profile",icon:b}],zr=()=>{const{user:r,logout:t}=X(),{isMobile:n}=me(),s=K(),u=U(),h=$(re),[o,d]=a.useState(!1),[x,E]=a.useState(!1),[M,N]=a.useState(!1),{data:w}=ue(),R=w?.name||"Organization",p=ar(r?.role||"USER");tr(r?.role||"USER");const c=p.map(l=>l.href===s.pathname?{...l,current:!0}:l.href==="/admin/events"&&s.pathname==="/admin/events"?{...l,current:!0}:l.href==="/admin/events-management"&&s.pathname==="/admin/events-management"?{...l,current:!0}:s.pathname.startsWith(l.href)&&!(l.href==="/admin/events"&&s.pathname.startsWith("/admin/events-"))?{...l,current:!0}:{...l,current:!1});a.useEffect(()=>{n&&d(!1)},[s.pathname,n]);const A=async()=>{await t(),u("/auth/login")};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(Xe,{unreadNotifications:0}),e.jsx("main",{className:"pb-20 pt-2",children:e.jsx(W,{})}),e.jsx(er,{userRole:r?.role||"USER",onMoreClick:()=>N(!0)}),e.jsx(rr,{isOpen:M,onClose:()=>N(!1),userRole:r?.role||"USER",userName:r?.name||r?.fullName||"User",userEmail:r?.email||"",onLogout:A})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[e.jsx(H,{children:o&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>d(!1)})}),e.jsxs(F.aside,{initial:!1,animate:{x:o||!n?0:-320},className:"fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg lg:sticky lg:top-0 lg:h-screen lg:z-0 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-center px-8 h-[80px] border-b border-gray-200 dark:border-gray-700 relative",children:[e.jsx("div",{className:"w-full h-14",children:e.jsx("img",{src:h?"/brand/guild-logo-white.png":"/brand/guild-logo.png",alt:"GUILD",className:"w-full h-full object-contain"})}),e.jsx("button",{onClick:()=>d(!1),className:"absolute right-6 lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(z,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:c.map(l=>{const I=l.icon;return e.jsxs(D,{to:l.href,className:`group flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors relative ${l.current?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border border-blue-200 dark:border-blue-800":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e.jsx(I,{className:"mr-3 h-5 w-5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:l.name}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:l.description})]}),l.current&&e.jsx(F.div,{layoutId:"activeNavItem",className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-600 rounded-r-full"})]},l.name)})}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:!x&&r?.id?e.jsx("img",{src:`/api/users/profile-picture/${r.id}`,alt:r.fullName,className:"h-10 w-10 rounded-full object-cover border-2 border-gray-200 dark:border-gray-600",onError:()=>E(!0)}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:r?.fullName?.charAt(0)?.toUpperCase()||"U"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:r?.fullName}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:r?.role==="SUPER_ADMIN"?"Super Admin":r?.role==="BATCH_ADMIN"?"Batch Admin":r?.email})]}),e.jsx("button",{onClick:A,className:"flex-shrink-0 p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Sign out",children:e.jsx(V,{className:"h-5 w-5"})})]}),r?.batch&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Batch ",r.batch," â€¢ ",r?.role==="BATCH_ADMIN"?"Admin":"Member"]})})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-30",children:e.jsx("div",{className:"px-6 h-[80px] flex items-center",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>d(!0),className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors mr-4",children:e.jsx(Se,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ae,{size:"lg",className:"flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:R}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r?.role==="SUPER_ADMIN"?"Super Admin Portal":r?.role==="BATCH_ADMIN"?"Batch Admin Portal":"Alumni Portal"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 px-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx(Ye,{}),e.jsx(Ke,{})]})]})})}),e.jsx("main",{className:"flex-1 overflow-auto pb-20",children:e.jsx(W,{})})]})]})};export{zr as default};
//# sourceMappingURL=AdminLayout-CmFyL6sd.js.map
