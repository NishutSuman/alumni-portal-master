import{j as e,m as w}from"./ui-DhYQrQWF.js";import{r as x,R as m}from"./router-BgvBx64T.js";import{u as G,a as E}from"./groupsApi-CrQPU5Ty.js";import{u as F}from"./index-CZ6-uofb.js";import{L as g}from"./LoadingSpinner-r4aotE8K.js";import{F as h}from"./ExclamationTriangleIcon-CN3zIufB.js";import{F as c}from"./UserGroupIcon-DpuBUa9P.js";import{F as C}from"./EnvelopeIcon-CJwyn6tp.js";import"./redux-CfKcOgfB.js";import"./vendor-c5ypKtDW.js";const A=()=>{F();const[a,o]=x.useState(null),[u,n]=x.useState(!1),{data:b,isLoading:p,isError:y,error:f}=G({isActive:!0,limit:50}),l=b?.groups||[];m.useEffect(()=>{l.length>0&&!a&&o(l[0].id)},[l,a]);const{data:t,isLoading:j,isError:i}=E({groupId:a,includeMembers:!0},{skip:!a}),N=r=>{r!==a&&(n(!0),o(r))};m.useEffect(()=>{(t||i)&&n(!1)},[t,i]);const v=({member:r})=>{const{user:s}=r;return e.jsx(w.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative group h-64 w-full",children:e.jsxs("div",{className:"relative w-full h-full bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 overflow-hidden border-b-4 border-b-blue-500 dark:border-b-blue-400",children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:r.role.replace(/_/g," ")})}),e.jsxs("div",{className:"p-4 text-center h-full flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:s.profileImage?e.jsx("img",{src:`/api/users/profile-picture/${s.id}`,alt:s.fullName,className:"h-16 w-16 rounded-full object-cover border-2 border-gray-100 dark:border-gray-700",onError:d=>{const k=d.target;k.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.fullName)}&background=3B82F6&color=fff&size=64`}}):e.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-lg font-bold border-2 border-gray-100 dark:border-gray-700",children:s.fullName.split(" ").map(d=>d[0]).join("").slice(0,2).toUpperCase()})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate mb-1",children:s.fullName}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-4",children:["Batch ",s.batch]}),e.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:s.email&&e.jsx("a",{href:`mailto:${s.email}`,className:"p-2 rounded-full bg-gray-50 dark:bg-gray-900/20 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",title:"Email",children:e.jsx(C,{className:"h-4 w-4"})})})]})]})})};return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(g,{size:"lg"})}):y?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(h,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Failed to Load Groups"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f?.data?.message||"Something went wrong"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(c,{className:"w-8 h-8 mr-3 text-blue-600"}),"Organization Groups"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Explore committees, cells, and leadership teams in our alumni organization"})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.length}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Groups"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.reduce((r,s)=>r+s.membersCount,0)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Members"})]})]})]})}),l.length>0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:l.map(r=>e.jsxs("button",{onClick:()=>N(r.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${a===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[r.name,r.membersCount>0&&e.jsx("span",{className:"ml-2 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs",children:r.membersCount})]},r.id))})}),e.jsx("div",{className:"p-6",children:j||u||!t&&a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(g,{size:"md"})}):t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t.name}),t.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Type: ",t.type.replace(/_/g," ")]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[t.membersCount," Members"]})]})]}),t.members&&t.members.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.members.map(r=>e.jsx(v,{member:r},r.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(c,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Members"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This group doesn't have any members yet."})]})]}):i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Failed to Load Group Details"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Unable to load the details for this group."})]}):null})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(c,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No Groups Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No groups are currently available"})]})]})};export{A as default};
//# sourceMappingURL=Groups-B4BrlkFQ.js.map
