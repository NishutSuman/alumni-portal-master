{"version":3,"file":"VerificationPendingPage-BzezPPeI.js","sources":["../../src/pages/auth/VerificationPendingPage.tsx"],"sourcesContent":["// pages/auth/VerificationPendingPage.tsx\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  ClockIcon,\n  EnvelopeIcon,\n  ExclamationTriangleIcon,\n  ArrowRightOnRectangleIcon,\n  UserGroupIcon,\n  PencilIcon,\n  XMarkIcon,\n  CheckIcon,\n  ArrowPathIcon\n} from '@heroicons/react/24/outline';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '@/hooks/useAuth';\nimport { useDispatch } from 'react-redux';\nimport { updateProfile } from '@/store/slices/authSlice';\nimport toast from 'react-hot-toast';\nimport { api } from '@/services/api';\n\nconst VerificationPendingPage = () => {\n  const { user, logout } = useAuth();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [isEditingBatch, setIsEditingBatch] = useState(false);\n  const [newBatch, setNewBatch] = useState(user?.batch || '');\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [isCheckingStatus, setIsCheckingStatus] = useState(false);\n\n  // Check if user is rejected, pending, or blacklisted\n  const isRejected = user?.isRejected;\n  const isPending = user?.pendingVerification;\n  const isBlacklisted = user?.verificationContext?.isBlacklisted;\n  const blacklistInfo = user?.verificationContext?.blacklistInfo;\n\n  const handleLogout = async () => {\n    await logout();\n  };\n\n  // Check verification status and redirect if approved\n  const handleCheckStatus = async () => {\n    setIsCheckingStatus(true);\n    try {\n      const response = await api.get('/auth/me');\n\n      if (response.data.success) {\n        const updatedUser = response.data.data;\n\n        // Update Redux state with fresh user data\n        dispatch(updateProfile(updatedUser));\n\n        // Check if verification is now approved\n        if (updatedUser.isAlumniVerified && !updatedUser.pendingVerification) {\n          toast.success('Your verification has been approved! Redirecting to dashboard...');\n\n          // Redirect based on role\n          setTimeout(() => {\n            if (updatedUser.role === 'DEVELOPER') {\n              navigate('/developer');\n            } else if (updatedUser.role === 'SUPER_ADMIN' || updatedUser.role === 'BATCH_ADMIN') {\n              navigate('/admin/dashboard');\n            } else {\n              navigate('/user/dashboard');\n            }\n          }, 1500);\n        } else if (updatedUser.isRejected) {\n          toast.error('Your verification was rejected. Please check the rejection reason.');\n        } else {\n          toast('Verification is still pending. Please check back later.', { icon: '‚è≥' });\n        }\n      }\n    } catch (error: any) {\n      console.error('Error checking verification status:', error);\n      toast.error('Failed to check status. Please try again.');\n    } finally {\n      setIsCheckingStatus(false);\n    }\n  };\n\n  const handleBatchEdit = () => {\n    setNewBatch(user?.batch || '');\n    setIsEditingBatch(true);\n  };\n\n  const handleCancelEdit = () => {\n    setIsEditingBatch(false);\n    setNewBatch(user?.batch || '');\n  };\n\n  const handleSaveBatch = async () => {\n    if (!newBatch || newBatch === user?.batch) {\n      handleCancelEdit();\n      return;\n    }\n\n    // Validate batch year\n    const batchYear = parseInt(newBatch.toString());\n    if (isNaN(batchYear) || batchYear < 1980 || batchYear > 2030) {\n      toast.error('Please enter a valid batch year between 1980 and 2030');\n      return;\n    }\n\n    setIsUpdating(true);\n    try {\n      // Call the profile update API - this will reset verification status for rejected users\n      const response = await api.put('/users/profile', {\n        batch: batchYear,\n        // If user was rejected, reset their verification status when changing batch\n        resetVerificationStatus: isRejected\n      });\n\n      if (response.data.success) {\n        // Update Redux auth state with new user data\n        if (response.data.data) {\n          dispatch(updateProfile(response.data.data));\n        }\n        \n        const message = isRejected \n          ? 'Batch year updated and verification status reset! Your application will be reviewed again by the correct batch admin.'\n          : 'Batch year updated successfully! Your verification will be reassigned to the correct batch admin.';\n        toast.success(message);\n        setIsEditingBatch(false);\n        \n        // No need to reload - Redux state is updated\n      } else {\n        throw new Error(response.data.message || 'Update failed');\n      }\n    } catch (error: any) {\n      console.error('Batch update error:', error);\n      const errorMessage = error?.response?.data?.message || error?.message || 'Failed to update batch year';\n      toast.error(errorMessage);\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-2xl mx-auto\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"text-center mb-8\"\n        >\n          <div className=\"mx-auto h-20 w-20 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mb-6\">\n            <ClockIcon className=\"h-10 w-10 text-white\" />\n          </div>\n          <h1 className=\"text-4xl font-bold text-gray-900 dark:text-white mb-2\">\n            {isRejected ? 'Verification Status' : 'Verification Pending'}\n          </h1>\n          <p className=\"text-lg text-gray-600 dark:text-gray-300\">\n            {isRejected \n              ? 'Your verification request requires attention' \n              : 'Your alumni status is being reviewed by our administrators'\n            }\n          </p>\n        </motion.div>\n\n        {/* Main Content */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n          className=\"glass-card p-8 mb-6\"\n        >\n          {/* Blacklisted User UI */}\n          {isBlacklisted ? (\n            <div className=\"text-center\">\n              <div className=\"mx-auto h-16 w-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-6\">\n                <XMarkIcon className=\"h-8 w-8 text-red-600 dark:text-red-400\" />\n              </div>\n              <h2 className=\"text-2xl font-semibold text-red-900 dark:text-red-100 mb-4\">\n                Application Rejected\n              </h2>\n              <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 mb-6\">\n                <p className=\"text-red-800 dark:text-red-200 text-lg mb-4\">\n                  Your application has been rejected to create an account with our organisation.\n                </p>\n                <p className=\"text-red-700 dark:text-red-300 mb-4\">\n                  {blacklistInfo?.reason || 'Your registration could not be verified with our alumni records.'}\n                </p>\n                <p className=\"text-red-600 dark:text-red-400 text-sm\">\n                  Please reach out to our admin team for further assistance.\n                </p>\n              </div>\n              <div className=\"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4\">\n                <h4 className=\"text-sm font-medium text-gray-900 dark:text-white mb-2\">\n                  Contact Administration\n                </h4>\n                <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                  For questions or appeals, contact:{' '}\n                  <a href=\"mailto:admin@alumni-portal.com\" className=\"text-blue-600 hover:text-blue-800 underline font-medium\">\n                    admin@alumni-portal.com\n                  </a>\n                </p>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"text-center mb-8\">\n                <h2 className=\"text-2xl font-semibold text-gray-900 dark:text-white mb-4\">\n                  Hello, {user?.fullName}! üëã\n                </h2>\n                <p className=\"text-gray-600 dark:text-gray-300 mb-6\">\n                  Thank you for registering with Alumni Portal. Your account has been created successfully, \n                  but we need to verify your alumni status before you can access all features.\n                </p>\n              </div>\n\n          {/* Status Cards */}\n          <div className=\"space-y-4 mb-8\">\n            {/* Email Verification */}\n            <div className=\"flex items-center p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\n              <div className=\"flex-shrink-0\">\n                <EnvelopeIcon className=\"h-6 w-6 text-green-600 dark:text-green-400\" />\n              </div>\n              <div className=\"ml-4\">\n                <h3 className=\"text-sm font-medium text-green-800 dark:text-green-200\">\n                  Email Verified ‚úÖ\n                </h3>\n                <p className=\"text-sm text-green-700 dark:text-green-300\">\n                  {user?.email}\n                </p>\n              </div>\n            </div>\n\n            {/* Alumni Verification */}\n            <div className={`p-4 ${\n              isRejected \n                ? 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800' \n                : 'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800'\n            } rounded-lg`}>\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <UserGroupIcon className={`h-6 w-6 ${\n                    isRejected \n                      ? 'text-red-600 dark:text-red-400' \n                      : 'text-yellow-600 dark:text-yellow-400'\n                  }`} />\n                </div>\n                <div className=\"ml-4 flex-1\">\n                  <h3 className={`text-sm font-medium ${\n                    isRejected \n                      ? 'text-red-800 dark:text-red-200' \n                      : 'text-yellow-800 dark:text-yellow-200'\n                  }`}>\n                    Alumni Status: {isRejected ? 'Not Approved ‚ùå' : 'Pending Review ‚è≥'}\n                  </h3>\n                  <div className=\"mt-1\">\n                    {!isEditingBatch ? (\n                      <div className=\"flex items-center justify-between\">\n                        <p className={`text-sm ${\n                          isRejected \n                            ? 'text-red-700 dark:text-red-300' \n                            : 'text-yellow-700 dark:text-yellow-300'\n                        }`}>\n                          Batch: {user?.batch} | {isRejected ? 'Verification rejected' : 'Claimed as alumni'}\n                        </p>\n                        <button\n                          onClick={handleBatchEdit}\n                          className={`flex items-center px-3 py-1 text-xs ${\n                            isRejected\n                              ? 'text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200 bg-red-100 dark:bg-red-800/20 hover:bg-red-200 dark:hover:bg-red-800/30 border border-red-300 dark:border-red-600'\n                              : 'text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-200 bg-yellow-100 dark:bg-yellow-800/20 hover:bg-yellow-200 dark:hover:bg-yellow-800/30 border border-yellow-300 dark:border-yellow-600'\n                          } rounded transition-colors`}\n                          title={isRejected ? 'Change batch to retry verification' : 'Edit batch year'}\n                        >\n                          <PencilIcon className=\"h-3 w-3 mr-1\" />\n                          {isRejected ? 'Change Batch' : 'Edit'}\n                        </button>\n                      </div>\n                    ) : (\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm text-yellow-700 dark:text-yellow-300\">Batch:</span>\n                        <input\n                          type=\"number\"\n                          value={newBatch}\n                          onChange={(e) => setNewBatch(e.target.value)}\n                          className=\"w-20 px-2 py-1 text-sm border  border-yellow-300 rounded bg-black focus:outline-none focus:border-yellow-500\"\n                          min=\"1980\"\n                          max=\"2030\"\n                          disabled={isUpdating}\n                        />\n                        <button\n                          onClick={handleSaveBatch}\n                          disabled={isUpdating}\n                          className=\"p-1 text-green-600 hover:text-green-800 transition-colors disabled:opacity-50\"\n                          title=\"Save changes\"\n                        >\n                          <CheckIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={handleCancelEdit}\n                          disabled={isUpdating}\n                          className=\"p-1 text-red-600 hover:text-red-800 transition-colors disabled:opacity-50\"\n                          title=\"Cancel editing\"\n                        >\n                          <XMarkIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n              \n              {/* Rejection Reason Display */}\n              {isRejected && user?.rejectionReason && (\n                <div className=\"mt-3 p-3 bg-red-100 dark:bg-red-800/30 border border-red-200 dark:border-red-700 rounded-md\">\n                  <h4 className=\"text-sm font-medium text-red-800 dark:text-red-200 mb-1\">\n                    Rejection Reason:\n                  </h4>\n                  <p className=\"text-sm text-red-700 dark:text-red-300\">\n                    {user.rejectionReason}\n                  </p>\n                  <p className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                    üí° You can change your batch year above to retry verification with the correct batch admin.\n                  </p>\n                </div>\n              )}\n              \n              {isEditingBatch && (\n                <div className={`mt-3 p-3 ${\n                  isRejected \n                    ? 'bg-red-100 dark:bg-red-800/30' \n                    : 'bg-yellow-100 dark:bg-yellow-800/30'\n                } rounded-md`}>\n                  <p className={`text-xs ${\n                    isRejected \n                      ? 'text-red-700 dark:text-red-300' \n                      : 'text-yellow-700 dark:text-yellow-300'\n                  }`}>\n                    üí° <strong>Note:</strong> {\n                      isRejected \n                        ? 'Changing your batch year will reset your rejection status and submit a new verification request to the correct batch admin.'\n                        : 'Changing your batch year will update which admin reviews your verification. Make sure to enter the correct passout year for proper assignment to batch admins.'\n                    }\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* What's Next */}\n          <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-6\">\n            <h3 className=\"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-4\">\n              {isRejected ? 'What can you do now?' : 'What happens next?'}\n            </h3>\n            <ul className=\"space-y-3 text-blue-800 dark:text-blue-200\">\n              {isRejected ? (\n                <>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      1\n                    </span>\n                    <span>Review the rejection reason above to understand why your verification was not approved</span>\n                  </li>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      2\n                    </span>\n                    <span>If you believe your batch year was incorrect, use the \"Change Batch\" button above to update it</span>\n                  </li>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      3\n                    </span>\n                    <span>Changing your batch will reset your rejection status and submit a new verification request</span>\n                  </li>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      4\n                    </span>\n                    <span>Contact support if you need additional help or have questions about the rejection</span>\n                  </li>\n                </>\n              ) : (\n                <>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      1\n                    </span>\n                    <span>Our administrators will review your registration details and claimed batch information</span>\n                  </li>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      2\n                    </span>\n                    <span>We may cross-reference with existing alumni records and batch information</span>\n                  </li>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      3\n                    </span>\n                    <span>You'll receive an email notification once your alumni status is verified</span>\n                  </li>\n                  <li className=\"flex items-start\">\n                    <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center text-sm font-medium mr-3\">\n                      4\n                    </span>\n                    <span>After verification, you'll have full access to all alumni portal features</span>\n                  </li>\n                </>\n              )}\n            </ul>\n          </div>\n\n          {/* Time Estimate */}\n          <div className=\"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-center\">\n              <ClockIcon className=\"h-5 w-5 text-gray-500 mr-2\" />\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  Estimated Review Time\n                </h4>\n                <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                  Typically 1-3 business days. You'll be notified by email once completed.\n                </p>\n              </div>\n            </div>\n          </div>\n\n              {/* Contact Information */}\n              <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n                <div className=\"flex items-start\">\n                  <ExclamationTriangleIcon className=\"h-5 w-5 text-red-500 mt-0.5 mr-2\" />\n                  <div>\n                    <h4 className=\"text-sm font-medium text-red-800 dark:text-red-200\">\n                      Need to Update Information?\n                    </h4>\n                    <p className=\"text-sm text-red-700 dark:text-red-300 mt-1\">\n                      If you need to correct any information or have questions about the verification process, \n                      please contact our administrators at{' '}\n                      <a href=\"mailto:admin@alumni-portal.com\" className=\"underline font-medium\">\n                        admin@alumni-portal.com\n                      </a>\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </motion.div>\n\n        {/* Actions */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2 }}\n          className=\"flex flex-col sm:flex-row justify-center gap-4\"\n        >\n          {/* Check Verification Status Button - Primary */}\n          <button\n            onClick={handleCheckStatus}\n            disabled={isCheckingStatus}\n            className=\"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-8 py-3 rounded-lg font-medium transition-all flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl\"\n          >\n            {isCheckingStatus ? (\n              <>\n                <ArrowPathIcon className=\"h-5 w-5 mr-2 animate-spin\" />\n                Checking Status...\n              </>\n            ) : (\n              <>\n                <ArrowPathIcon className=\"h-5 w-5 mr-2\" />\n                Check Verification Status\n              </>\n            )}\n          </button>\n\n          {/* Sign Out Button - Secondary */}\n          <button\n            onClick={handleLogout}\n            className=\"bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-medium transition-colors flex items-center justify-center\"\n          >\n            <ArrowRightOnRectangleIcon className=\"h-5 w-5 mr-2\" />\n            Sign Out\n          </button>\n        </motion.div>\n\n        {/* Footer */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.4 }}\n          className=\"text-center mt-8\"\n        >\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n            You'll remain logged in during the verification process.\n            Click \"Check Verification Status\" to see if your account has been approved.\n          </p>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default VerificationPendingPage;"],"names":["VerificationPendingPage","user","logout","useAuth","dispatch","useDispatch","navigate","useNavigate","isEditingBatch","setIsEditingBatch","useState","newBatch","setNewBatch","isUpdating","setIsUpdating","isCheckingStatus","setIsCheckingStatus","isRejected","isBlacklisted","blacklistInfo","handleLogout","handleCheckStatus","response","api","updatedUser","updateProfile","toast","error","handleBatchEdit","handleCancelEdit","handleSaveBatch","batchYear","message","errorMessage","jsxs","motion","jsx","ClockIcon","XMarkIcon","Fragment","EnvelopeIcon","UserGroupIcon","e","CheckIcon","PencilIcon","ExclamationTriangleIcon","ArrowPathIcon","ArrowRightOnRectangleIcon"],"mappings":"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"}