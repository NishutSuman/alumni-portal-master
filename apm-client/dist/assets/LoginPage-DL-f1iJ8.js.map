{"version":3,"file":"LoginPage-DL-f1iJ8.js","sources":["../../src/pages/auth/LoginPage.tsx"],"sourcesContent":["// src/pages/auth/LoginPage.tsx\nimport React, { useState, useEffect } from 'react'\nimport { useAuth } from '@/hooks/useAuth'\nimport { Link, useLocation, useNavigate } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { selectIsDark } from '@/store/slices/themeSlice'\nimport ThemeToggle from '@/components/common/UI/ThemeToggle'\nimport { ArrowLeftIcon, BuildingOfficeIcon } from '@heroicons/react/24/outline'\nimport { getStoredOrgName, clearOrganization } from '@/config/organizations'\nimport toast from 'react-hot-toast'\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [rememberMe, setRememberMe] = useState(false)\n  const { login, isLoading, error } = useAuth()\n  const location = useLocation()\n  const navigate = useNavigate()\n  const isDark = useSelector(selectIsDark)\n\n  // Get current organization name\n  const currentOrgName = getStoredOrgName()\n\n  // Handle change organization\n  const handleChangeOrganization = () => {\n    clearOrganization()\n    window.location.href = '/select-organization'\n  }\n\n  // Check for email verification success\n  useEffect(() => {\n    if (location.state?.emailVerified) {\n      toast.success(location.state.message || 'Email verified successfully! You can now sign in.')\n      if (location.state.email) {\n        setEmail(location.state.email)\n      }\n    }\n  }, [location.state])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    const result = await login({ email, password, rememberMe })\n\n    if (result && result.success) {\n      console.log('Login successful')\n    } else {\n      console.log('Login failed:', result?.error)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20\">\n      {/* Fixed Navbar - Logo and Theme Toggle Only */}\n      <nav className=\"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex items-center justify-between h-16\">\n            {/* Logo */}\n            <Link to=\"/\" className=\"flex items-center h-10\">\n              <img\n                src={isDark ? '/brand/guild-logo-white.png' : '/brand/guild-logo.png'}\n                alt=\"GUILD\"\n                className=\"h-full w-auto object-contain\"\n              />\n            </Link>\n\n            {/* Theme Toggle */}\n            <ThemeToggle />\n          </div>\n        </div>\n      </nav>\n\n      {/* Login Form */}\n      <div className=\"min-h-screen flex items-center justify-center pt-16 px-4\">\n        <div className=\"max-w-md w-full\">\n          {/* Back Button Above Form */}\n          <button\n            onClick={() => navigate('/')}\n            className=\"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors group\"\n          >\n            <ArrowLeftIcon className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform\" />\n            <span>Back to Home</span>\n          </button>\n\n          <div className=\"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 md:p-10\">\n            {/* Current Organization Banner */}\n            {currentOrgName && (\n              <div className=\"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 mb-6 border border-blue-200 dark:border-blue-800\">\n                <div className=\"flex items-center space-x-2\">\n                  <BuildingOfficeIcon className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n                  <span className=\"text-sm font-medium text-blue-700 dark:text-blue-300 truncate max-w-[180px]\">\n                    {currentOrgName}\n                  </span>\n                </div>\n                <button\n                  onClick={handleChangeOrganization}\n                  className=\"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors\"\n                >\n                  Change\n                </button>\n              </div>\n            )}\n\n            {/* Header */}\n            <div className=\"text-center mb-8\">\n              <div className=\"flex justify-center mb-6\">\n                <img\n                  src={isDark ? '/brand/guild-logo-white.png' : '/brand/guild-logo.png'}\n                  alt=\"GUILD\"\n                  className=\"h-20 w-auto object-contain\"\n                />\n              </div>\n              <h1 className=\"text-3xl md:text-4xl font-bold mb-2\">\n                <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600\">\n                  Welcome Back\n                </span>\n              </h1>\n              <p className=\"text-gray-600 dark:text-gray-400\">Sign in to your account</p>\n            </div>\n\n            {/* Success message for email verification */}\n            {location.state?.emailVerified && (\n              <div className=\"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-200 p-4 rounded-xl mb-6 border border-green-200 dark:border-green-800\">\n                <div className=\"flex items-center\">\n                  <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                  </svg>\n                  {location.state.message || 'Email verified successfully! You can now sign in.'}\n                </div>\n              </div>\n            )}\n\n            {error && (\n              <div className=\"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-200 p-4 rounded-xl mb-6 border border-red-200 dark:border-red-800\">\n                {error}\n              </div>\n            )}\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Email Address\n                </label>\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"Enter your email\"\n                  required\n                  disabled={isLoading}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                  placeholder=\"Enter your password\"\n                  required\n                  disabled={isLoading}\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={rememberMe}\n                    onChange={(e) => setRememberMe(e.target.checked)}\n                    className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                    disabled={isLoading}\n                  />\n                  <span className=\"ml-2 text-sm text-gray-700 dark:text-gray-300\">Remember me</span>\n                </label>\n                <Link\n                  to=\"/auth/forgot-password\"\n                  className=\"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors\"\n                >\n                  Forgot password?\n                </Link>\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"w-full py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white rounded-xl font-semibold text-lg hover:shadow-xl hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100\"\n              >\n                {isLoading ? 'Signing in...' : 'Sign In'}\n              </button>\n            </form>\n\n            <div className=\"mt-6 text-center\">\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                Don't have an account?{' '}\n                <Link\n                  to=\"/auth/register\"\n                  className=\"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transition-all\"\n                >\n                  Join GUILD\n                </Link>\n              </p>\n            </div>\n          </div>\n\n          {/* Company Credit */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Powered by{' '}\n              <span className=\"font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600\">\n                Digikite\n              </span>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default LoginPage\n"],"names":["LoginPage","email","setEmail","useState","password","setPassword","rememberMe","setRememberMe","login","isLoading","error","useAuth","location","useLocation","navigate","useNavigate","isDark","useSelector","selectIsDark","currentOrgName","getStoredOrgName","handleChangeOrganization","clearOrganization","useEffect","toast","handleSubmit","e","result","jsxs","jsx","Link","ThemeToggle","ArrowLeftIcon","BuildingOfficeIcon"],"mappings":"0XAWA,MAAMA,EAAY,IAAM,CACtB,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,EAAE,EACrC,CAACG,EAAYC,CAAa,EAAIJ,EAAAA,SAAS,EAAK,EAC5C,CAAE,MAAAK,EAAO,UAAAC,EAAW,MAAAC,CAAA,EAAUC,EAAA,EAC9BC,EAAWC,EAAA,EACXC,EAAWC,EAAA,EACXC,EAASC,EAAYC,CAAY,EAGjCC,EAAiBC,EAAA,EAGjBC,EAA2B,IAAM,CACrCC,EAAA,EACA,OAAO,SAAS,KAAO,sBACzB,EAGAC,EAAAA,UAAU,IAAM,CACVX,EAAS,OAAO,gBAClBY,EAAM,QAAQZ,EAAS,MAAM,SAAW,mDAAmD,EACvFA,EAAS,MAAM,OACjBV,EAASU,EAAS,MAAM,KAAK,EAGnC,EAAG,CAACA,EAAS,KAAK,CAAC,EAEnB,MAAMa,EAAe,MAAOC,GAAuB,CACjDA,EAAE,eAAA,EAEF,MAAMC,EAAS,MAAMnB,EAAM,CAAE,MAAAP,EAAO,SAAAG,EAAU,WAAAE,EAAY,EAEtDqB,GAAUA,EAAO,QACnB,QAAQ,IAAI,kBAAkB,EAE9B,QAAQ,IAAI,gBAAiBA,GAAQ,KAAK,CAE9C,EAEA,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,qIAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,iIACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACb,SAAAD,OAAC,MAAA,CAAI,UAAU,yCAEb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAK,GAAG,IAAI,UAAU,yBACrB,SAAAD,EAAAA,IAAC,MAAA,CACC,IAAKb,EAAS,8BAAgC,wBAC9C,IAAI,QACJ,UAAU,8BAAA,CAAA,EAEd,QAGCe,EAAA,CAAA,CAAY,CAAA,CAAA,CACf,EACF,EACF,QAGC,MAAA,CAAI,UAAU,2DACb,SAAAH,EAAAA,KAAC,MAAA,CAAI,UAAU,kBAEb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMd,EAAS,GAAG,EAC3B,UAAU,sIAEV,SAAA,CAAAe,EAAAA,IAACG,EAAA,CAAc,UAAU,yDAAA,CAA0D,EACnFH,EAAAA,IAAC,QAAK,SAAA,cAAA,CAAY,CAAA,CAAA,CAAA,EAGpBD,EAAAA,KAAC,MAAA,CAAI,UAAU,+DAEZ,SAAA,CAAAT,GACCS,EAAAA,KAAC,MAAA,CAAI,UAAU,mIACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACI,EAAA,CAAmB,UAAU,0CAAA,CAA2C,EACzEJ,EAAAA,IAAC,OAAA,CAAK,UAAU,8EACb,SAAAV,CAAA,CACH,CAAA,EACF,EACAU,EAAAA,IAAC,SAAA,CACC,QAASR,EACT,UAAU,sHACX,SAAA,QAAA,CAAA,CAED,EACF,EAIFO,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,2BACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAKb,EAAS,8BAAgC,wBAC9C,IAAI,QACJ,UAAU,4BAAA,CAAA,EAEd,EACAa,EAAAA,IAAC,MAAG,UAAU,sCACZ,eAAC,OAAA,CAAK,UAAU,0FAA0F,SAAA,cAAA,CAE1G,CAAA,CACF,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,yBAAA,CAAuB,CAAA,EACzE,EAGCjB,EAAS,OAAO,eACfiB,EAAAA,IAAC,MAAA,CAAI,UAAU,wIACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,eAAe,KAAK,eAAe,QAAQ,YACxD,SAAAA,EAAAA,IAAC,OAAA,CAAK,SAAS,UAAU,EAAE,wIAAwI,SAAS,UAAU,EACxL,EACCjB,EAAS,MAAM,SAAW,mDAAA,CAAA,CAC7B,CAAA,CACF,EAGDF,GACCmB,EAAAA,IAAC,MAAA,CAAI,UAAU,4HACZ,SAAAnB,EACH,EAGFkB,EAAAA,KAAC,OAAA,CAAK,SAAUH,EAAc,UAAU,YACtC,SAAA,CAAAG,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,gBAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,MAAO5B,EACP,SAAWyB,GAAMxB,EAASwB,EAAE,OAAO,KAAK,EACxC,UAAU,2MACV,YAAY,mBACZ,SAAQ,GACR,SAAUjB,CAAA,CAAA,CACZ,EACF,SAEC,MAAA,CACC,SAAA,CAAAoB,EAAAA,IAAC,QAAA,CAAM,UAAU,kEAAkE,SAAA,WAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,MAAOzB,EACP,SAAWsB,GAAMrB,EAAYqB,EAAE,OAAO,KAAK,EAC3C,UAAU,2MACV,YAAY,sBACZ,SAAQ,GACR,SAAUjB,CAAA,CAAA,CACZ,EACF,EAEAmB,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,oBACf,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,QAASvB,EACT,SAAWoB,GAAMnB,EAAcmB,EAAE,OAAO,OAAO,EAC/C,UAAU,oEACV,SAAUjB,CAAA,CAAA,EAEZoB,EAAAA,IAAC,OAAA,CAAK,UAAU,gDAAgD,SAAA,aAAA,CAAW,CAAA,EAC7E,EACAA,EAAAA,IAACC,EAAA,CACC,GAAG,wBACH,UAAU,0EACX,SAAA,kBAAA,CAAA,CAED,EACF,EAEAD,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAUpB,EACV,UAAU,yPAET,WAAY,gBAAkB,SAAA,CAAA,CACjC,EACF,QAEC,MAAA,CAAI,UAAU,mBACb,SAAAmB,EAAAA,KAAC,IAAA,CAAE,UAAU,mCAAmC,SAAA,CAAA,yBACvB,IACvBC,EAAAA,IAACC,EAAA,CACC,GAAG,iBACH,UAAU,kJACX,SAAA,YAAA,CAAA,CAED,CAAA,CACF,CAAA,CACF,CAAA,EACF,QAGC,MAAA,CAAI,UAAU,mBACb,SAAAF,EAAAA,KAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,CAAA,aAC3C,IACXC,EAAAA,IAAC,OAAA,CAAK,UAAU,2FAA2F,SAAA,UAAA,CAE3G,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ"}