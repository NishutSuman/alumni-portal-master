{"version":3,"file":"LoginPage-D-q5NbXm.js","sources":["../../src/pages/auth/LoginPage.tsx"],"sourcesContent":["// src/pages/auth/LoginPage.tsx - FIXED undefined result issue\nimport React, { useState, useEffect } from 'react'\nimport { useAuth } from '@/hooks/useAuth'\nimport { Link, useLocation } from 'react-router-dom'\nimport ThemeToggle from '@/components/common/UI/ThemeToggle'\nimport OrganizationLogo from '@/components/common/UI/OrganizationLogo'\nimport toast from 'react-hot-toast'\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [rememberMe, setRememberMe] = useState(false)\n  const { login, isLoading, error } = useAuth()\n  const location = useLocation()\n  \n  // Check for email verification success\n  useEffect(() => {\n    if (location.state?.emailVerified) {\n      toast.success(location.state.message || 'Email verified successfully! You can now sign in.')\n      if (location.state.email) {\n        setEmail(location.state.email)\n      }\n    }\n  }, [location.state])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    const result = await login({ email, password, rememberMe })\n    \n    // FIXED: Now we check if result exists before accessing properties\n    if (result && result.success) {\n      // Navigation is handled in the login function\n      console.log('Login successful')\n    } else {\n      console.log('Login failed:', result?.error)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-guild-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 transition-colors duration-300\">\n      <div className=\"max-w-md w-full mx-4\">\n        {/* Theme toggle in top right */}\n        <div className=\"flex justify-end mb-4\">\n          <ThemeToggle />\n        </div>\n        \n        <div className=\"glass-card p-8\">\n          <div className=\"text-center mb-8\">\n            <div className=\"flex justify-center mb-4\">\n              <OrganizationLogo size=\"2xl\" className=\"flex-shrink-0\" />\n            </div>\n            <h1 className=\"text-3xl font-bold text-gradient-guild mb-2\">Welcome to Alumni Portal</h1>\n            <p className=\"text-gray-600 dark:text-gray-300\">Sign in to your account</p>\n          </div>\n\n          {/* Success message for email verification */}\n          {location.state?.emailVerified && (\n            <div className=\"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-200 p-4 rounded-lg mb-6 border border-green-200 dark:border-green-800\">\n              <div className=\"flex items-center\">\n                <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n                {location.state.message || 'Email verified successfully! You can now sign in.'}\n              </div>\n            </div>\n          )}\n\n          {error && (\n            <div className=\"bg-error-50 dark:bg-error-900/20 text-error-700 dark:text-error-200 p-4 rounded-lg mb-6 border border-error-200 dark:border-error-800\">\n              {error}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"form-label\">Email Address</label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"form-input\"\n                placeholder=\"Enter your email\"\n                required\n                disabled={isLoading}\n              />\n            </div>\n\n            <div>\n              <label className=\"form-label\">Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"form-input\"\n                placeholder=\"Enter your password\"\n                required\n                disabled={isLoading}\n              />\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"remember-me\"\n                  checked={rememberMe}\n                  onChange={(e) => setRememberMe(e.target.checked)}\n                  className=\"h-4 w-4 text-guild-600 rounded border-gray-300 focus:ring-guild-500\"\n                  disabled={isLoading}\n                />\n                <label htmlFor=\"remember-me\" className=\"ml-2 text-sm text-gray-600 dark:text-gray-300\">\n                  Remember me\n                </label>\n              </div>\n              <Link\n                to=\"/auth/forgot-password\"\n                className=\"text-sm text-guild-600 hover:text-guild-500 dark:text-guild-400 dark:hover:text-guild-300\"\n              >\n                Forgot password?\n              </Link>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"btn-guild w-full disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? (\n                <div className=\"flex items-center justify-center\">\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                  Signing in...\n                </div>\n              ) : (\n                'Sign In'\n              )}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n              Don't have an account?{' '}\n              <Link to=\"/auth/register\" className=\"text-guild-600 hover:text-guild-500 dark:text-guild-400 dark:hover:text-guild-300 font-medium\">\n                Join GUILD\n              </Link>\n            </p>\n          </div>\n          \n          <div className=\"mt-4 text-center\">\n            <Link to=\"/\" className=\"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">\n              ‚Üê Back to Homepage\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default LoginPage"],"names":["LoginPage","email","setEmail","useState","password","setPassword","rememberMe","setRememberMe","login","isLoading","error","useAuth","location","useLocation","useEffect","toast","handleSubmit","e","result","jsxs","jsx","ThemeToggle","OrganizationLogo","Link"],"mappings":"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"}